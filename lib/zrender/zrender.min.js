(function(x,Xa){"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.amd?define(["exports"],Xa):Xa(x.zrender={})})(this,function(x){function Xa(a){var b={},c=a.match(/Firefox\/([\d.]+)/),d=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),e=a.match(/Edge\/([\d.]+)/);a=/micromessenger/i.test(a);c&&(b.firefox=!0,b.version=c[1]);d&&(b.ie=!0,b.version=d[1]);e&&(b.edge=!0,b.version=e[1]);a&&(b.weChat=!0);return{browser:b,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!==typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!b.ie&&!b.edge,pointerEventsSupported:"onpointerdown"in window&&(b.edge||b.ie&&11<=b.version),domSupported:"undefined"!==typeof document}}function rb(a){if(null==a||"object"!==typeof a)return a;var b=a,c=sb.call(a);if("[object Array]"===c){if(!a[db])for(var b=[],c=0,d=a.length;c<d;c++)b[c]=rb(a[c])}else if(Je[c]){if(!a[db])if(b=a.constructor,a.constructor.from)b=b.from(a);else for(b=new b(a.length),c=0,d=a.length;c<d;c++)b[c]=rb(a[c])}else if(!Ke[c]&&!a[db]&&!mc(a))for(d in b={},a)a.hasOwnProperty(d)&&(b[d]=rb(a[d]));return b}function za(a,b,c){if(!X(b)||!X(a))return c?rb(b):a;for(var d in b)if(b.hasOwnProperty(d)){var e=a[d],f=b[d];!X(f)||!X(e)||nc(f)||nc(e)||mc(f)||mc(e)||ed(f)||ed(e)||f[db]||e[db]?!c&&d in a||(a[d]=rb(b[d],!0)):za(e,f,c)}return a}function tb(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function fd(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function Le(){oc||(oc=gd().getContext("2d"));return oc}function eb(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return-1}function Y(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype;a.prototype=new c;for(var e in d)d.hasOwnProperty(e)&&(a.prototype[e]=d[e]);a.prototype.constructor=a;a.superClass=b}function Ya(a,b,c){a="prototype"in a?a.prototype:a;b="prototype"in b?b.prototype:b;fd(a,b,c)}function fb(a){if(a)return"string"===typeof a?!1:"number"===typeof a.length}function B(a,b,c){if(a&&b)if(a.forEach&&a.forEach===Vg)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function Me(a,b,c){if(a&&b){if(a.map&&a.map===Wg)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}}function hd(a,b){var c=ub.call(arguments,2);return function(){return a.apply(b,c.concat(ub.call(arguments)))}}function nc(a){return"[object Array]"===sb.call(a)}function pc(a){return"function"===typeof a}function qc(a){return"[object String]"===sb.call(a)}function X(a){var b=typeof a;return"function"===b||!!a&&"object"===b}function ed(a){return!!Ke[sb.call(a)]}function mc(a){return"object"===typeof a&&"number"===typeof a.nodeType&&"object"===typeof a.ownerDocument}function ia(a,b){return null!=a?a:b}function gb(a,b,c){return null!=a?a:null!=b?b:c}function Ne(a){if("number"===typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function S(a){return null==a?null:"function"===typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function rc(a){function b(a,b){c?d.set(a,b):d.set(b,a)}var c=nc(a);this.data={};var d=this;a instanceof rc?a.each(b):a&&B(a,b)}function Oe(){}function ra(a,b){var c=new Pe(2);null==a&&(a=0);null==b&&(b=0);c[0]=a;c[1]=b;return c}function Qe(a){var b=new Pe(2);b[0]=a[0];b[1]=a[1];return b}function id(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function Re(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function jd(a){return Math.sqrt(kd(a))}function kd(a){return a[0]*a[0]+a[1]*a[1]}function sc(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function Se(a,b){var c=jd(b);0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c);return a}function Aa(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function Te(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function I(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}function hb(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}function ja(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}function tc(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this)}function Za(a,b){return{target:a,topTarget:b&&b.topTarget}}function Ue(a,b,c,d,e,f){var g=a._$handlers;"function"===typeof c&&(e=d,d=c,c=null);if(!d||!b)return a;var h=a._$eventProcessor;null!=c&&h&&h.normalizeQuery&&(c=h.normalizeQuery(c));g[b]||(g[b]=[]);for(h=0;h<g[b].length;h++)if(g[b][h].h===d)return a;d={h:d,one:f,query:c,ctx:e||a,callAtLast:d.zrEventfulCallAtLast};e=g[b].length-1;(f=g[b][e])&&f.callAtLast?g[b].splice(e,0,d):g[b].push(d);return a}function ld(a,b,c,d,e,f){var g=d+"-"+e,h=a.length;if(f.hasOwnProperty(g))return f[g];if(1===b)return a[c][Math.round(Math.log((1<<h)-1&~e)/Xg)];for(var k=d|1<<c,l=c+1;d&1<<l;)l++;for(var m=d=0,n=0;m<h;m++){var q=1<<m;q&e||(d+=(n%2?-1:1)*a[c][m]*ld(a,b-1,l,k,e|q,f),n++)}return f[g]=d}function Yg(a,b){var c=[[a[0],a[1],1,0,0,0,-b[0]*a[0],-b[0]*a[1]],[0,0,0,a[0],a[1],1,-b[1]*a[0],-b[1]*a[1]],[a[2],a[3],1,0,0,0,-b[2]*a[2],-b[2]*a[3]],[0,0,0,a[2],a[3],1,-b[3]*a[2],-b[3]*a[3]],[a[4],a[5],1,0,0,0,-b[4]*a[4],-b[4]*a[5]],[0,0,0,a[4],a[5],1,-b[5]*a[4],-b[5]*a[5]],[a[6],a[7],1,0,0,0,-b[6]*a[6],-b[6]*a[7]],[0,0,0,a[6],a[7],1,-b[7]*a[6],-b[7]*a[7]]],d={},e=ld(c,8,0,0,0,d);if(0!==e){for(var f=[],g=0;8>g;g++)for(var h=0;8>h;h++)null==f[h]&&(f[h]=0),f[h]+=((g+h)%2?-1:1)*ld(c,7,0===g?1:0,1<<g,1<<h,d)/e*b[g];return function(a,b,c){var d=b*f[6]+c*f[7]+1;a[0]=(b*f[0]+c*f[1]+f[2])/d;a[1]=(b*f[3]+c*f[4]+f[5])/d}}}function md(a,b,c,d){c=c||{};d||!F.canvasSupported?Ve(a,b,c):F.browser.firefox&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):Ve(a,b,c);return c}function Ve(a,b,c){if(a.getBoundingClientRect&&F.domSupported){var d=b.clientX;b=b.clientY;if("CANVAS"===a.nodeName.toUpperCase()){var e=a.getBoundingClientRect();c.zrX=d-e.left;c.zrY=b-e.top;return}e=a.___zrEVENTSAVED||(a.___zrEVENTSAVED={});var f=e.markers;if(!f)for(var f=e.markers=[],g=["left","right"],h=["top","bottom"],k=0;4>k;k++){var l=document.createElement("div"),m=k%2,n=(k>>1)%2;l.style.cssText=["position:absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","width:0","height:0",g[m]+":0",h[n]+":0",g[1-m]+":auto",h[1-n]+":auto",""].join("!important;");a.appendChild(l);f.push(l)}a=f;f=e.transformer;g=e.srcCoords;h=!0;k=[];l=[];for(m=0;4>m;m++){var q=a[m].getBoundingClientRect(),n=2*m,p=q.left,q=q.top;k.push(p,q);h&=g&&p===g[n]&&q===g[n+1];l.push(a[m].offsetLeft,a[m].offsetTop)}if(e=h?f:(e.srcCoords=k,e.transformer=Yg(k,l))){e(nd,d,b);c.zrX=nd[0];c.zrY=nd[1];return}}c.zrX=c.zrY=0}function Ba(a,b,c){b=b||window.event;if(null!=b.zrX)return b;var d=b.type;d&&0<=d.indexOf("touch")?(d="touchend"!==d?b.targetTouches[0]:b.changedTouches[0])&&md(a,d,b,c):(md(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3);a=b.button;null==b.which&&void 0!==a&&Zg.test(b.type)&&(b.which=a&1?1:a&2?3:a&4?2:0);return b}function We(a,b,c,d){od?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function Xe(a){var b=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(b*b+a*a)}function $g(){Ye(this.event)}function Ze(){}function $e(a,b,c){a=a.painter;return 0>b||b>a.getWidth()||0>c||c>a.getHeight()}function ib(){var a=new ah(6);uc(a);return a}function uc(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function vc(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function Hb(a,b,c){var d=b[1]*c[0]+b[3]*c[1],e=b[0]*c[2]+b[2]*c[3],f=b[1]*c[2]+b[3]*c[3],g=b[0]*c[4]+b[2]*c[5]+b[4],h=b[1]*c[4]+b[3]*c[5]+b[5];a[0]=b[0]*c[0]+b[2]*c[1];a[1]=d;a[2]=e;a[3]=f;a[4]=g;a[5]=h;return a}function wc(a,b,c){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4]+c[0];a[5]=b[5]+c[1];return a}function xc(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3];b=b[5];var k=Math.sin(c);c=Math.cos(c);a[0]=d*c+g*k;a[1]=-d*k+g*c;a[2]=e*c+h*k;a[3]=-e*k+c*h;a[4]=c*f+k*b;a[5]=c*b-k*f;return a}function yc(a,b,c){var d=c[0];c=c[1];a[0]=b[0]*d;a[1]=b[1]*c;a[2]=b[2]*d;a[3]=b[3]*c;a[4]=b[4]*d;a[5]=b[5]*c;return a}function af(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],k=c*g-f*d;if(!k)return null;k=1/k;a[0]=g*k;a[1]=-f*k;a[2]=-d*k;a[3]=c*k;a[4]=(d*h-g*e)*k;a[5]=(f*e-c*h)*k;return a}function $a(a){return 5E-5<a||-5E-5>a}function pd(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null==a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}function Ca(a){a=Math.round(a);return 0>a?0:255<a?255:a}function jb(a){return 0>a?0:1<a?1:a}function qd(a){return a.length&&"%"===a.charAt(a.length-1)?Ca(parseFloat(a)/100*255):Ca(parseInt(a,10))}function kb(a){return a.length&&"%"===a.charAt(a.length-1)?jb(parseFloat(a)/100):jb(parseFloat(a))}function rd(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function Ja(a,b,c){return a+(b-a)*c}function ka(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function sd(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function ab(a,b){zc&&sd(zc,b);zc=bf.put(a,zc||b.slice())}function T(a,b){if(a){b=b||[];var c=bf.get(a);if(c)return sd(b,c);a+="";var d=a.replace(/ /g,"").toLowerCase();if(d in cf)return sd(b,cf[d]),ab(a,b),b;if("#"===d.charAt(0)){if(4===d.length){c=parseInt(d.substr(1),16);if(!(0<=c&&4095>=c)){ka(b,0,0,0,1);return}ka(b,(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,1);ab(a,b);return b}if(7===d.length){c=parseInt(d.substr(1),16);if(0<=c&&16777215>=c)return ka(b,(c&16711680)>>16,(c&65280)>>8,c&255,1),ab(a,b),b;ka(b,0,0,0,1)}}else{var e=d.indexOf("("),f=d.indexOf(")");if(-1!==e&&f+1===d.length)switch(c=d.substr(0,e),d=d.substr(e+1,f-(e+1)).split(","),e=1,c){case "rgba":if(4!==d.length){ka(b,0,0,0,1);return}e=kb(d.pop());case "rgb":if(3!==d.length){ka(b,0,0,0,1);return}ka(b,qd(d[0]),qd(d[1]),qd(d[2]),e);ab(a,b);return b;case "hsla":if(4!==d.length){ka(b,0,0,0,1);return}d[3]=kb(d[3]);td(d,b);ab(a,b);return b;case "hsl":if(3!==d.length){ka(b,0,0,0,1);return}td(d,b);ab(a,b);return b;default:return}ka(b,0,0,0,1)}}}function td(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=kb(a[1]),e=kb(a[2]),d=.5>=e?e*(d+1):e+d-e*d,e=2*e-d;b=b||[];ka(b,Ca(255*rd(e,d,c+1/3)),Ca(255*rd(e,d,c)),Ca(255*rd(e,d,c-1/3)),1);4===a.length&&(b[3]=a[3]);return b}function df(a){if(a=T(a))return(16777216+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}function ef(a,b,c){if(b&&b.length&&0<=a&&1>=a){c=c||[];var d=a*(b.length-1),e=Math.floor(d);a=b[e];b=b[Math.ceil(d)];d-=e;c[0]=Ca(Ja(a[0],b[0],d));c[1]=Ca(Ja(a[1],b[1],d));c[2]=Ca(Ja(a[2],b[2],d));c[3]=jb(Ja(a[3],b[3],d));return c}}function ff(a,b,c){if(b&&b.length&&0<=a&&1>=a){a*=b.length-1;var d=Math.floor(a),e=Math.ceil(a),f=T(b[d]);b=T(b[e]);var g=a-d,f=Ib([Ca(Ja(f[0],b[0],g)),Ca(Ja(f[1],b[1],g)),Ca(Ja(f[2],b[2],g)),jb(Ja(f[3],b[3],g))],"rgba");return c?{color:f,leftIndex:d,rightIndex:e,value:a}:f}}function Ib(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];if("rgba"===b||"hsva"===b||"hsla"===b)c+=","+a[3];return b+"("+c+")"}}function bh(a,b){return a[b]}function ch(a,b,c){a[b]=c}function gf(a,b,c,d,e){var f=a.length;if(1===e)for(e=0;e<f;e++){var g=a[e];d[e]=(b[e]-g)*c+g}else for(g=f&&a[0].length,e=0;e<f;e++)for(var h=0;h<g;h++){var k=a[e][h];d[e][h]=(b[e][h]-k)*c+k}}function hf(a,b,c){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(;d<e;d++)a.push(1===c?b[d]:ud.call(b[d]));e=a[0]&&a[0].length;for(d=0;d<a.length;d++)if(1===c)isNaN(a[d])&&(a[d]=b[d]);else for(var f=0;f<e;f++)isNaN(a[d][f])&&(a[d][f]=b[d][f])}function dh(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;if(1===c)for(c=0;c<d;c++){if(a[c]!==b[c])return!1}else{var e=a[0].length;for(c=0;c<d;c++)for(var f=0;f<e;f++)if(a[c][f]!==b[c][f])return!1}return!0}function jf(a,b,c,d,e,f,g,h,k){var l=a.length;if(1===k)for(k=0;k<l;k++)h[k]=vd(a[k],b[k],c[k],d[k],e,f,g);else{var m=a[0].length;for(k=0;k<l;k++)for(var n=0;n<m;n++)h[k][n]=vd(a[k][n],b[k][n],c[k][n],d[k][n],e,f,g)}}function vd(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function eh(a){if(fb(a)){var b=a.length;if(fb(a[0])){for(var c=[],d=0;d<b;d++)c.push(ud.call(a[d]));return c}return ud.call(a)}return a}function kf(a){a[0]=Math.floor(a[0]);a[1]=Math.floor(a[1]);a[2]=Math.floor(a[2]);return"rgba("+a.join(",")+")"}function fh(a){a=a[a.length-1].value;return fb(a&&a[0])?2:1}function gh(a,b,c,d,e,f){var g=a._getter,h=a._setter,k="spline"===b,l=d.length;if(l){var m=fb(d[0].value),n=!1,q=!1,p=m?fh(d):0,u;d.sort(function(a,b){return a.time-b.time});u=d[l-1].time;for(var v=[],t=[],r=d[0].value,K=!0,w=0;w<l;w++){v.push(d[w].time/u);var y=d[w].value;m&&dh(y,r,p)||!m&&y===r||(K=!1);r=y;if("string"===typeof y){var x=T(y);x?(y=x,n=!0):q=!0}t.push(y)}if(f||!K){d=t[l-1];for(w=0;w<l-1;w++)m?hf(t[w],d,p):!isNaN(t[w])||isNaN(d)||q||n||(t[w]=d);m&&hf(g(a._target,e),d,p);var z=0,G=0,E,D,C,A,B,H;if(n)var I=[0,0,0,0];a=new pd({target:a._target,life:u,loop:a._loop,delay:a._delay,onframe:function(a,b){var c;if(0>b)c=0;else if(b<G){for(c=E=Math.min(z+1,l-1);0<=c&&!(v[c]<=b);c--);c=Math.min(c,l-2)}else{for(c=z;c<l&&!(v[c]>b);c++);c=Math.min(c-1,l-2)}z=c;G=b;var d=v[c+1]-v[c];if(0!==d)if(D=(b-v[c])/d,k)if(A=t[c],C=t[0===c?c:c-1],B=t[c>l-2?l-1:c+1],H=t[c>l-3?l-1:c+2],m)jf(C,A,B,H,D,D*D,D*D*D,g(a,e),p);else{if(n)jf(C,A,B,H,D,D*D,D*D*D,I,1),c=kf(I);else{if(q)return.5<D?B:A;c=vd(C,A,B,H,D,D*D,D*D*D)}h(a,e,c)}else if(m)gf(t[c],t[c+1],D,g(a,e),p);else{if(n)gf(t[c],t[c+1],D,I,1),c=kf(I);else{if(q)return.5<D?t[c+1]:t[c];d=t[c];c=(t[c+1]-d)*D+d}h(a,e,c)}},ondestroy:c});b&&"spline"!==b&&(a.easing=b);return a}}}function lf(a,b,c,d,e,f,g,h){function k(){l--;l||f&&f()}qc(d)?(f=e,e=d,d=0):pc(e)?(f=e,e="linear",d=0):pc(d)?(f=d,d=0):pc(c)?(f=c,c=500):c||(c=500);a.stopAnimation();mf(a,"",a,b,c,d,h);a=a.animators.slice();var l=a.length;l||f&&f();for(b=0;b<a.length;b++)a[b].done(k).start(e,g)}function mf(a,b,c,d,e,f,g){var h={},k=0,l;for(l in d)d.hasOwnProperty(l)&&(null!=c[l]?X(d[l])&&!fb(d[l])?mf(a,b?b+"."+l:l,c[l],d[l],e,f,g):(g?(h[l]=c[l],nf(a,b,l,d[l])):h[l]=d[l],k++):null==d[l]||g||nf(a,b,l,d[l]));0<k&&a.animate(b,!1).when(null==e?500:e,h).delay(f||0)}function nf(a,b,c,d){if(b){var e={};e[b]={};e[b][c]=d;a.attr(e)}else a.attr(c,d)}function L(a,b,c,d){0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);this.x=a;this.y=b;this.width=c;this.height=d}function of(a,b,c,d){var e=b+1;if(e===c)return 1;if(0>d(a[e++],a[b])){for(;e<c&&0>d(a[e],a[e-1]);)e++;c=b;d=e;for(d--;c<d;){var f=a[c];a[c++]=a[d];a[d--]=f}}else for(;e<c&&0<=d(a[e],a[e-1]);)e++;return e-b}function pf(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f=a[d],g=b,h=d,k;g<h;)k=g+h>>>1,0>e(f,a[k])?h=k:g=k+1;h=d-g;switch(h){case 3:a[g+3]=a[g+2];case 2:a[g+2]=a[g+1];case 1:a[g+1]=a[g];break;default:for(;0<h;)a[g+h]=a[g+h-1],h--}a[g]=f}}function wd(a,b,c,d,e,f){var g=0,h=1;if(0<f(a,b[c+e])){for(d-=e;h<d&&0<f(a,b[c+e+h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);g+=e;h+=e}else{for(d=e+1;h<d&&0>=f(a,b[c+e-h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);d=g;g=e-h;h=e-d}for(g++;g<h;)e=g+(h-g>>>1),0<f(a,b[c+e])?g=e+1:h=e;return h}function xd(a,b,c,d,e,f){var g=0,h=1;if(0>f(a,b[c+e])){for(d=e+1;h<d&&0>f(a,b[c+e-h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);d=g;g=e-h;h=e-d}else{for(d-=e;h<d&&0<=f(a,b[c+e+h]);)g=h,h=(h<<1)+1,0>=h&&(h=d);h>d&&(h=d);g+=e;h+=e}for(g++;g<h;)e=g+(h-g>>>1),0>f(a,b[c+e])?h=e:g=e+1;return h}function hh(a,b){function c(c){var k=e[c],m=f[c],n=e[c+1],q=f[c+1];f[c]=m+q;c===g-3&&(e[c+1]=e[c+2],f[c+1]=f[c+2]);g--;c=xd(a[n],a,k,m,0,b);k+=c;m-=c;if(0!==m&&(q=wd(a[k+m-1],a,n,q,q-1,b),0!==q))if(m<=q){for(var p=k,k=m,m=q,q=0;q<k;q++)h[q]=a[p+q];c=0;a[p++]=a[n++];if(0===--m)for(q=0;q<k;q++)a[p+q]=h[c+q];else if(1===k){for(q=0;q<m;q++)a[p+q]=a[n+q];a[p+m]=h[c]}else{for(var u=d,v,t,r;;){t=v=0;r=!1;do if(0>b(a[n],h[c])){if(a[p++]=a[n++],t++,v=0,0===--m){r=!0;break}}else if(a[p++]=h[c++],v++,t=0,1===--k){r=!0;break}while((v|t)<u);if(r)break;do{v=xd(a[n],h,c,k,0,b);if(0!==v){for(q=0;q<v;q++)a[p+q]=h[c+q];p+=v;c+=v;k-=v;if(1>=k){r=!0;break}}a[p++]=a[n++];if(0===--m){r=!0;break}t=wd(h[c],a,n,m,0,b);if(0!==t){for(q=0;q<t;q++)a[p+q]=a[n+q];p+=t;n+=t;m-=t;if(0===m){r=!0;break}}a[p++]=h[c++];if(1===--k){r=!0;break}u--}while(7<=v||7<=t);if(r)break;0>u&&(u=0);u+=2}d=u;1>d&&(d=1);if(1===k){for(q=0;q<m;q++)a[p+q]=a[n+q];a[p+m]=h[c]}else{if(0===k)throw Error();for(q=0;q<k;q++)a[p+q]=h[c+q]}}}else{for(c=0;c<q;c++)h[c]=a[n+c];p=k+m-1;u=q-1;n=n+q-1;a[n--]=a[p--];if(0===--m)for(v=n-(q-1),c=0;c<q;c++)a[v+c]=h[c];else if(1===q){n-=m;t=n+1;v=p-m+1;for(c=m-1;0<=c;c--)a[t+c]=a[v+c];a[n]=h[u]}else{for(r=d;;){var K=0,w=0,y=!1;do if(0>b(h[u],a[p])){if(a[n--]=a[p--],K++,w=0,0===--m){y=!0;break}}else if(a[n--]=h[u--],w++,K=0,1===--q){y=!0;break}while((K|w)<r);if(y)break;do{K=m-xd(h[u],a,k,m,m-1,b);if(0!==K){n-=K;p-=K;m-=K;t=n+1;v=p+1;for(c=K-1;0<=c;c--)a[t+c]=a[v+c];if(0===m){y=!0;break}}a[n--]=h[u--];if(1===--q){y=!0;break}w=q-wd(a[p],h,0,q,q-1,b);if(0!==w){n-=w;u-=w;q-=w;t=n+1;v=u+1;for(c=0;c<w;c++)a[t+c]=h[v+c];if(1>=q){y=!0;break}}a[n--]=a[p--];if(0===--m){y=!0;break}r--}while(7<=K||7<=w);if(y)break;0>r&&(r=0);r+=2}d=r;1>d&&(d=1);if(1===q){n-=m;t=n+1;v=p-m+1;for(c=m-1;0<=c;c--)a[t+c]=a[v+c];a[n]=h[u]}else{if(0===q)throw Error();v=n-(q-1);for(c=0;c<q;c++)a[v+c]=h[c]}}}}var d=7,e,f,g=0,h=[];e=[];f=[];this.mergeRuns=function(){for(;1<g;){var a=g-2;if(1<=a&&f[a-1]<=f[a]+f[a+1]||2<=a&&f[a-2]<=f[a]+f[a-1])f[a-1]<f[a+1]&&a--;else if(f[a]>f[a+1])break;c(a)}};this.forceMergeRuns=function(){for(;1<g;){var a=g-2;0<a&&f[a-1]<f[a+1]&&a--;c(a)}};this.pushRun=function(a,b){e[g]=a;f[g]=b;g+=1}}function yd(a,b,c,d){c||(c=0);d||(d=a.length);var e=d-c;if(!(2>e)){var f;if(32>e)f=of(a,c,d,b),pf(a,c,d,c+f,b);else{var g=new hh(a,b),h;f=e;for(h=0;32<=f;)h|=f&1,f>>=1;h=f+h;do{f=of(a,c,d,b);if(f<h){var k=e;k>h&&(k=h);pf(a,c,c+k,c+f,b);f=k}g.pushRun(c,f);g.mergeRuns();e-=f;c+=f}while(0!==e);g.forceMergeRuns()}}}function qf(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function ih(a,b,c){var d=null==b.x?0:b.x,e=null==b.x2?1:b.x2,f=null==b.y?0:b.y,g=null==b.y2?0:b.y2;b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y);d=isNaN(d)?0:d;e=isNaN(e)?1:e;f=isNaN(f)?0:f;g=isNaN(g)?0:g;return a.createLinearGradient(d,f,e,g)}function jh(a,b,c){var d=c.width,e=c.height,f=Math.min(d,e),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,k=null==b.r?.5:b.r;b.global||(g=g*d+c.x,h=h*e+c.y,k*=f);return a.createRadialGradient(g,h,0,g,h,k)}function kh(){return!1}function rf(a,b,c){var d=gd(),e=b.getWidth();b=b.getHeight();var f=d.style;f&&(f.position="absolute",f.left=0,f.top=0,f.width=e+"px",f.height=b+"px",d.setAttribute("data-zr-dom-id",a));d.width=e*c;d.height=b*c;return d}function sf(a,b,c,d,e){if(a){if("string"===typeof a){if(b&&b.__zrImageSrc===a||!c)return b;var f=zd.get(a);c={hostEl:c,cb:d,cbPayload:e};f?(b=f.image)&&b.width&&b.height||f.pending.push(c):(b=new Image,b.onload=b.onerror=lh,zd.put(a,b.__cachedImgObj={image:b,pending:[c]}),b.src=b.__zrImageSrc=a);return b}return a}return b}function lh(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload);c.hostEl.dirty()}a.pending.length=0}function mh(a,b){tf[a]=b}function P(a,b){b=b||"12px sans-serif";var c=a+":"+b;if(Ac[c])return Ac[c];for(var d=(a+"").split("\n"),e=0,f=0,g=d.length;f<g;f++)e=Math.max(tf.measureText(d[f],b).width,e);5E3<Ad&&(Ad=0,Ac={});Ad++;return Ac[c]=e}function Bc(a,b,c,d,e,f,g,h){g?(e=Bd(a,{rich:g,truncate:h,font:b,textAlign:c,textPadding:e,textLineHeight:f}),f=e.outerWidth,e=e.outerHeight,c=vb(0,f,c),d=wb(0,e,d),d=new L(c,d,f,e)):(f=Cd(a,b,e,f,h),a=P(a,b),e&&(a+=e[1]+e[3]),e=f.outerHeight,c=vb(0,a,c),d=wb(0,e,d),d=new L(c,d,a,e),d.lineHeight=f.lineHeight);return d}function vb(a,b,c){"right"===c?a-=b:"center"===c&&(a-=b/2);return a}function wb(a,b,c){"middle"===c?a-=b/2:"bottom"===c&&(a-=b);return a}function Dd(a,b,c){var d=b.textPosition;b=b.textDistance;var e=c.x,f=c.y;b=b||0;var g=c.height;c=c.width;var h=g/2,k="left",l="top";switch(d){case "left":e-=b;f+=h;k="right";l="middle";break;case "right":e+=b+c;f+=h;l="middle";break;case "top":e+=c/2;f-=b;k="center";l="bottom";break;case "bottom":e+=c/2;f+=g+b;k="center";break;case "inside":e+=c/2;f+=h;k="center";l="middle";break;case "insideLeft":e+=b;f+=h;l="middle";break;case "insideRight":e+=c-b;f+=h;k="right";l="middle";break;case "insideTop":e+=c/2;f+=b;k="center";break;case "insideBottom":e+=c/2;f+=g-b;k="center";l="bottom";break;case "insideTopLeft":e+=b;f+=b;break;case "insideTopRight":e+=c-b;f+=b;k="right";break;case "insideBottomLeft":e+=b;f+=g-b;l="bottom";break;case "insideBottomRight":e+=c-b,f+=g-b,k="right",l="bottom"}a=a||{};a.x=e;a.y=f;a.textAlign=k;a.textVerticalAlign=l;return a}function uf(a,b,c,d,e){if(!b)return"";a=(a+"").split("\n");e=vf(b,c,d,e);b=0;for(c=a.length;b<c;b++)a[b]=wf(a[b],e);return a.join("\n")}function vf(a,b,c,d){d=tb({},d);d.font=b;c=ia(c,"...");d.maxIterations=ia(d.maxIterations,2);var e=d.minChar=ia(d.minChar,0);d.cnCharWidth=P("\u56fd",b);var f=d.ascCharWidth=P("a",b);d.placeholder=ia(d.placeholder,"");for(var g=a=Math.max(0,a-1),h=0;h<e&&g>=f;h++)g-=f;b=P(c,b);b>g&&(c="",b=0);d.ellipsis=c;d.ellipsisWidth=b;d.contentWidth=a-b;d.containerWidth=a;return d}function wf(a,b){var c=b.containerWidth,d=b.font,e=b.contentWidth;if(!c)return"";var f=P(a,d);if(f<=c)return a;for(c=0;;c++){if(f<=e||c>=b.maxIterations){a+=b.ellipsis;break}if(0===c){for(var f=a,g=e,h=b.ascCharWidth,k=b.cnCharWidth,l=0,m=0,n=f.length;m<n&&l<g;m++)var q=f.charCodeAt(m),l=l+(0<=q&&127>=q?h:k);f=m}else f=0<f?Math.floor(a.length*e/f):0;a=a.substr(0,f);f=P(a,d)}""===a&&(a=b.placeholder);return a}function Cd(a,b,c,d,e){null!=a&&(a+="");d=ia(d,P("\u56fd",b));var f=a?a.split("\n"):[],g=f.length*d,h=g,k=!0;c&&(h+=c[0]+c[2]);if(a&&e){k=!1;a=e.outerHeight;var l=e.outerWidth;if(null!=a&&h>a)f=[];else if(null!=l)for(b=vf(l-(c?c[1]+c[3]:0),b,e.ellipsis,{minChar:e.minChar,placeholder:e.placeholder}),c=0,e=f.length;c<e;c++)f[c]=wf(f[c],b)}return{lines:f,height:g,outerHeight:h,lineHeight:d,canCacheByTextString:k}}function Bd(a,b){var c={lines:[],width:0,height:0};null!=a&&(a+="");if(!a)return c;for(var d=Ed.lastIndex=0,e;null!=(e=Ed.exec(a));){var f=e.index;f>d&&Fd(c,a.substring(d,f));Fd(c,e[2],e[1]);d=Ed.lastIndex}d<a.length&&Fd(c,a.substring(d,a.length));var d=c.lines,f=e=0,g=[],h=b.textPadding,k=b.truncate,l=k&&k.outerWidth,m=k&&k.outerHeight;h&&(null!=l&&(l-=h[1]+h[3]),null!=m&&(m-=h[0]+h[2]));for(var n=0;n<d.length;n++){for(var q=d[n],p=0,u=0,v=0;v<q.tokens.length;v++){var t=q.tokens[v],r=t.styleName&&b.rich[t.styleName]||{},K=t.textPadding=r.textPadding,w=t.font=r.font||b.font,y=t.textHeight=ia(r.textHeight,P("\u56fd",w));K&&(y+=K[0]+K[2]);t.height=y;t.lineHeight=gb(r.textLineHeight,b.textLineHeight,y);t.textAlign=r&&r.textAlign||b.textAlign;t.textVerticalAlign=r&&r.textVerticalAlign||"middle";if(null!=m&&e+t.lineHeight>m)return{lines:[],width:0,height:0};t.textWidth=P(t.text,w);var x=r.textWidth,z=null==x||"auto"===x;if("string"===typeof x&&"%"===x.charAt(x.length-1))t.percentWidth=x,g.push(t),x=0;else{if(z){var x=t.textWidth,G=r.textBackgroundColor;if(G=G&&G.image)"string"===typeof G&&(G=(G=zd.get(G))&&G.image),G&&G.width&&G.height&&(x=Math.max(x,G.width*y/G.height))}K=K?K[1]+K[3]:0;x+=K;y=null!=l?l-u:null;null!=y&&y<x&&(!z||y<K?(t.text="",t.textWidth=x=0):(t.text=uf(t.text,y-K,w,k.ellipsis,{minChar:k.minChar}),t.textWidth=P(t.text,w),x=t.textWidth+K))}u+=t.width=x;r&&(p=Math.max(p,t.lineHeight))}q.width=u;q.lineHeight=p;e+=p;f=Math.max(f,u)}c.outerWidth=c.width=ia(b.textWidth,f);c.outerHeight=c.height=ia(b.textHeight,e);h&&(c.outerWidth+=h[1]+h[3],c.outerHeight+=h[0]+h[2]);for(n=0;n<g.length;n++)t=g[n],t.width=parseInt(t.percentWidth,10)/100*f;return c}function Fd(a,b,c){var d=""===b;b=b.split("\n");a=a.lines;for(var e=0;e<b.length;e++){var f=b[e],g={styleName:c,text:f,isLineHolder:!f&&!d};if(e)a.push({tokens:[g]});else{var h=(a[a.length-1]||(a[0]={tokens:[]})).tokens,k=h.length;1===k&&h[0].isLineHolder?h[0]=g:(f||!k||d)&&h.push(g)}}}function xf(a){var b=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");return b&&S(b)||a.textFont||a.font}function yf(a,b){var c=b.x,d=b.y,e=b.width,f=b.height,g=b.r,h,k,l,m;0>e&&(c+=e,e=-e);0>f&&(d+=f,f=-f);"number"===typeof g?h=k=l=m=g:g instanceof Array?1===g.length?h=k=l=m=g[0]:2===g.length?(h=l=g[0],k=m=g[1]):3===g.length?(h=g[0],k=m=g[1],l=g[2]):(h=g[0],k=g[1],l=g[2],m=g[3]):h=k=l=m=0;h+k>e&&(g=h+k,h*=e/g,k*=e/g);l+m>e&&(g=l+m,l*=e/g,m*=e/g);k+l>f&&(g=k+l,k*=f/g,l*=f/g);h+m>f&&(g=h+m,h*=f/g,m*=f/g);a.moveTo(c+h,d);a.lineTo(c+e-k,d);0!==k&&a.arc(c+e-k,d+k,k,-Math.PI/2,0);a.lineTo(c+e,d+f-l);0!==l&&a.arc(c+e-l,d+f-l,l,0,Math.PI/2);a.lineTo(c+m,d+f);0!==m&&a.arc(c+m,d+f-m,m,Math.PI/2,Math.PI);a.lineTo(c,d+h);0!==h&&a.arc(c+h,d+h,h,Math.PI,1.5*Math.PI)}function Jb(a){zf(a);B(a.rich,zf);return a}function zf(a){if(a){a.font=xf(a);var b=a.textAlign;"middle"===b&&(b="center");a.textAlign=null==b||nh[b]?b:"left";b=a.textVerticalAlign||a.textBaseline;"center"===b&&(b="middle");a.textVerticalAlign=null==b||oh[b]?b:"top";a.textPadding&&(a.textPadding=Ne(a.textPadding))}}function Af(a,b,c,d,e,f){var g=Gd(d),h,k=!1,l=b.__attrCachedBy===Ka.PLAIN_TEXT;9!==f?(f&&(h=f.style,k=!g&&l&&h),b.__attrCachedBy=g?Ka.NONE:Ka.PLAIN_TEXT):l&&(b.__attrCachedBy=Ka.NONE);f=d.font||"12px sans-serif";k&&f===(h.font||"12px sans-serif")||(b.font=f);var m=a.__computedFont;a.__styleFont!==f&&(a.__styleFont=f,m=a.__computedFont=b.font);var n=d.textPadding;f=d.textLineHeight;l=a.__textCotentBlock;if(!l||a.__dirtyText)l=a.__textCotentBlock=Cd(c,m,n,f,d.truncate);var q=l.outerHeight;f=l.lines;var l=l.lineHeight,p=Hd(Bf,a,d,e),u=p.baseX,v=p.baseY,t=p.textAlign||"left",p=p.textVerticalAlign;Cf(b,d,e,u,v);p=wb(v,q,p);e=u;v=p;if(g||n)c=P(c,m),n&&(c+=n[1]+n[3]),m=vb(u,c,t),g&&Id(a,b,d,m,p,c,q),n&&(e=Df(u,t,n),v+=n[0]);b.textAlign=t;b.textBaseline="middle";b.globalAlpha=d.opacity||1;for(a=0;a<Ef.length;a++)g=Ef[a],c=g[0],n=g[1],m=d[c],k&&m===h[c]||(b[n]=Jd(b,n,m||g[2]));v+=l/2;a=d.textStrokeWidth;g=k?h.textStrokeWidth:null;n=!k||a!==g;m=!k||n||d.textStroke!==h.textStroke;g=Kd(d.textStroke,a);c=Ff(d.textFill);g&&(n&&(b.lineWidth=a),m&&(b.strokeStyle=g));!c||k&&d.textFill===h.textFill||(b.fillStyle=c);if(1===f.length)g&&b.strokeText(f[0],e,v),c&&b.fillText(f[0],e,v);else for(a=0;a<f.length;a++)g&&b.strokeText(f[a],e,v),c&&b.fillText(f[a],e,v),v+=l}function Gf(a,b,c,d,e,f){9!==f&&(b.__attrCachedBy=Ka.NONE);f=a.__textCotentBlock;if(!f||a.__dirtyText)f=a.__textCotentBlock=Bd(c,d);c=f;f=c.width;var g=c.outerWidth,h=c.outerHeight,k=d.textPadding,l=Hd(Bf,a,d,e),m=l.baseX,n=l.baseY,q=l.textAlign,l=l.textVerticalAlign;Cf(b,d,e,m,n);m=vb(m,g,q);q=wb(n,h,l);e=m;n=q;k&&(e+=k[3],n+=k[0]);k=e+f;Gd(d)&&Id(a,b,d,m,q,g,h);for(g=0;g<c.lines.length;g++){for(var l=c.lines[g],h=l.tokens,m=h.length,q=l.lineHeight,l=l.width,p=0,u=e,v=k,t=m-1,r;p<m&&(r=h[p],!r.textAlign||"left"===r.textAlign);)Ld(a,b,r,d,q,n,u,"left"),l-=r.width,u+=r.width,p++;for(;0<=t&&(r=h[t],"right"===r.textAlign);)Ld(a,b,r,d,q,n,v,"right"),l-=r.width,v-=r.width,t--;for(u+=(f-(u-e)-(k-v)-l)/2;p<=t;)r=h[p],Ld(a,b,r,d,q,n,u+r.width/2,"center"),u+=r.width,p++;n+=q}}function Cf(a,b,c,d,e){if(c&&b.textRotation){var f=b.textOrigin;"center"===f?(d=c.width/2+c.x,e=c.height/2+c.y):f&&(d=f[0]+c.x,e=f[1]+c.y);a.translate(d,e);a.rotate(-b.textRotation);a.translate(-d,-e)}}function Ld(a,b,c,d,e,f,g,h){var k=d.rich[c.styleName]||{};k.text=c.text;var l=c.textVerticalAlign,m=f+e/2;"top"===l?m=f+c.height/2:"bottom"===l&&(m=f+e-c.height/2);!c.isLineHolder&&Gd(k)&&Id(a,b,k,"right"===h?g-c.width:"center"===h?g-c.width/2:g,m-c.height/2,c.width,c.height);if(a=c.textPadding)g=Df(g,h,a),m-=c.height/2-a[2]-c.textHeight/2;M(b,"shadowBlur",gb(k.textShadowBlur,d.textShadowBlur,0));M(b,"shadowColor",k.textShadowColor||d.textShadowColor||"transparent");M(b,"shadowOffsetX",gb(k.textShadowOffsetX,d.textShadowOffsetX,0));M(b,"shadowOffsetY",gb(k.textShadowOffsetY,d.textShadowOffsetY,0));M(b,"textAlign",h);M(b,"textBaseline","middle");M(b,"font",c.font||"12px sans-serif");h=Kd(k.textStroke||d.textStroke,n);a=Ff(k.textFill||d.textFill);var n=ia(k.textStrokeWidth,d.textStrokeWidth);h&&(M(b,"lineWidth",n),M(b,"strokeStyle",h),b.strokeText(c.text,g,m));a&&(M(b,"fillStyle",a),b.fillText(c.text,g,m))}function Gd(a){return!!(a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor)}function Id(a,b,c,d,e,f,g){var h=c.textBackgroundColor,k=c.textBorderWidth,l=c.textBorderColor,m=qc(h);M(b,"shadowBlur",c.textBoxShadowBlur||0);M(b,"shadowColor",c.textBoxShadowColor||"transparent");M(b,"shadowOffsetX",c.textBoxShadowOffsetX||0);M(b,"shadowOffsetY",c.textBoxShadowOffsetY||0);if(m||k&&l){b.beginPath();var n=c.textBorderRadius;n?yf(b,{x:d,y:e,width:f,height:g,r:n}):b.rect(d,e,f,g);b.closePath()}m?(M(b,"fillStyle",h),null!=c.fillOpacity?(a=b.globalAlpha,b.globalAlpha=c.fillOpacity*c.opacity,b.fill(),b.globalAlpha=a):b.fill()):X(h)&&(m=h.image,(m=sf(m,null,a,ph,h))&&m&&m.width&&m.height&&b.drawImage(m,d,e,f,g));k&&l&&(M(b,"lineWidth",k),M(b,"strokeStyle",l),null!=c.strokeOpacity?(a=b.globalAlpha,b.globalAlpha=c.strokeOpacity*c.opacity,b.stroke(),b.globalAlpha=a):b.stroke())}function ph(a,b){b.image=a}function Hd(a,b,c,d){var e=c.x||0,f=c.y||0,g=c.textAlign,h=c.textVerticalAlign;d&&(f=c.textPosition,f instanceof Array?(e=d.x+Md(f[0],d.width),f=d.y+Md(f[1],d.height)):(b=b&&b.calculateTextPosition?b.calculateTextPosition(Hf,c,d):Dd(Hf,c,d),e=b.x,f=b.y,g=g||b.textAlign,h=h||b.textVerticalAlign),c=c.textOffset)&&(e+=c[0],f+=c[1]);a=a||{};a.baseX=e;a.baseY=f;a.textAlign=g;a.textVerticalAlign=h;return a}function M(a,b,c){a[b]=Jd(a,b,c);return a[b]}function Kd(a,b){return null==a||0>=b||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function Ff(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function Md(a,b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a}function Df(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function Nd(a,b){return null!=a&&(a||b.textBackgroundColor||b.textBorderWidth&&b.textBorderColor||b.textPadding)}function R(a){a=a||{};Da.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new La(a.style,this);this.__clipPaths=this._rect=null}function sa(a){R.call(this,a)}function qh(a,b){if(a===b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}function If(a){return"mousewheel"===a&&F.browser.firefox?"DOMMouseScroll":a}function Od(a){a=a.pointerType;return"pen"===a||"touch"===a}function rh(a){a.touching=!0;null!=a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null);a.touchTimer=setTimeout(function(){a.touching=!1;a.touchTimer=null},700)}function Jf(a,b){var c=!1;do b=b&&b.parentNode;while(b&&9!==b.nodeType&&!(c=b===a.painterRoot));return c}function Kf(a,b){this.type=b.type;this.target=this.currentTarget=a.dom;this.pointerType=b.pointerType;this.clientX=b.clientX;this.clientY=b.clientY}function sh(a,b){var c=b.domHandlers;F.pointerEventsSupported?B(Pd.pointer,function(d){Cc(b,d,function(b){c[d].call(a,b)})}):(F.touchEventsSupported&&B(Pd.touch,function(d){Cc(b,d,function(e){c[d].call(a,e);rh(b)})}),B(Pd.mouse,function(d){Cc(b,d,function(e){e=e||window.event;b.touching||c[d].call(a,e)})}))}function th(a,b){function c(c){Cc(b,c,function(d){d=d||window.event;Jf(a,d.target)||(d=Ba(a.dom,new Kf(a,d),!0),b.domHandlers[c].call(a,d))},{capture:!0})}F.pointerEventsSupported?B(Lf.pointer,c):F.touchEventsSupported||B(Lf.mouse,c)}function Cc(a,b,c,d){a.mounted[b]=c;a.listenerOpts[b]=d;We(a.domTarget,If(b),c,d)}function Qd(a){var b=a.mounted,c;for(c in b)if(b.hasOwnProperty(c)){var d=a.domTarget,e=If(c),f=b[c];od?d.removeEventListener(e,f,a.listenerOpts[c]):d.detachEvent("on"+e,f)}a.mounted={}}function Rd(a,b){a._mayPointerCapture=null;if(Sd&&a._pointerCapturing^b){a._pointerCapturing=b;var c=a._globalHandlerScope;b?th(a,c):Qd(c)}}function Mf(a,b){this.domTarget=a;this.domHandlers=b;this.mounted={};this.listenerOpts={};this.touchTimer=null;this.touching=!1}function Td(a,b){ca.call(this);this.dom=a;this.painterRoot=b;this._localHandlerScope=new Mf(a,ta);Sd&&(this._globalHandlerScope=new Mf(document,Ud));this._pointerCapturing=!1;this._mayPointerCapture=null;sh(this,this._localHandlerScope)}function Z(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function Nf(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function Of(a,b,c,d,e){var f=6*c-12*b+6*a;c=9*b+3*d-3*a-9*c;b=3*b-3*a;a=0;if(-1E-8<c&&1E-8>c){if(1E-8<f||-1E-8>f)b=-b/f,0<=b&&1>=b&&(e[a++]=b)}else b=f*f-4*c*b,-1E-8<b&&1E-8>b?e[0]=-f/(2*c):0<b&&(d=Kb(b),b=(-f+d)/(2*c),f=(-f-d)/(2*c),0<=b&&1>=b&&(e[a++]=b),0<=f&&1>=f&&(e[a++]=f));return a}function Pf(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b;c=(d-c)*e+c;b=(h-g)*e+g;h=(c-h)*e+h;e=(h-b)*e+b;f[0]=a;f[1]=g;f[2]=b;f[3]=e;f[4]=e;f[5]=h;f[6]=c;f[7]=d}function Ea(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function Vd(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function Qf(a,b,c){c=a+c-2*b;return 0===c?.5:(a-b)/c}function Rf(a,b,c,d,e){var f=(b-a)*d+a;b=(c-b)*d+b;d=(b-f)*d+f;e[0]=a;e[1]=f;e[2]=d;e[3]=d;e[4]=b;e[5]=c}function Ub(a,b,c,d,e,f,g){if(0===e)return!1;var h;if(g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a!==c)h=(b-d)/(a-c);else return Math.abs(f-a)<=e/2;a=h*f-g+(a*d-c*b)/(a-c);return a*a/(h*h+1)<=e/2*e/2}function Sf(a,b,c,d,e,f,g,h,k){if(0===g||k>b+g&&k>d+g&&k>f+g||k<b-g&&k<d-g&&k<f-g||h>a+g&&h>c+g&&h>e+g||h<a-g&&h<c-g&&h<e-g)return!1;var l,m=.005,n=Infinity;lb[0]=h;lb[1]=k;for(k=0;1>k;k+=.05)Ma[0]=Ea(a,c,e,k),Ma[1]=Ea(b,d,f,k),h=Vb(lb,Ma),h<n&&(l=k,n=h);n=Infinity;for(k=0;32>k&&!(1E-4>m);k++){var q=l-m,p=l+m;Ma[0]=Ea(a,c,e,q);Ma[1]=Ea(b,d,f,q);h=Vb(Ma,lb);0<=q&&h<n?(l=q,n=h):($b[0]=Ea(a,c,e,p),$b[1]=Ea(b,d,f,p),h=Vb($b,lb),1>=p&&h<n?(l=p,n=h):m*=.5)}return Kb(n)<=g/2}function Lb(a){a%=Tf;0>a&&(a+=Tf);return a}function Mb(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var g=d<b?1:-1;f=(f-b)/(d-b);if(1===f||0===f)g=d<b?.5:-.5;a=f*(c-a)+a;return a===e?Infinity:a>e?g:0}function Uf(a,b,c,d,e){for(var f=0,g=0,h=0,k=0,l=0,m=0;m<a.length;){var n=a[m++];n===Nb.M&&1<m&&(c||(f+=Mb(g,h,k,l,d,e)));1===m&&(g=a[m],h=a[m+1],k=g,l=h);switch(n){case Nb.M:k=a[m++];l=a[m++];g=k;h=l;break;case Nb.L:if(c){if(Ub(g,h,a[m],a[m+1],b,d,e))return!0}else f+=Mb(g,h,a[m],a[m+1],d,e)||0;g=a[m++];h=a[m++];break;case Nb.C:if(c){var q;var p=a[m++],u=a[m++],v=a[m++],t=a[m++],r=a[m],K=a[m+1];if(0===b)q=!1;else{var w=b,y;if(e>h+w&&e>u+w&&e>t+w&&e>K+w||e<h-w&&e<u-w&&e<t-w&&e<K-w||d>g+w&&d>p+w&&d>v+w&&d>r+w||d<g-w&&d<p-w&&d<v-w&&d<r-w)y=!1;else{var x=g,z=h,G=p,E=u,D=v,A=t,C=r,B=K,H=e,I=void 0,L=.005,F=Infinity,M=void 0,O=void 0,R=void 0,aa=void 0;lb[0]=d;lb[1]=H;for(var W=0;1>W;W+=.05)Ma[0]=Z(x,G,D,C,W),Ma[1]=Z(z,E,A,B,W),R=Vb(lb,Ma),R<F&&(I=W,F=R);for(var F=Infinity,da=0;32>da&&!(1E-4>L);da++)M=I-L,O=I+L,Ma[0]=Z(x,G,D,C,M),Ma[1]=Z(z,E,A,B,M),R=Vb(Ma,lb),0<=M&&R<F?(I=M,F=R):($b[0]=Z(x,G,D,C,O),$b[1]=Z(z,E,A,B,O),aa=Vb($b,lb),1>=O&&aa<F?(I=O,F=aa):L*=.5);y=Kb(F)<=w/2}q=y}if(q)return!0}else{var ga=f,Y;var oa=g,J=h,qa=a[m++],Q=a[m++],sa=a[m++],U=a[m++],xa=a[m],S=a[m+1],Ca=d;if(e>J&&e>Q&&e>U&&e>S||e<J&&e<Q&&e<U&&e<S)Y=0;else{var ka,T=la,P=S+3*(Q-U)-J,ma=3*(U-2*Q+J),ca=3*(Q-J),ta=J-e,N=ma*ma-3*P*ca,V=ma*ca-9*P*ta,Fa=ca*ca-3*ma*ta,X=0;if(-1E-8<N&&1E-8>N&&-1E-8<V&&1E-8>V)if(-1E-8<ma&&1E-8>ma)T[0]=0;else{var na=-ca/ma;0<=na&&1>=na&&(T[X++]=na)}else{var ia=V*V-4*N*Fa;if(-1E-8<ia&&1E-8>ia){var Ba=V/N,na=-ma/P+Ba,ba=-Ba/2;0<=na&&1>=na&&(T[X++]=na);0<=ba&&1>=ba&&(T[X++]=ba)}else if(0<ia){var Ia=Kb(ia),fa=N*ma+1.5*P*(-V+Ia),ha=N*ma+1.5*P*(-V-Ia),fa=0>fa?-Dc(-fa,Ec):Dc(fa,Ec),ha=0>ha?-Dc(-ha,Ec):Dc(ha,Ec),na=(-ma-(fa+ha))/(3*P);0<=na&&1>=na&&(T[X++]=na)}else{var Ya=(2*N*ma-3*P*V)/(2*Kb(N*N*N)),Da=Math.acos(Ya)/3,Ja=Kb(N),Ka=Math.cos(Da),na=(-ma-2*Ja*Ka)/(3*P),ba=(-ma+Ja*(Ka+Vf*Math.sin(Da)))/(3*P),La=(-ma+Ja*(Ka-Vf*Math.sin(Da)))/(3*P);0<=na&&1>=na&&(T[X++]=na);0<=ba&&1>=ba&&(T[X++]=ba);0<=La&&1>=La&&(T[X++]=La)}}ka=X;if(0===ka)Y=0;else{for(var ea=0,va=-1,wa=void 0,Ta=void 0,Ua=0;Ua<ka;Ua++){var pa=la[Ua],mb=0===pa||1===pa?.5:1;if(!(Z(oa,qa,sa,xa,pa)<Ca)){if(0>va){va=Of(J,Q,U,S,Na);if(Na[1]<Na[0]&&1<va){var pb=Na[0];Na[0]=Na[1];Na[1]=pb}wa=Z(J,Q,U,S,Na[0]);1<va&&(Ta=Z(J,Q,U,S,Na[1]))}ea=2===va?pa<Na[0]?ea+(wa<J?mb:-mb):pa<Na[1]?ea+(Ta<wa?mb:-mb):ea+(S<Ta?mb:-mb):pa<Na[0]?ea+(wa<J?mb:-mb):ea+(S<wa?mb:-mb)}}Y=ea}}f=ga+(Y||0)}g=a[m++];h=a[m++];break;case Nb.Q:if(c){if(Sf(g,h,a[m++],a[m++],a[m],a[m+1],b,d,e))return!0}else{var qb=f,ya;var db=g,xb=h,eb=a[m++],ra=a[m++],hb=a[m],ja=a[m+1],ib=d;if(e>xb&&e>ra&&e>ja||e<xb&&e<ra&&e<ja)ya=0;else{var $a,Pa=la,ua=xb-2*ra+ja,Ob=2*(ra-xb),nb=xb-e,Ga=0;if(-1E-8<ua&&1E-8>ua){if(1E-8<Ob||-1E-8>Ob){var bb=-nb/Ob;0<=bb&&1>=bb&&(Pa[Ga++]=bb)}}else{var Sa=Ob*Ob-4*ua*nb;if(-1E-8<Sa&&1E-8>Sa)bb=-Ob/(2*ua),0<=bb&&1>=bb&&(Pa[Ga++]=bb);else if(0<Sa){var ob=Kb(Sa),bb=(-Ob+ob)/(2*ua),cb=(-Ob-ob)/(2*ua);0<=bb&&1>=bb&&(Pa[Ga++]=bb);0<=cb&&1>=cb&&(Pa[Ga++]=cb)}}$a=Ga;if(0===$a)ya=0;else{var Va=Qf(xb,ra,ja);if(0<=Va&&1>=Va){for(var Wa=0,rb=Ea(xb,ra,ja,Va),za=0;za<$a;za++){var Wb=0===la[za]||1===la[za]?.5:1,fb=Ea(db,eb,hb,la[za]);fb<ib||(Wa=la[za]<Va?Wa+(rb<xb?Wb:-Wb):Wa+(ja<rb?Wb:-Wb))}ya=Wa}else Wb=0===la[0]||1===la[0]?.5:1,fb=Ea(db,eb,hb,la[0]),ya=fb<ib?0:ja<xb?Wb:-Wb}}f=qb+(ya||0)}g=a[m++];h=a[m++];break;case Nb.A:var Aa=a[m++],Za=a[m++],kb=a[m++],yb=a[m++],Pb=a[m++],ab=a[m++],m=m+1,wb=1-a[m++],zb=Math.cos(Pb)*kb+Aa,Ab=Math.sin(Pb)*yb+Za;1<m?f+=Mb(g,h,zb,Ab,d,e):(k=zb,l=Ab);var Eb=(d-Aa)*yb/kb+Aa;if(c){var Oa;var Qb=Pb,Bb=Pb+ab,Qa=Eb,Ra=e;if(0===b)Oa=!1;else{var Fb=b,Qa=Qa-Aa,Ra=Ra-Za,Gb=Math.sqrt(Qa*Qa+Ra*Ra);if(Gb-Fb>yb||Gb+Fb<yb)Oa=!1;else if(1E-4>Math.abs(Qb-Bb)%ac)Oa=!0;else{if(wb)var Sb=Qb,Qb=Lb(Bb),Bb=Lb(Sb);else Qb=Lb(Qb),Bb=Lb(Bb);Qb>Bb&&(Bb+=ac);var Ha=Math.atan2(Ra,Qa);0>Ha&&(Ha+=ac);Oa=Ha>=Qb&&Ha<=Bb||Ha+ac>=Qb&&Ha+ac<=Bb}}if(Oa)return!0}else{var Tb=f,Xa;var sb=Aa,Rb=Pb,Cb=Pb+ab,tb=wb,ub=Eb,Xb=e,Xb=Xb-Za;if(Xb>yb||Xb<-yb)Xa=0;else{var gb=Math.sqrt(yb*yb-Xb*Xb);la[0]=-gb;la[1]=gb;var Hb=Math.abs(Rb-Cb);if(1E-4>Hb)Xa=0;else if(1E-4>Hb%bc){var jb;Xa=ub>=la[0]+sb&&ub<=la[1]+sb?tb?1:-1:0}else{tb?(gb=Rb,Rb=Lb(Cb),Cb=Lb(gb)):(Rb=Lb(Rb),Cb=Lb(Cb));Rb>Cb&&(Cb+=bc);for(var Ib=0,vb=0;2>vb;vb++){var Jb=la[vb];if(Jb+sb>ub){var Db=Math.atan2(Xb,Jb);jb=tb?1:-1;0>Db&&(Db=bc+Db);if(Db>=Rb&&Db<=Cb||Db+bc>=Rb&&Db+bc<=Cb)Db>Math.PI/2&&Db<1.5*Math.PI&&(jb=-jb),Ib+=jb}}Xa=Ib}}f=Tb+Xa}g=Math.cos(Pb+ab)*kb+Aa;h=Math.sin(Pb+ab)*yb+Za;break;case Nb.R:var k=g=a[m++],l=h=a[m++],Yb=a[m++],Zb=a[m++],zb=k+Yb,Ab=l+Zb;if(c){if(Ub(k,l,zb,l,b,d,e)||Ub(zb,l,zb,Ab,b,d,e)||Ub(zb,Ab,k,Ab,b,d,e)||Ub(k,Ab,k,l,b,d,e))return!0}else f+=Mb(zb,l,zb,Ab,d,e),f+=Mb(k,Ab,k,l,d,e);break;case Nb.Z:if(c){if(Ub(g,h,k,l,b,d,e))return!0}else f+=Mb(g,h,k,l,d,e);g=k;h=l}}c||1E-4>Math.abs(h-l)||(f+=Mb(g,h,k,l,d,e)||0);return 0!==f}function z(a){R.call(this,a);this.path=null}function Wf(a,b,c,d,e,f,g,h,k,l,m){k*=Fc/180;var n=Gc(k)*(a-c)/2+Hc(k)*(b-d)/2,q=-1*Hc(k)*(a-c)/2+Gc(k)*(b-d)/2,p=n*n/(g*g)+q*q/(h*h);1<p&&(g*=Wd(p),h*=Wd(p));p=(e===f?-1:1)*Wd((g*g*h*h-g*g*q*q-h*h*n*n)/(g*g*q*q+h*h*n*n))||0;e=p*g*q/h;p=p*-h*n/g;a=(a+c)/2+Gc(k)*e-Hc(k)*p;b=(b+d)/2+Hc(k)*e+Gc(k)*p;d=Xf([1,0],[(n-e)/g,(q-p)/h]);c=[(n-e)/g,(q-p)/h];n=[(-1*n-e)/g,(-1*q-p)/h];q=Xf(c,n);-1>=Xd(c,n)&&(q=Fc);1<=Xd(c,n)&&(q=0);0===f&&0<q&&(q-=2*Fc);1===f&&0>q&&(q+=2*Fc);m.addData(l,a,b,g,h,d,q,k,f)}function uh(a){if(!a)return new aa;var b=0,c=0,d=b,e=c,f,g=new aa,h=aa.CMD;a=a.match(vh);for(var k=0;k<a.length;k++){for(var l=a[k],m=l.charAt(0),n,l=l.match(wh)||[],q=l.length,p=0;p<q;p++)l[p]=parseFloat(l[p]);for(p=0;p<q;){var u,v,t,r,x,w,y;switch(m){case "l":b+=l[p++];c+=l[p++];n=h.L;g.addData(n,b,c);break;case "L":b=l[p++];c=l[p++];n=h.L;g.addData(n,b,c);break;case "m":b+=l[p++];c+=l[p++];n=h.M;g.addData(n,b,c);d=b;e=c;m="l";break;case "M":b=l[p++];c=l[p++];n=h.M;g.addData(n,b,c);d=b;e=c;m="L";break;case "h":b+=l[p++];n=h.L;g.addData(n,b,c);break;case "H":b=l[p++];n=h.L;g.addData(n,b,c);break;case "v":c+=l[p++];n=h.L;g.addData(n,b,c);break;case "V":c=l[p++];n=h.L;g.addData(n,b,c);break;case "C":n=h.C;g.addData(n,l[p++],l[p++],l[p++],l[p++],l[p++],l[p++]);b=l[p-2];c=l[p-1];break;case "c":n=h.C;g.addData(n,l[p++]+b,l[p++]+c,l[p++]+b,l[p++]+c,l[p++]+b,l[p++]+c);b+=l[p-2];c+=l[p-1];break;case "S":u=b;v=c;n=g.len();w=g.data;f===h.C&&(u+=b-w[n-4],v+=c-w[n-3]);n=h.C;w=l[p++];y=l[p++];b=l[p++];c=l[p++];g.addData(n,u,v,w,y,b,c);break;case "s":u=b;v=c;n=g.len();w=g.data;f===h.C&&(u+=b-w[n-4],v+=c-w[n-3]);n=h.C;w=b+l[p++];y=c+l[p++];b+=l[p++];c+=l[p++];g.addData(n,u,v,w,y,b,c);break;case "Q":w=l[p++];y=l[p++];b=l[p++];c=l[p++];n=h.Q;g.addData(n,w,y,b,c);break;case "q":w=l[p++]+b;y=l[p++]+c;b+=l[p++];c+=l[p++];n=h.Q;g.addData(n,w,y,b,c);break;case "T":u=b;v=c;n=g.len();w=g.data;f===h.Q&&(u+=b-w[n-4],v+=c-w[n-3]);b=l[p++];c=l[p++];n=h.Q;g.addData(n,u,v,b,c);break;case "t":u=b;v=c;n=g.len();w=g.data;f===h.Q&&(u+=b-w[n-4],v+=c-w[n-3]);b+=l[p++];c+=l[p++];n=h.Q;g.addData(n,u,v,b,c);break;case "A":u=l[p++];v=l[p++];t=l[p++];r=l[p++];x=l[p++];w=b;y=c;b=l[p++];c=l[p++];n=h.A;Wf(w,y,b,c,r,x,u,v,t,n,g);break;case "a":u=l[p++],v=l[p++],t=l[p++],r=l[p++],x=l[p++],w=b,y=c,b+=l[p++],c+=l[p++],n=h.A,Wf(w,y,b,c,r,x,u,v,t,n,g)}}if("z"===m||"Z"===m)n=h.Z,g.addData(n),b=d,c=e;f=n}g.toStatic();return g}function Yf(a,b){var c=uh(a);b=b||{};b.buildPath=function(a){if(a.setData){a.setData(c.data);var b=a.getContext();b&&a.rebuildPath(b)}else c.rebuildPath(a)};b.applyTransform=function(a){var b=c.data,d,g,h,k,l,m=Eb.M,n=Eb.C,q=Eb.L,p=Eb.R,u=Eb.A,v=Eb.Q;for(h=0;h<b.length;){d=b[h++];k=h;g=0;switch(d){case m:g=1;break;case q:g=1;break;case n:g=3;break;case v:g=2;break;case u:k=a[4];d=a[5];var t=Zf(a[0]*a[0]+a[1]*a[1]),r=Zf(a[2]*a[2]+a[3]*a[3]),x=xh(-a[1]/r,a[0]/t);b[h]*=t;b[h++]+=k;b[h]*=r;b[h++]+=d;b[h++]*=t;b[h++]*=r;b[h++]+=x;b[h++]+=x;k=h+=2;break;case p:l[0]=b[h++],l[1]=b[h++],I(l,l,a),b[k++]=l[0],b[k++]=l[1],l[0]+=b[h++],l[1]+=b[h++],I(l,l,a),b[k++]=l[0],b[k++]=l[1]}for(d=0;d<g;d++)l=yh[d],l[0]=b[h++],l[1]=b[h++],I(l,l,a),b[k++]=l[0],b[k++]=l[1]}this.dirty(!0)};return b}function $f(a,b){return new z(Yf(a,b))}function ag(a,b,c){c=c&&c.lineWidth;if(b&&c){var d=b.x1,e=b.x2,f=b.y1;b=b.y2;Oa(2*d)===Oa(2*e)?a.x1=a.x2=Pa(d,c,!0):(a.x1=d,a.x2=e);Oa(2*f)===Oa(2*b)?a.y1=a.y2=Pa(f,c,!0):(a.y1=f,a.y2=b)}}function bg(a,b,c){c=c&&c.lineWidth;if(b&&c){var d=b.x,e=b.y,f=b.width;b=b.height;a.x=Pa(d,c,!0);a.y=Pa(e,c,!0);a.width=Math.max(Pa(d+f,c,!1)-a.x,0===f?0:1);a.height=Math.max(Pa(e+b,c,!1)-a.y,0===b?0:1)}}function Pa(a,b,c){a=Oa(2*a);return 0===(a+Oa(b))%2?a/2:(a+(c?1:-1))/2}function cg(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function dg(a,b,c){var d=b.points,e=b.smooth;if(d&&2<=d.length){if(e&&"spline"!==e){var f=d,g=b.smoothConstraint;b=[];var h=[],k=[],l=[],m,n,q,p;if(g){q=[Infinity,Infinity];p=[-Infinity,-Infinity];for(var u=0,v=f.length;u<v;u++)hb(q,q,f[u]),ja(p,p,f[u]);hb(q,q,g[0]);ja(p,p,g[1])}u=0;for(v=f.length;u<v;u++){var t=f[u];if(c)m=f[u?u-1:v-1],n=f[(u+1)%v];else if(0===u||u===v-1){b.push(Qe(f[u]));continue}else m=f[u-1],n=f[u+1];Re(h,n,m);sc(h,h,e);m=Aa(t,m);n=Aa(t,n);var r=m+n;0!==r&&(m/=r,n/=r);sc(k,h,-m);sc(l,h,n);m=id([],t,k);t=id([],t,l);g&&(ja(m,m,q),hb(m,m,p),ja(t,t,q),hb(t,t,p));b.push(m);b.push(t)}c&&b.push(b.shift());a.moveTo(d[0][0],d[0][1]);f=d.length;for(e=0;e<(c?f:f-1);e++)q=b[2*e],p=b[2*e+1],g=d[(e+1)%f],a.bezierCurveTo(q[0],q[1],p[0],p[1],g[0],g[1])}else{if("spline"===e){b=d.length;e=[];q=0;for(f=1;f<b;f++)q+=Aa(d[f-1],d[f]);q/=2;q=q<b?b:q;for(f=0;f<q;f++)p=f/(q-1)*(c?b:b-1),l=Math.floor(p),p-=l,h=d[l%b],c?(g=d[(l-1+b)%b],k=d[(l+1)%b],l=d[(l+2)%b]):(g=d[0===l?l:l-1],k=d[l>b-2?b-1:l+1],l=d[l>b-3?b-1:l+2]),u=p*p,v=p*u,e.push([cg(g[0],h[0],k[0],l[0],p,u,v),cg(g[1],h[1],k[1],l[1],p,u,v)]);d=e}a.moveTo(d[0][0],d[0][1]);e=1;for(b=d.length;e<b;e++)a.lineTo(d[e][0],d[e][1])}c&&a.closePath()}}function Ic(){this._defs={};this._root=null;this._isText=this._isDefine=!1}function U(a,b){a&&a.__inheritedStyle&&(b.__inheritedStyle||(b.__inheritedStyle={}),fd(b.__inheritedStyle,a.__inheritedStyle))}function eg(a){a=S(a).split(ea);for(var b=[],c=0;c<a.length;c+=2){var d=parseFloat(a[c]),e=parseFloat(a[c+1]);b.push([d,e])}return b}function oa(a,b,c,d){var e=b.__inheritedStyle||{},f="text"===b.type;if(1===a.nodeType&&(zh(a,b),tb(e,Ah(a)),!d))for(var g in Qa)Qa.hasOwnProperty(g)&&(d=a.getAttribute(g),null!=d&&(e[Qa[g]]=d));a=f?"textFill":"fill";g=f?"textStroke":"stroke";b.style=b.style||new La;var h=b.style;null!=e.fill&&h.set(a,fg(e.fill,c));null!=e.stroke&&h.set(g,fg(e.stroke,c));B("lineWidth opacity fillOpacity strokeOpacity miterLimit fontSize".split(" "),function(a){var b="lineWidth"===a&&f?"textStrokeWidth":a;null!=e[a]&&h.set(b,parseFloat(e[a]))});e.textBaseline&&"auto"!==e.textBaseline||(e.textBaseline="alphabetic");"alphabetic"===e.textBaseline&&(e.textBaseline="bottom");"start"===e.textAlign&&(e.textAlign="left");"end"===e.textAlign&&(e.textAlign="right");B("lineDashOffset lineCap lineJoin fontWeight fontFamily fontStyle textAlign textBaseline".split(" "),function(a){null!=e[a]&&h.set(a,e[a])});e.lineDash&&(b.style.lineDash=S(e.lineDash).split(ea));h[g]&&"none"!==h[g]&&(b[g]=!0);b.__inheritedStyle=e}function fg(a,b){var c=b&&a&&a.match(Bh);return c?(c=S(c[1]),b[c]):a}function zh(a,b){var c=a.getAttribute("transform");if(c){var c=c.replace(/,/g," "),d=null,e=[];c.replace(Ch,function(a,b,c){e.push(b,c)});for(c=e.length-1;0<c;c-=2){var f=e[c],g=e[c-1],d=d||ib();switch(g){case "translate":f=S(f).split(ea);wc(d,d,[parseFloat(f[0]),parseFloat(f[1]||0)]);break;case "scale":f=S(f).split(ea);yc(d,d,[parseFloat(f[0]),parseFloat(f[1]||f[0])]);break;case "rotate":f=S(f).split(ea);xc(d,d,parseFloat(f[0]));break;case "skew":f=S(f).split(ea);console.warn("Skew transform is not supported yet");break;case "matrix":f=S(f).split(ea),d[0]=parseFloat(f[0]),d[1]=parseFloat(f[1]),d[2]=parseFloat(f[2]),d[3]=parseFloat(f[3]),d[4]=parseFloat(f[4]),d[5]=parseFloat(f[5])}}b.setLocalTransform(d)}}function Ah(a){a=a.getAttribute("style");var b={};if(!a)return b;var c={};gg.lastIndex=0;for(var d;null!=(d=gg.exec(a));)c[d[1]]=d[2];for(var e in Qa)Qa.hasOwnProperty(e)&&null!=c[e]&&(b[Qa[e]]=c[e]);return b}function hg(a,b,c){var d=Math.min(b/a.width,c/a.height);return{scale:[d,d],position:[-(a.x+a.width/2)*d+b/2,-(a.y+a.height/2)*d+c/2]}}function N(a){R.call(this,a);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=!0}function ig(a,b,c){var d=a.cpy2;return null===a.cpx2||null===d?[(c?Nf:Z)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?Nf:Z)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?Vd:Ea)(a.x1,a.cpx1,a.x2,b),(c?Vd:Ea)(a.y1,a.cpy1,a.y2,b)]}function ua(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function V(a){return Yd(1E4*a)/1E4}function Zd(a,b){b&&A(a,"transform","matrix("+Dh.call(b,",")+")")}function A(a,b,c){(!c||"linear"!==c.type&&"radial"!==c.type)&&a.setAttribute(b,c)}function jg(a,b,c,d){var e=c?b.textFill:b.fill;null!=e&&"none"!==e?(e=c?b.textFill:b.fill,A(a,"fill","transparent"===e?"none":e),A(a,"fill-opacity",null!=b.fillOpacity?b.fillOpacity*b.opacity:b.opacity)):A(a,"fill","none");e=c?b.textStroke:b.stroke;null!=e&&"none"!==e?(e=c?b.textStroke:b.stroke,A(a,"stroke","transparent"===e?"none":e),e=c?b.textStrokeWidth:b.lineWidth,d=!c&&b.strokeNoScale?d.getLineScale():1,A(a,"stroke-width",e/d),A(a,"paint-order",c?"stroke":"fill"),A(a,"stroke-opacity",null!=b.strokeOpacity?b.strokeOpacity:b.opacity),b.lineDash?(A(a,"stroke-dasharray",b.lineDash.join(",")),A(a,"stroke-dashoffset",Yd(b.lineDashOffset||0))):A(a,"stroke-dasharray",""),b.lineCap&&A(a,"stroke-linecap",b.lineCap),b.lineJoin&&A(a,"stroke-linejoin",b.lineJoin),b.miterLimit&&A(a,"stroke-miterlimit",b.miterLimit)):A(a,"stroke","none")}function kg(a,b,c,d){A(a,"dominant-baseline","middle");A(a,"text-anchor",Eh[b]);A(a,"x",c);A(a,"y",d)}function $d(a){a&&a.__textSvgEl&&(a.__textSvgEl.parentNode&&a.__textSvgEl.parentNode.removeChild(a.__textSvgEl),a.__textSvgEl=null,a.__tspanList=[],a.__text=null)}function lg(){}function C(a,b,c,d,e){this._zrId=a;this._svgRoot=b;this._tagNames="string"===typeof c?[c]:c;this._markLabel=d;this._domName=e||"_dom";this.nextId=0}function nb(a,b){C.call(this,a,b,["linearGradient","radialGradient"],"__gradient_in_use__")}function Yb(a,b){C.call(this,a,b,"clipPath","__clippath_in_use__")}function va(a,b){C.call(this,a,b,["filter"],"__filter_in_use__","_shadowDom")}function mg(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY||a.textShadowBlur||a.textShadowOffsetX||a.textShadowOffsetY)}function Zb(a,b,c){b&&a&&b.parentNode!==a&&c&&((c=c.nextSibling)?a.insertBefore(b,c):a.appendChild(b))}function ng(a,b){if(b&&a&&b.parentNode!==a){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function Fh(a){return function(){}}function Gh(){if(!og&&J){og=!0;var a=J.styleSheets;31>a.length?J.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function Jc(a,b){Gh();this.root=a;this.storage=b;var c=document.createElement("div"),d=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";d.style.cssText="position:absolute;left:0;top:0;";a.appendChild(c);this._vmlRoot=d;this._vmlViewport=c;this.resize();var e=b.delFromStorage,f=b.addToStorage;b.delFromStorage=function(a){e.call(b,a);a&&a.onRemove&&a.onRemove(d)};b.addToStorage=function(a){a.onAdd&&a.onAdd(d);f.call(b,a)};this._firstPaint=!0}function Hh(a){return function(){}}var pg=2311,qg={},F=qg="object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"===typeof document&&"undefined"!==typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"===typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:Xa(navigator.userAgent),Ke={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Je={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},sb=Object.prototype.toString,cc=Array.prototype,Vg=cc.forEach,Ih=cc.filter,ub=cc.slice,Wg=cc.map,Jh=cc.reduce,ae={},gd=function(){return ae.createCanvas()};ae.createCanvas=function(){return document.createElement("canvas")};var oc,db="__ec_primitive__";rc.prototype={constructor:rc,get:function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},set:function(a,b){return this.data[a]=b},each:function(a,b){void 0!==b&&(a=hd(a,b));for(var c in this.data)this.data.hasOwnProperty(c)&&a(this.data[c],c)},removeKey:function(a){delete this.data[a]}};var Kh=(Object.freeze||Object)({$override:function(a,b){"createCanvas"===a&&(oc=null);ae[a]=b},clone:rb,merge:za,mergeAll:function(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)c=za(c,a[d],b);return c},extend:tb,defaults:fd,createCanvas:gd,getContext:Le,indexOf:eb,inherits:Y,mixin:Ya,isArrayLike:fb,each:B,map:Me,reduce:function(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===Jh)return a.reduce(b,c,d);for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}},filter:function(a,b,c){if(a&&b){if(a.filter&&a.filter===Ih)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}},find:function(a,b,c){if(a&&b)for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]},bind:hd,curry:function(a){var b=ub.call(arguments,1);return function(){return a.apply(this,b.concat(ub.call(arguments)))}},isArray:nc,isFunction:pc,isString:qc,isObject:X,isBuiltInObject:ed,isTypedArray:function(a){return!!Je[sb.call(a)]},isDom:mc,eqNaN:function(a){return a!==a},retrieve:function(a){for(var b=0,c=arguments.length;b<c;b++)if(null!=arguments[b])return arguments[b]},retrieve2:ia,retrieve3:gb,slice:function(){return Function.call.apply(ub,arguments)},normalizeCssArray:Ne,assert:function(a,b){if(!a)throw Error(b);},trim:S,setAsPrimitive:function(a){a[db]=!0},isPrimitive:function(a){return a[db]},createHashMap:function(a){return new rc(a)},concatArray:function(a,b){for(var c=new a.constructor(a.length+b.length),d=0;d<a.length;d++)c[d]=a[d];for(var e=a.length,d=0;d<b.length;d++)c[d+e]=b[d];return c},noop:Oe}),Pe="undefined"===typeof Float32Array?Array:Float32Array,Vb=Te,Lh=(Object.freeze||Object)({create:ra,copy:function(a,b){a[0]=b[0];a[1]=b[1];return a},clone:Qe,set:function(a,b,c){a[0]=b;a[1]=c;return a},add:id,scaleAndAdd:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;return a},sub:Re,len:jd,length:jd,lenSquare:kd,lengthSquare:kd,mul:function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a},div:function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:sc,normalize:Se,distance:Aa,dist:Aa,distanceSquare:Te,distSquare:Vb,negate:function(a,b){a[0]=-b[0];a[1]=-b[1];return a},lerp:function(a,b,c,d){a[0]=b[0]+d*(c[0]-b[0]);a[1]=b[1]+d*(c[1]-b[1]);return a},applyTransform:I,min:hb,max:ja});tc.prototype={constructor:tc,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(Za(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c;this._y=d;b.drift(e,f,a);this.dispatchToElement(Za(b,a),"drag",a.event);c=this.findHover(c,d,b).target;d=this._dropTarget;this._dropTarget=c;b!==c&&(d&&c!==d&&this.dispatchToElement(Za(d,a),"dragleave",a.event),c&&c!==d&&this.dispatchToElement(Za(c,a),"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1);this.dispatchToElement(Za(b,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(Za(this._dropTarget,a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};var rg=Array.prototype.slice,ca=function(a){this._$handlers={};this._$eventProcessor=a};ca.prototype={constructor:ca,one:function(a,b,c,d){return Ue(this,a,b,c,d,!0)},on:function(a,b,c,d){return Ue(this,a,b,c,d,!1)},isSilent:function(a){var b=this._$handlers;return!b[a]||!b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!==b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){var b=this._$handlers[a],c=this._$eventProcessor;if(b){var d=arguments,e=d.length;3<e&&(d=rg.call(d,1));for(var f=b.length,g=0;g<f;){var h=b[g];if(c&&c.filter&&null!=h.query&&!c.filter(a,h.query))g++;else{switch(e){case 1:h.h.call(h.ctx);break;case 2:h.h.call(h.ctx,d[1]);break;case 3:h.h.call(h.ctx,d[1],d[2]);break;default:h.h.apply(h.ctx,d)}h.one?(b.splice(g,1),f--):g++}}}c&&c.afterTrigger&&c.afterTrigger(a);return this},triggerWithContext:function(a){var b=this._$handlers[a],c=this._$eventProcessor;if(b){var d=arguments,e=d.length;4<e&&(d=rg.call(d,1,d.length-1));for(var f=d[d.length-1],g=b.length,h=0;h<g;){var k=b[h];if(c&&c.filter&&null!=k.query&&!c.filter(a,k.query))h++;else{switch(e){case 1:k.h.call(f);break;case 2:k.h.call(f,d[1]);break;case 3:k.h.call(f,d[1],d[2]);break;default:k.h.apply(f,d)}k.one?(b.splice(h,1),g--):h++}}}c&&c.afterTrigger&&c.afterTrigger(a);return this}};var Xg=Math.log(2),od="undefined"!==typeof window&&!!window.addEventListener,Zg=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nd=[],Ye=od?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},be=function(){this._track=[]};be.prototype={constructor:be,recognize:function(a,b,c){this._doTrack(a,b,c);return this._recognize(a)},clear:function(){this._track.length=0;return this},_doTrack:function(a,b,c){var d=a.touches;if(d){a={points:[],touches:[],target:b,event:a};b=0;for(var e=d.length;b<e;b++){var f=d[b],g=md(c,f,{});a.points.push([g.zrX,g.zrY]);a.touches.push(f)}this._track.push(a)}},_recognize:function(a){for(var b in ce)if(ce.hasOwnProperty(b)){var c=ce[b](this._track,a);if(c)return c}}};var ce={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points;if((c=(a[c-2]||{}).points||d)&&1<c.length&&d&&1<d.length)return c=Xe(d)/Xe(c),!isFinite(c)&&(c=1),b.pinchScale=c,d=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],b.pinchX=d[0],b.pinchY=d[1],{type:"pinch",target:a[0].target,event:b}}}};Ze.prototype.dispose=function(){};var Mh="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),Ra=function(a,b,c,d){ca.call(this);this.storage=a;this.painter=b;this.painterRoot=d;c=c||new Ze;this.proxy=null;this._hovered={};tc.call(this);this.setHandlerProxy(c)};Ra.prototype={constructor:Ra,setHandlerProxy:function(a){this.proxy&&this.proxy.dispose();a&&(B(Mh,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this);this.proxy=a},mousemove:function(a){var b=a.zrX,c=a.zrY,d=$e(this,b,c),e=this._hovered,f=e.target;f&&!f.__zr&&(e=this.findHover(e.x,e.y),f=e.target);b=this._hovered=d?{x:b,y:c}:this.findHover(b,c);c=b.target;d=this.proxy;d.setCursor&&d.setCursor(c?c.cursor:"default");f&&c!==f&&this.dispatchToElement(e,"mouseout",a);this.dispatchToElement(b,"mousemove",a);c&&c!==f&&this.dispatchToElement(b,"mouseover",a)},mouseout:function(a){var b=a.zrEventControl,c=a.zrIsToLocalDOM;"only_globalout"!==b&&this.dispatchToElement(this._hovered,"mouseout",a);"no_globalout"!==b&&!c&&this.trigger("globalout",{type:"globalout",event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){a=a||{};var d=a.target;if(!d||!d.silent){for(var e="on"+b,f={type:b,event:c,target:a.target,topTarget:a.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which,stop:$g};d&&(d[e]&&(f.cancelBubble=d[e].call(d,f)),d.trigger(b,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(a){"function"===typeof a[e]&&a[e].call(a,f);a.trigger&&a.trigger(b,f)}))}},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e={x:a,y:b},f=d.length-1;0<=f;f--){var g,h;if(h=d[f]!==c&&!d[f].ignore){a:{var k=d[f];g=a;h=b;if(k[k.rectHover?"rectContain":"contain"](g,h)){for(var l=void 0;k;){if(k.clipPath&&!k.clipPath.contain(g,h)){g=!1;break a}k.silent&&(l=!0);k=k.parent}g=l?"silent":!0}else g=!1}h=g}if(h&&(!e.topTarget&&(e.topTarget=d[f]),"silent"!==g)){e.target=d[f];break}}return e},processGesture:function(a,b){this._gestureMgr||(this._gestureMgr=new be);var c=this._gestureMgr;"start"===b&&c.clear();var d=c.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);"end"===b&&c.clear();d&&(c=d.type,a.gestureEvent=c,this.dispatchToElement({target:d.target},c,d.event))}};B("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(a){Ra.prototype[a]=function(b){var c=b.zrX,d=b.zrY,e=$e(this,c,d),f,g;"mouseup"===a&&e||(f=this.findHover(c,d),g=f.target);if("mousedown"===a)this._downEl=g,this._downPoint=[b.zrX,b.zrY],this._upEl=g;else if("mouseup"===a)this._upEl=g;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||4<Aa(this._downPoint,[b.zrX,b.zrY]))return;this._downPoint=null}this.dispatchToElement(f,a,b)}});Ya(Ra,ca);Ya(Ra,tc);var ah="undefined"===typeof Float32Array?Array:Float32Array,Nh=(Object.freeze||Object)({create:ib,identity:uc,copy:vc,mul:Hb,translate:wc,rotate:xc,scale:yc,invert:af,clone:function(a){var b=ib();vc(b,a);return b}}),de=uc,Fb=function(a){a=a||{};a.position||(this.position=[0,0]);null==a.rotation&&(this.rotation=0);a.scale||(this.scale=[1,1]);this.origin=this.origin||null},Fa=Fb.prototype;Fa.transform=null;Fa.needLocalTransform=function(){return $a(this.rotation)||$a(this.position[0])||$a(this.position[1])||$a(this.scale[0]-1)||$a(this.scale[1]-1)};var Ga=[];Fa.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;c||b?(d=d||ib(),c?this.getLocalTransform(d):de(d),b&&(c?Hb(d,a.transform,d):vc(d,a.transform)),this.transform=d,a=this.globalScaleRatio,null!=a&&1!==a&&(this.getGlobalScale(Ga),c=0>Ga[0]?-1:1,b=0>Ga[1]?-1:1,c=((Ga[0]-c)*a+c)/Ga[0]||0,a=((Ga[1]-b)*a+b)/Ga[1]||0,d[0]*=c,d[1]*=c,d[2]*=a,d[3]*=a),this.invTransform=this.invTransform||ib(),af(this.invTransform,d)):d&&de(d)};Fa.getLocalTransform=function(a){return Fb.getLocalTransform(this,a)};Fa.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)};Fa.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var wa=[],ee=ib();Fa.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=this.position,e=this.scale;$a(b-1)&&(b=Math.sqrt(b));$a(c-1)&&(c=Math.sqrt(c));0>a[0]&&(b=-b);0>a[3]&&(c=-c);d[0]=a[4];d[1]=a[5];e[0]=b;e[1]=c;this.rotation=Math.atan2(-a[1]/c,a[0]/b)}};Fa.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(Hb(wa,a.invTransform,b),b=wa);(a=this.origin)&&(a[0]||a[1])&&(ee[4]=a[0],ee[5]=a[1],Hb(wa,b,ee),wa[4]-=a[0],wa[5]-=a[1],b=wa);this.setLocalTransform(b)}};Fa.getGlobalScale=function(a){var b=this.transform;a=a||[];if(!b)return a[0]=1,a[1]=1,a;a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]);a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]);0>b[0]&&(a[0]=-a[0]);0>b[3]&&(a[1]=-a[1]);return a};Fa.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;d&&I(c,c,d);return c};Fa.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;d&&I(c,c,d);return c};Fb.getLocalTransform=function(a,b){b=b||[];de(b);var c=a.origin,d=a.scale||[1,1],e=a.rotation||0,f=a.position||[0,0];c&&(b[4]-=c[0],b[5]-=c[1]);yc(b,b,d);e&&xc(b,b,e);c&&(b[4]+=c[0],b[5]+=c[1]);b[4]+=f[0];b[5]+=f[1];return b};var Kc={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;if(0===a)return 0;if(1===a)return 1;!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI);return-(c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4))},elasticOut:function(a){var b,c=.1;if(0===a)return 0;if(1===a)return 1;!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI);return c*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/.4)+1},elasticInOut:function(a){var b,c=.1;if(0===a)return 0;if(1===a)return 1;!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI);return 1>(a*=2)?-.5*c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4):c*Math.pow(2,-10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-Kc.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return.5>a?.5*Kc.bounceIn(2*a):.5*Kc.bounceOut(2*a-1)+.5}};pd.prototype={constructor:pd,step:function(a,b){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);if(this._paused)this._pausedTime+=b;else{var c=(a-this._startTime-this._pausedTime)/this._life;if(!(0>c)){var c=Math.min(c,1),d=this.easing,d="string"===typeof d?Kc[d]:d,d="function"===typeof d?d(c):c;this.fire("frame",d);if(1===c){if(this.loop)return this.restart(a),"restart";this._needsRemove=!0;return"destroy"}return null}}},restart:function(a){this._startTime=a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,b){a="on"+a;if(this[a])this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var sg=function(){this.tail=this.head=null;this._len=0},dc=sg.prototype;dc.insert=function(a){a=new tg(a);this.insertEntry(a);return a};dc.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};dc.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c;c?c.prev=b:this.tail=b;a.next=a.prev=null;this._len--};dc.len=function(){return this._len};dc.clear=function(){this.head=this.tail=null;this._len=0};var tg=function(a){this.value=a},fe=function(a){this._list=new sg;this._map={};this._maxSize=a||10;this._lastRemovedEntry=null},ge=fe.prototype;ge.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;f>=this._maxSize&&0<f&&(f=c.head,c.remove(f),delete d[f.key],e=f.value,this._lastRemovedEntry=f);g?g.value=b:g=new tg(b);g.key=a;c.insertEntry(g);d[a]=g}return e};ge.get=function(a){a=this._map[a];var b=this._list;if(null!=a)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value};ge.clear=function(){this._list.clear();this._map={}};var cf={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},bf=new fe(20),zc=null,Oh=(Object.freeze||Object)({parse:T,lift:function(a,b){var c=T(a);if(c){for(var d=0;3>d;d++)c[d]=0>b?c[d]*(1-b)|0:(255-c[d])*b+c[d]|0,255<c[d]?c[d]=255:0>a[d]&&(c[d]=0);return Ib(c,4===c.length?"rgba":"rgb")}},toHex:df,fastLerp:ef,fastMapToColor:ef,lerp:ff,mapToColor:ff,modifyHSL:function(a,b,c,d){if(a=T(a)){if(a){var e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),k=Math.max(e,f,g),l=k-h,m=(k+h)/2,n;if(0===l)h=n=0;else{var h=.5>m?l/(k+h):l/(2-k-h),q=((k-e)/6+l/2)/l,p=((k-f)/6+l/2)/l,l=((k-g)/6+l/2)/l;e===k?n=l-p:f===k?n=1/3+q-l:g===k&&(n=2/3+p-q);0>n&&(n+=1);1<n&&--n}e=[360*n,h,m];null!=a[3]&&e.push(a[3]);a=e}else a=void 0;null!=b&&(b=Math.round(b),a[0]=0>b?0:360<b?360:b);null!=c&&(a[1]=kb(c));null!=d&&(a[2]=kb(d));return Ib(td(a),"rgba")}},modifyAlpha:function(a,b){if((a=T(a))&&null!=b)return a[3]=jb(b),Ib(a,"rgba")},stringify:Ib}),ud=Array.prototype.slice,he=function(a,b,c,d){this._tracks={};this._target=a;this._loop=b||!1;this._getter=c||bh;this._setter=d||ch;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};he.prototype={when:function(a,b){var c=this._tracks,d;for(d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(null==e)continue;0!==a&&c[d].push({time:0,value:eh(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){this._onframeList.push(a);return this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c=this,d=0,e=function(){d--;d||c._doneCallback()},f,g;for(g in this._tracks)if(this._tracks.hasOwnProperty(g)){var h=gh(this,a,e,this._tracks[g],g,b);h&&(this._clipList.push(h),d++,this.animation&&this.animation.addClip(h),f=h)}if(f){var k=f.onframe;f.onframe=function(a,b){k(a,b);for(var d=0;d<c._onframeList.length;d++)c._onframeList[d](a,b)}}d||this._doneCallback();return this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];if(a)e.onframe(this._target,1);c&&c.removeClip(e)}b.length=0},delay:function(a){this._delay=a;return this},done:function(a){a&&this._doneList.push(a);return this},getClips:function(){return this._clipList}};var ug=1;"undefined"!==typeof window&&(ug=Math.max(window.devicePixelRatio||1,1));var Lc=ug,ie=function(){this.animators=[]};ie.prototype={constructor:ie,animate:function(a,b){var c,d=!1,e=this,f=this.__zr;if(a){for(var g=a.split("."),h=e,d="shape"===g[0],k=0,l=g.length;k<l;k++)h&&(h=h[g[k]]);h&&(c=h)}else c=e;if(c){var m=e.animators,n=new he(c,b);n.during(function(a){e.dirty(d)}).done(function(){m.splice(eb(m,n),1)});m.push(n);f&&f.animation.addAnimator(n);return n}},stopAnimation:function(a){for(var b=this.animators,c=b.length,d=0;d<c;d++)b[d].stop(a);b.length=0;return this},animateTo:function(a,b,c,d,e,f){lf(this,a,b,c,d,e,f)},animateFrom:function(a,b,c,d,e,f){lf(this,a,b,c,d,e,f,!0)}};var Da=function(a){Fb.call(this,a);ca.call(this,a);this.animators=[];this.id=a.id||pg++};Da.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(a,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]);c[4]+=a;c[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]);c[0]=b[0];c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"===typeof a)this.attrKV(a,b);else if(X(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);this.dirty(!1);return this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b);this.clipPath&&this.clipPath!==a&&this.removeClipPath();this.clipPath=a;a.__zr=b;a.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,this.clipPath=a.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}};Ya(Da,ie);Ya(Da,Fb);Ya(Da,ca);var Gb=Math.min,Sb=Math.max;L.prototype={constructor:L,union:function(a){var b=Gb(a.x,this.x),c=Gb(a.y,this.y);this.width=Sb(a.x+a.width,this.x+this.width)-b;this.height=Sb(a.y+a.height,this.y+this.height)-c;this.x=b;this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x;a[1]=d[1]=this.y;b[0]=d[0]=this.x+this.width;b[1]=c[1]=this.y+this.height;I(a,a,e);I(b,b,e);I(c,c,e);I(d,d,e);this.x=Gb(a[0],b[0],c[0],d[0]);this.y=Gb(a[1],b[1],c[1],d[1]);e=Sb(a[0],b[0],c[0],d[0]);var f=Sb(a[1],b[1],c[1],d[1]);this.width=e-this.x;this.height=f-this.y}}}(),calculateTransform:function(a){var b=a.width/this.width,c=a.height/this.height,d=ib();wc(d,d,[-this.x,-this.y]);yc(d,d,[b,c]);wc(d,d,[a.x,a.y]);return d},intersect:function(a){if(!a)return!1;a instanceof L||(a=L.create(a));var b=this.x,c=this.y,d=this.y+this.height,e=a.x+a.width,f=a.y,g=a.y+a.height;return!(this.x+this.width<a.x||e<b||d<f||g<c)},contain:function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new L(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};L.create=function(a){return new L(a.x,a.y,a.width,a.height)};var O=function(a){a=a||{};Da.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[];this.__storage=null;this.__dirty=!0};O.prototype={constructor:O,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);0<=d&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof O&&a.addChildrenToStorage(b));c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,d=this._children,e=eb(d,a);if(0>e)return this;d.splice(e,1);a.parent=null;c&&(c.delFromStorage(a),a instanceof O&&a.delChildrenFromStorage(c));b&&b.refresh();return this},removeAll:function(){var a=this._children,b=this.__storage,c,d;for(d=0;d<a.length;d++)c=a[d],b&&(b.delFromStorage(c),c instanceof O&&c.delChildrenFromStorage(b)),c.parent=null;a.length=0;return this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++)a.call(b,c[d],d);return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(b,d);"group"===d.type&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c);c instanceof O&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c);c instanceof O&&c.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var b=null,c=new L(0,0,0,0);a=a||this._children;for(var d=[],e=0;e<a.length;e++){var f=a[e];if(!f.ignore&&!f.invisible){var g=f.getBoundingRect();(f=f.getLocalTransform(d))?(c.copy(g),c.applyTransform(f),b=b||c.clone(),b.union(c)):(b=b||g.clone(),b.union(g))}}return b||c}};Y(O,Da);var je=function(){this._roots=[];this._displayList=[];this._displayListLen=0};je.prototype={constructor:je,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){a&&this.updateDisplayList(b||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen;F.canvasSupported&&yd(c,qf)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=a;d;)d.parent=e,d.updateTransform(),b.push(d),e=d,d=d.clipPath}if(a.isGroup){d=a._children;for(e=0;e<d.length;e++){var f=d[e];a.__dirty&&(f.__dirty=!0);this._updateAndAddDisplayable(f,b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof O&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var b=0;b<this._roots.length;b++)a=this._roots[b],a instanceof O&&a.delChildrenFromStorage(this);this._roots=[];this._displayList=[];this._displayListLen=0}else if(a instanceof Array)for(var b=0,c=a.length;b<c;b++)this.delRoot(a[b]);else b=eb(this._roots,a),0<=b&&(this.delFromStorage(a),this._roots.splice(b,1),a instanceof O&&a.delChildrenFromStorage(this))},addToStorage:function(a){a&&(a.__storage=this,a.dirty(!1));return this},delFromStorage:function(a){a&&(a.__storage=null);return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:qf};var Ph={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Jd=function(a,b,c){return Ph.hasOwnProperty(b)?c*a.dpr:c},Ka={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Mc=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],La=function(a){this.extendFrom(a,!1)};La.prototype={constructor:La,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(a,b,c){c=c&&c.style;var d=!c||a.__attrCachedBy!==Ka.STYLE_BIND;a.__attrCachedBy=Ka.STYLE_BIND;for(var e=0;e<Mc.length;e++){var f=Mc[e],g=f[0];if(d||this[g]!==c[g])a[g]=Jd(a,g,this[g]||f[1])}if(d||this.fill!==c.fill)a.fillStyle=this.fill;if(d||this.stroke!==c.stroke)a.strokeStyle=this.stroke;if(d||this.opacity!==c.opacity)a.globalAlpha=null==this.opacity?1:this.opacity;if(d||this.blend!==c.blend)a.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(a.lineWidth=this.lineWidth/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1))},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&0<this.lineWidth},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||!0!==b&&(!1===b?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])},set:function(a,b){"string"===typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;a.extendFrom(this,!0);return a},getGradient:function(a,b,c){a=("radial"===b.type?jh:ih)(a,b,c);b=b.colorStops;for(c=0;c<b.length;c++)a.addColorStop(b[c].offset,b[c].color);return a}};for(var ke=La.prototype,le=0;le<Mc.length;le++){var me=Mc[le];me[0]in ke||(ke[me[0]]=me[1])}La.getGradient=ke.getGradient;var Nc=function(a,b){this.image=a;this.repeat=b;this.type="pattern"};Nc.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var ec=function(a,b,c){var d;c=c||Lc;"string"===typeof a?d=rf(a,b,c):X(a)&&(d=a,a=d.id);this.id=a;this.dom=d;if(a=d.style)d.onselectstart=kh,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0;this.ctxBack=this.domBack=null;this.painter=b;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};ec.prototype={constructor:ec,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=rf("back-"+this.id,this.painter,a);this.ctxBack=this.domBack.getContext("2d");1!==a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=a+"px",e.height=b+"px");d.width=a*c;d.height=b*c;f&&(f.width=a*c,f.height=b*c,1!==c&&this.ctxBack.scale(c,c))},clear:function(a,b){var c=this.dom,d=this.ctx,e=c.width,f=c.height;b=b||this.clearColor;var g=this.motionBlur&&!a,h=this.lastFrameAlpha,k=this.dpr;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,e/k,f/k));d.clearRect(0,0,e,f);if(b&&"transparent"!==b){var l;b.colorStops?(l=b.__canvasGradient||La.getGradient(d,b,{x:0,y:0,width:e,height:f}),b.__canvasGradient=l):b.image&&(l=Nc.prototype.getCanvasPattern.call(b,d));d.save();d.fillStyle=l||b;d.fillRect(0,0,e,f);d.restore()}g&&(c=this.domBack,d.save(),d.globalAlpha=h,d.drawImage(c,0,0,e,f),d.restore())}};var ne="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},zd=new fe(50),Ac={},Ad=0,Ed=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,tf={measureText:function(a,b){var c=Le();c.font=b||"12px sans-serif";return c.measureText(a)}},nh={left:1,right:1,center:1},oh={top:1,bottom:1,middle:1},Ef=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Hf={},Bf={},oe=new L,Oc=function(){};Oc.prototype={constructor:Oc,drawRectText:function(a,b){var c=this.style;b=c.textRect||b;this.__dirty&&Jb(c,!0);var d=c.text;null!=d&&(d+="");if(Nd(d,c)){a.save();var e=this.transform;c.transformText?this.setTransform(a):e&&(oe.copy(b),oe.applyTransform(e),b=oe);e=b;c.rich?Gf(this,a,d,c,e,9):Af(this,a,d,c,e,9);a.restore()}}};R.prototype={constructor:R,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(c[0],c[1])},dirty:function(){this.__dirty=this.__dirtyText=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?Da.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){this.style.set(a,b);this.dirty(!1);return this},useStyle:function(a){this.style=new La(a,this);this.dirty(!1);return this},calculateTextPosition:null};Y(R,Da);Ya(R,Oc);sa.prototype={constructor:sa,type:"image",brush:function(a,b){var c=this.style,d=c.image;c.bind(a,this,b);if((d=this._image=sf(d,this._image,this,this.onload))&&d&&d.width&&d.height){var e=c.x||0,f=c.y||0,g=c.width,h=c.height,k=d.width/d.height;null==g&&null!=h?g=h*k:null==h&&null!=g?h=g/k:null==g&&null==h&&(g=d.width,h=d.height);this.setTransform(a);if(c.sWidth&&c.sHeight){var k=c.sx||0,l=c.sy||0;a.drawImage(d,k,l,c.sWidth,c.sHeight,e,f,g,h)}else c.sx&&c.sy?(k=c.sx,l=c.sy,a.drawImage(d,k,l,g-k,h-l,e,f,g,h)):a.drawImage(d,e,f,g,h);null!=c.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new L(a.x||0,a.y||0,a.width||0,a.height||0));return this._rect}};Y(sa,R);var pe=new L(0,0,0,0),qe=new L(0,0,0,0),re=function(a,b,c){this.type="canvas";var d=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=tb({},c||{});this.dpr=c.devicePixelRatio||Lc;this._singleCanvas=d;this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML="");this.storage=b;b=this._zlevelList=[];e=this._layers={};this._layerConfig={};this._needsManuallyCompositing=!1;if(d){var d=a.width,f=a.height;null!=c.width&&(d=c.width);null!=c.height&&(f=c.height);this.dpr=c.devicePixelRatio||1;a.width=d*this.dpr;a.height=f*this.dpr;this._width=d;this._height=f;c=new ec(a,this,this.dpr);c.__builtin__=!0;c.initContext();e[314159]=c;c.zlevel=314159;b.push(314159);this._domRoot=a}else this._width=this._getSize(0),this._height=this._getSize(1),c=this._width,b=this._height,e=document.createElement("div"),e.style.cssText=["position:relative","width:"+c+"px","height:"+b+"px","padding:0;margin:0;border-width:0"].join(";")+";",c=this._domRoot=e,a.appendChild(c);this._hoverlayer=null;this._hoverElements=[]};re.prototype={constructor:re,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._redrawId=Math.random();this._paintList(b,a,this._redrawId);for(a=0;a<c.length;a++)b=this._layers[c[a]],!b.__builtin__&&b.refresh&&b.refresh(0===a?this._backgroundColor:null);this.refreshHover();return this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape,z:a.z,z2:a.z2,silent:a.silent});c.__from=a;a.__hoverMir=c;b&&c.setStyle(b);this._hoverElements.push(c);return c}},removeHover:function(a){var b=this._hoverElements,c=eb(b,a.__hoverMir);0<=c&&b.splice(c,1);a.__hoverMir=null},clearHover:function(a){a=this._hoverElements;for(var b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;c&&c.clear();if(b){yd(a,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var e=0;e<b;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1E5)},_paintList:function(a,b,c){if(this._redrawId===c){b=b||!1;this._updateLayerStatus(a);var d=this._doPaintList(a,b);this._needsManuallyCompositing&&this._compositeManually();if(!d){var e=this;ne(function(){e._paintList(a,b,c)})}}},_compositeManually:function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c);this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},_doPaintList:function(a,b){for(var c=[],d=0;d<this._zlevelList.length;d++){var e=this._layers[this._zlevelList[d]];e.__builtin__&&e!==this._hoverlayer&&(e.__dirty||b)&&c.push(e)}for(var d=!0,f=0;f<c.length;f++){var e=c[f],g=e.ctx,h={};g.save();var k=b?e.__startIndex:e.__drawIndex,l=!b&&e.incremental&&Date.now,m=l&&Date.now(),n=e.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(e.__startIndex===e.__endIndex)e.clear(!1,n);else if(k===e.__startIndex){var q=a[k];q.incremental&&q.notClear&&!b||e.clear(!1,n)}-1===k&&(console.error("For some unknown reason. drawIndex is -1"),k=e.__startIndex);for(;k<e.__endIndex&&!(n=a[k],this._doPaintEl(n,e,b,h),n.__dirty=n.__dirtyText=!1,l&&15<Date.now()-m);k++);e.__drawIndex=k;e.__drawIndex<e.__endIndex&&(d=!1);h.prevElClipPaths&&g.restore();g.restore()}F.wxa&&B(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()});return d},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;if(b=(b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&!(f&&!f[0]&&!f[3])){if(b=a.culling)b=this._width,c=this._height,pe.copy(a.getBoundingRect()),a.transform&&pe.applyTransform(a.transform),qe.width=b,qe.height=c,b=!pe.intersect(qe);b=!b}if(b){b=a.__clipPaths;c=d.prevElClipPaths;if(!c||qh(b,c))if(c&&(e.restore(),d.prevElClipPaths=null,d.prevEl=null),b){e.save();for(c=0;c<b.length;c++)f=b[c],f.setTransform(e),e.beginPath(),f.buildPath(e,f.shape),e.clip(),f.restoreTransform(e);d.prevElClipPaths=b}a.beforeBrush&&a.beforeBrush(e);a.brush(e,d.prevEl||null);d.prevEl=a;a.afterBrush&&a.afterBrush(e)}},getLayer:function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var c=this._layers[a];c||(c=new ec("zr_"+a,this,this.dpr),c.zlevel=a,c.__builtin__=!0,this._layerConfig[a]&&za(c,this._layerConfig[a],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext());return c},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=null,g=-1,h=this._domRoot;if(!c[a]&&b&&(b.__builtin__||"function"===typeof b.resize&&"function"===typeof b.refresh)){if(0<e&&a>d[0]){for(g=0;g<e-1&&!(d[g]<a&&d[g+1]>a);g++);f=c[d[g]]}d.splice(g+1,0,a);c[a]=b;b.virtual||(f?(c=f.dom,c.nextSibling?h.insertBefore(b.dom,c.nextSibling):h.appendChild(b.dom)):h.firstChild?h.insertBefore(b.dom,h.firstChild):h.appendChild(b.dom))}},eachLayer:function(a,b){var c=this._zlevelList,d,e;for(e=0;e<c.length;e++)d=c[e],a.call(b,this._layers[d],d)},eachBuiltinLayer:function(a,b){var c=this._zlevelList,d,e,f;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.__builtin__&&a.call(b,d,e)},eachOtherLayer:function(a,b){var c=this._zlevelList,d,e,f;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.__builtin__||a.call(b,d,e)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){function b(a){e&&(e.__endIndex!==a&&(e.__dirty=!0),e.__endIndex=a)}this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1});if(this._singleCanvas)for(var c=1;c<a.length;c++){var d=a[c];if(d.zlevel!==a[c-1].zlevel||d.incremental){this._needsManuallyCompositing=!0;break}}for(var e=null,f=0,c=0;c<a.length;c++){var d=a[c],g=d.zlevel;d.incremental?(g=this.getLayer(g+.001,this._needsManuallyCompositing),g.incremental=!0,f=1):g=this.getLayer(g+(0<f?.01:0),this._needsManuallyCompositing);g!==e&&(g.__used=!0,g.__startIndex!==c&&(g.__dirty=!0),g.__startIndex=c,g.__drawIndex=g.incremental?-1:c,b(c),e=g);d.__dirty&&(g.__dirty=!0,g.incremental&&0>g.__drawIndex&&(g.__drawIndex=c))}b(c);this.eachBuiltinLayer(function(a,b){!a.__used&&0<a.getElementCount()&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0);a.__dirty&&0>a.__drawIndex&&(a.__drawIndex=a.__startIndex)})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(a){a.clear()},setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?za(c[a],b,!0):c[a]=b;for(var d=0;d<this._zlevelList.length;d++){var e=this._zlevelList[d];e!==a&&e!==a+.01||za(this._layers[e],c[a],!0)}}},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(eb(c,a),1))},resize:function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var d=this._opts;null!=a&&(d.width=a);null!=b&&(d.height=b);a=this._getSize(0);b=this._getSize(1);c.style.display="";if(this._width!==a||b!==this._height){c.style.width=a+"px";c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&this._layers[e].resize(a,b);B(this._progressiveLayers,function(c){c.resize(a,b)});this.refresh(!0)}this._width=a;this._height=b}else{if(null==a||null==b)return;this._width=a;this._height=b;this.getLayer(314159).resize(a,b)}return this},clearLayer:function(a){(a=this._layers[a])&&a.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){a=a||{};if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var b=new ec("image",this,a.pixelRatio||this.dpr);b.initContext();b.clear(!1,a.backgroundColor||this._backgroundColor);if(a.pixelRatio<=this.dpr){this.refresh();var c=b.dom.width,d=b.dom.height,e=b.ctx;this.eachLayer(function(a){a.__builtin__?e.drawImage(a.dom,0,0,c,d):a.renderToCanvas&&(b.ctx.save(),a.renderToCanvas(b.ctx),b.ctx.restore())})}else{a={};for(var f=this.storage.getDisplayList(!0),g=0;g<f.length;g++)this._doPaintEl(f[g],b,!0,a)}return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var b=this.root,f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.getBoundingRect(),f=a.style,g=f.shadowBlur*b,h=f.shadowOffsetX*b,k=f.shadowOffsetY*b,l=f.hasStroke()?f.lineWidth:0,f=Math.max(l/2,-h+g),m=Math.max(l/2,-k+g),h=e.width+f+Math.max(l/2,h+g),g=e.height+m+Math.max(l/2,k+g);c.width=h*b;c.height=g*b;d.scale(b,b);d.clearRect(0,0,h,g);d.dpr=b;g=a.position;k=a.rotation;h=a.scale;a.position=[f-e.x,m-e.y];a.rotation=0;a.scale=[1,1];a.updateTransform();a&&a.brush(d);c=new sa({style:{x:0,y:0,image:c}});null!=g&&(c.position=a.position=g);null!=k&&(c.rotation=a.rotation=k);null!=h&&(c.scale=a.scale=h);return c}};var Pc=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;ca.call(this)};Pc.prototype={constructor:Pc,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var b=0;b<a.length;b++)this.addClip(a[b])},removeClip:function(a){a=eb(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var h=c[g],k=h.step(a,b);k&&(e.push(k),f.push(h))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(g=0;g<d;g++)f[g].fire(e[g]);this._time=a;this.onframe(b);this.trigger("frame",b);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(ne(a),!b._paused&&b._update())}var b=this;this._running=!0;ne(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(a,b){b=b||{};var c=new he(a,b.loop,b.getter,b.setter);this.addAnimator(c);return c}};Ya(Pc,ca);var Sd=F.domSupported,Pd=function(){var a="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),b={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},c=Me(a,function(a){var c=a.replace("mouse","pointer");return b.hasOwnProperty(c)?c:a});return{mouse:a,touch:["touchstart","touchend","touchmove"],pointer:c}}(),Lf={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},se=Kf.prototype;se.stopPropagation=se.stopImmediatePropagation=se.preventDefault=Oe;var ta={mousedown:function(a){a=Ba(this.dom,a);this._mayPointerCapture=[a.zrX,a.zrY];this.trigger("mousedown",a)},mousemove:function(a){a=Ba(this.dom,a);var b=this._mayPointerCapture;!b||a.zrX===b[0]&&a.zrY===b[1]||Rd(this,!0);this.trigger("mousemove",a)},mouseup:function(a){a=Ba(this.dom,a);Rd(this,!1);this.trigger("mouseup",a)},mouseout:function(a){a=Ba(this.dom,a);this._pointerCapturing&&(a.zrEventControl="no_globalout");a.zrIsToLocalDOM=Jf(this,a.toElement||a.relatedTarget);this.trigger("mouseout",a)},touchstart:function(a){(a=Ba(this.dom,a))&&(a.zrByTouch=!0);this._lastTouchMoment=new Date;this.handler.processGesture(a,"start");ta.mousemove.call(this,a);ta.mousedown.call(this,a)},touchmove:function(a){(a=Ba(this.dom,a))&&(a.zrByTouch=!0);this.handler.processGesture(a,"change");ta.mousemove.call(this,a)},touchend:function(a){(a=Ba(this.dom,a))&&(a.zrByTouch=!0);this.handler.processGesture(a,"end");ta.mouseup.call(this,a);300>+new Date-this._lastTouchMoment&&ta.click.call(this,a)},pointerdown:function(a){ta.mousedown.call(this,a)},pointermove:function(a){Od(a)||ta.mousemove.call(this,a)},pointerup:function(a){ta.mouseup.call(this,a)},pointerout:function(a){Od(a)||ta.mouseout.call(this,a)}};B(["click","mousewheel","dblclick","contextmenu"],function(a){ta[a]=function(b){b=Ba(this.dom,b);this.trigger(a,b)}});var Ud={pointermove:function(a){Od(a)||Ud.mousemove.call(this,a)},pointerup:function(a){Ud.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var b=this._pointerCapturing;Rd(this,!1);this.trigger("mouseup",a);b&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}},vg=Td.prototype;vg.dispose=function(){Qd(this._localHandlerScope);Sd&&Qd(this._globalHandlerScope)};vg.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")};Ya(Td,ca);var Qh=!F.canvasSupported,Ha={canvas:re},Sa={},te=function(a,b,c){c=c||{};this.dom=b;this.id=a;var d=this,e=new je,f=c.renderer;if(Qh){if(!Ha.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");f="vml"}else f&&Ha[f]||(f="canvas");a=new Ha[f](b,e,c,a);this.storage=e;this.painter=a;b=F.node||F.worker?null:new Td(a.getViewportRoot(),a.root);this.handler=new Ra(e,a,b,a.root);this.animation=new Pc({stage:{update:hd(this.flush,this)}});this.animation.start();var g=e.delFromStorage,h=e.addToStorage;e.delFromStorage=function(a){g.call(e,a);a&&a.removeSelfFromZr(d)};e.addToStorage=function(a){h.call(e,a);a.addSelfToZr(d)}};te.prototype={constructor:te,getId:function(){return this.id},add:function(a){this.storage.addRoot(a);this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a);this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b);this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1;this.painter.refresh();this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var a;this._needsRefresh&&(a=!0,this.refreshImmediately());this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());a&&this.trigger("rendered")},addHover:function(a,b){if(this.painter.addHover){var c=this.painter.addHover(a,b);this.refreshHover();return c}},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{};this.painter.resize(a.width,a.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete Sa[this.id]}};var Dc=Math.pow,Kb=Math.sqrt,Vf=Kb(3),Ec=1/3,lb=ra(),Ma=ra(),$b=ra(),W=Math.min,da=Math.max,ue=Math.sin,ve=Math.cos,ob=2*Math.PI,Qc=ra(),Rc=ra(),Sc=ra(),wg=[],xg=[],H={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ba=[],Ta=[],Ia=[],fa=[],yg=Math.min,zg=Math.max,fc=Math.cos,gc=Math.sin,Tc=Math.sqrt,Tb=Math.abs,we="undefined"!==typeof Float32Array,aa=function(a){if(this._saveData=!a)this.data=[];this._ctx=null};aa.prototype={constructor:aa,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b,c){c=c||0;this._ux=Tb(c/Lc/a)||0;this._uy=Tb(c/Lc/b)||0},getContext:function(){return this._ctx},beginPath:function(a){(this._ctx=a)&&a.beginPath();a&&(this.dpr=a.dpr);this._saveData&&(this._len=0);this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(a,b){this.addData(H.M,a,b);this._ctx&&this._ctx.moveTo(a,b);this._x0=a;this._y0=b;this._xi=a;this._yi=b;return this},lineTo:function(a,b){var c=Tb(a-this._xi)>this._ux||Tb(b-this._yi)>this._uy||5>this._len;this.addData(H.L,a,b);this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b));c&&(this._xi=a,this._yi=b);return this},bezierCurveTo:function(a,b,c,d,e,f){this.addData(H.C,a,b,c,d,e,f);this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f));this._xi=e;this._yi=f;return this},quadraticCurveTo:function(a,b,c,d){this.addData(H.Q,a,b,c,d);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d));this._xi=c;this._yi=d;return this},arc:function(a,b,c,d,e,f){this.addData(H.A,a,b,c,c,d,e-d,0,f?0:1);this._ctx&&this._ctx.arc(a,b,c,d,e,f);this._xi=fc(e)*c+a;this._yi=gc(e)*c+b;return this},arcTo:function(a,b,c,d,e){this._ctx&&this._ctx.arcTo(a,b,c,d,e);return this},rect:function(a,b,c,d){this._ctx&&this._ctx.rect(a,b,c,d);this.addData(H.R,a,b,c,d);return this},closePath:function(){this.addData(H.Z);var a=this._ctx,b=this._x0,c=this._y0;a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath());this._xi=b;this._yi=c;return this},fill:function(a){a&&a.fill();this.toStatic()},stroke:function(a){a&&a.stroke();this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a;for(var b=this._dashIdx=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){this._dashOffset=a;return this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length===b||!we||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();we&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(e=0;e<b;e++)for(var c=a[e].data,f=0;f<c.length;f++)this.data[d++]=c[f];this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c=this._dashSum,d=this._dashOffset,e=this._lineDash,f=this._ctx,g=this._xi,h=this._yi,k=a-g,l=b-h,m=Tc(k*k+l*l),n=e.length,q,k=k/m,l=l/m;0>d&&(d=c+d);d%=c;c=g-d*k;for(d=h-d*l;0<k&&c<=a||0>k&&c>=a||0===k&&(0<l&&d<=b||0>l&&d>=b);)if(q=this._dashIdx,m=e[q],c+=k*m,d+=l*m,this._dashIdx=(q+1)%n,!(0<k&&c<g||0>k&&c>g||0<l&&d<h||0>l&&d>h))f[q%2?"moveTo":"lineTo"](0<=k?yg(c,a):zg(c,a),0<=l?yg(d,b):zg(d,b));k=c-a;l=d-b;this._dashOffset=-Tc(k*k+l*l)},_dashedBezierTo:function(a,b,c,d,e,f){var g=this._dashSum,h=this._dashOffset,k=this._lineDash,l=this._ctx,m=this._xi,n=this._yi,q,p,u=0,v=this._dashIdx,t=k.length,r,x,w=0;0>h&&(h=g+h);h%=g;for(g=0;1>g;g+=.1)q=Z(m,a,c,e,g+.1)-Z(m,a,c,e,g),p=Z(n,b,d,f,g+.1)-Z(n,b,d,f,g),u+=Tc(q*q+p*p);for(;v<t&&!(w+=k[v],w>h);v++);for(g=(w-h)/u;1>=g;)r=Z(m,a,c,e,g),x=Z(n,b,d,f,g),v%2?l.moveTo(r,x):l.lineTo(r,x),g+=k[v]/u,v=(v+1)%t;0!==v%2&&l.lineTo(e,f);q=e-r;p=f-x;this._dashOffset=-Tc(q*q+p*p)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3;d=(d+2*b)/3;a=(this._xi+2*a)/3;b=(this._yi+2*b)/3;this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,we&&(this.data=new Float32Array(a)))},getBoundingRect:function(){ba[0]=ba[1]=Ia[0]=Ia[1]=Number.MAX_VALUE;Ta[0]=Ta[1]=fa[0]=fa[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=a[f++];1===f&&(b=a[f],c=a[f+1],d=b,e=c);switch(g){case H.M:d=a[f++];e=a[f++];b=d;c=e;Ia[0]=d;Ia[1]=e;fa[0]=d;fa[1]=e;break;case H.L:var g=b,h=a[f],b=a[f+1],k=Ia,l=fa;k[0]=W(g,h);k[1]=W(c,b);l[0]=da(g,h);l[1]=da(c,b);b=a[f++];c=a[f++];break;case H.C:var g=b,m=a[f++],h=a[f++],n=a[f++],b=a[f++],k=a[f],l=a[f+1],q=Ia,p=fa,u=Of,v=Z,t,r=u(g,m,n,k,wg);q[0]=Infinity;q[1]=Infinity;p[0]=-Infinity;p[1]=-Infinity;for(t=0;t<r;t++){var x=v(g,m,n,k,wg[t]);q[0]=W(x,q[0]);p[0]=da(x,p[0])}r=u(c,h,b,l,xg);for(t=0;t<r;t++)m=v(c,h,b,l,xg[t]),q[1]=W(m,q[1]),p[1]=da(m,p[1]);q[0]=W(g,q[0]);p[0]=da(g,p[0]);q[0]=W(k,q[0]);p[0]=da(k,p[0]);q[1]=W(c,q[1]);p[1]=da(c,p[1]);q[1]=W(l,q[1]);p[1]=da(l,p[1]);b=a[f++];c=a[f++];break;case H.Q:g=b;v=a[f++];q=a[f++];h=a[f];b=a[f+1];k=Ia;l=fa;r=Qf;p=Ea;t=da(W(r(g,v,h),1),0);r=da(W(r(c,q,b),1),0);v=p(g,v,h,t);q=p(c,q,b,r);k[0]=W(g,h,v);k[1]=W(c,b,q);l[0]=da(g,h,v);l[1]=da(c,b,q);b=a[f++];c=a[f++];break;case H.A:b=a[f++];g=a[f++];k=a[f++];c=a[f++];t=a[f++];h=a[f++]+t;f+=1;m=1-a[f++];1===f&&(d=fc(t)*k+b,e=gc(t)*c+g);var l=b,q=g,p=k,v=c,r=h,w=m,m=Ia,n=fa,u=hb,x=ja,y=Math.abs(t-r);if(1E-4>y%ob&&1E-4<y)m[0]=l-p,m[1]=q-v,n[0]=l+p,n[1]=q+v;else for(Qc[0]=ve(t)*p+l,Qc[1]=ue(t)*v+q,Rc[0]=ve(r)*p+l,Rc[1]=ue(r)*v+q,u(m,Qc,Rc),x(n,Qc,Rc),t%=ob,0>t&&(t+=ob),r%=ob,0>r&&(r+=ob),t>r&&!w?r+=ob:t<r&&w&&(t+=ob),w&&(w=r,r=t,t=w),w=0;w<r;w+=Math.PI/2)w>t&&(Sc[0]=ve(w)*p+l,Sc[1]=ue(w)*v+q,u(m,Sc,m),x(n,Sc,n));b=fc(h)*k+b;c=gc(h)*c+g;break;case H.R:d=b=a[f++];e=c=a[f++];k=a[f++];l=a[f++];g=d;h=e;k=d+k;l=e+l;q=Ia;p=fa;q[0]=W(g,k);q[1]=W(h,l);p[0]=da(g,k);p[1]=da(h,l);break;case H.Z:b=d,c=e}hb(ba,ba,Ia);ja(Ta,Ta,fa)}0===f&&(ba[0]=ba[1]=Ta[0]=Ta[1]=0);return new L(ba[0],ba[1],Ta[0]-ba[0],Ta[1]-ba[1])},rebuildPath:function(a){for(var b=this.data,c,d,e,f,g,h,k=this._ux,l=this._uy,m=this._len,n=0;n<m;)switch(g=b[n++],1===n&&(e=b[n],f=b[n+1],c=e,d=f),g){case H.M:c=e=b[n++];d=f=b[n++];a.moveTo(e,f);break;case H.L:g=b[n++];h=b[n++];if(Tb(g-e)>k||Tb(h-f)>l||n===m-1)a.lineTo(g,h),e=g,f=h;break;case H.C:a.bezierCurveTo(b[n++],b[n++],b[n++],b[n++],b[n++],b[n++]);e=b[n-2];f=b[n-1];break;case H.Q:a.quadraticCurveTo(b[n++],b[n++],b[n++],b[n++]);e=b[n-2];f=b[n-1];break;case H.A:e=b[n++];f=b[n++];h=b[n++];g=b[n++];var q=b[n++],p=b[n++],u=b[n++],v=b[n++],t=h>g?h:g,r=h>g?1:h/g,x=h>g?g/h:1,p=q+p;.001<Math.abs(h-g)?(a.translate(e,f),a.rotate(u),a.scale(r,x),a.arc(0,0,t,q,p,1-v),a.scale(1/r,1/x),a.rotate(-u),a.translate(-e,-f)):a.arc(e,f,t,q,p,1-v);1===n&&(c=fc(q)*h+e,d=gc(q)*g+f);e=fc(p)*h+e;f=gc(p)*g+f;break;case H.R:c=e=b[n];d=f=b[n+1];a.rect(b[n++],b[n++],b[n++],b[n++]);break;case H.Z:a.closePath(),e=c,f=d}}};aa.CMD=H;var Tf=2*Math.PI,ac=2*Math.PI,Nb=aa.CMD,bc=2*Math.PI,la=[-1,-1,-1],Na=[-1,-1],Ag=Nc.prototype.getCanvasPattern,xe=Math.abs,Rh=new aa(!0);z.prototype={constructor:z,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(a,b){var c=this.style,d=this.path||Rh,e=c.hasStroke(),f=c.hasFill(),g=c.fill,h=c.stroke,k=f&&!!g.colorStops,l=e&&!!h.colorStops,m=f&&!!g.image,n=e&&!!h.image;c.bind(a,this,b);this.setTransform(a);if(this.__dirty){var q;k&&(q=q||this.getBoundingRect(),this._fillGradient=c.getGradient(a,g,q));l&&(q=q||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,h,q))}k?a.fillStyle=this._fillGradient:m&&(a.fillStyle=Ag.call(g,a));l?a.strokeStyle=this._strokeGradient:n&&(a.strokeStyle=Ag.call(h,a));g=c.lineDash;h=c.lineDashOffset;k=!!a.setLineDash;l=this.getGlobalScale();d.setScale(l[0],l[1],this.segmentIgnoreThreshold);this.__dirtyPath||g&&!k&&e?(d.beginPath(a),g&&!k&&(d.setLineDash(g),d.setLineDashOffset(h)),this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a));f&&(null!=c.fillOpacity?(f=a.globalAlpha,a.globalAlpha=c.fillOpacity*c.opacity,d.fill(a),a.globalAlpha=f):d.fill(a));g&&k&&(a.setLineDash(g),a.lineDashOffset=h);e&&(null!=c.strokeOpacity?(f=a.globalAlpha,a.globalAlpha=c.strokeOpacity*c.opacity,d.stroke(a),a.globalAlpha=f):d.stroke(a));g&&k&&a.setLineDash([]);null!=c.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new aa},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new aa);this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1));a=d.getBoundingRect()}this._rect=a;if(b.hasStroke()){d=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c)d.copy(a),c=b.lineWidth,a=b.strokeNoScale?this.getLineScale():1,b.hasFill()||(c=Math.max(c,this.strokeContainThreshold||4)),1E-10<a&&(d.width+=c/a,d.height+=c/a,d.x-=c/a/2,d.y-=c/a/2);return d}return a},contain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;a=c[0];b=c[1];if(d.contain(a,b)){c=this.path.data;if(e.hasStroke()){var d=e.lineWidth,f=e.strokeNoScale?this.getLineScale():1;if(1E-10<f&&(e.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),Uf(c,d/f,!0,a,b)))return!0}if(e.hasFill())return Uf(c,0,!1,a,b)}return!1},dirty:function(a){null==a&&(a=!0);a&&(this.__dirtyPath=a,this._rect=null);this.__dirty=this.__dirtyText=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):R.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(X(a))for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&1E-10<xe(a[0]-1)&&1E-10<xe(a[3]-1)?Math.sqrt(xe(a[0]*a[3]-a[2]*a[1])):1}};z.extend=function(a){var b=function(b){z.call(this,b);a.style&&this.style.extendFrom(a.style,!1);var c=a.shape;if(c){var d=this.shape=this.shape||{},g;for(g in c)!d.hasOwnProperty(g)&&c.hasOwnProperty(g)&&(d[g]=c[g])}a.init&&a.init.call(this,b)};Y(b,z);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b};Y(z,R);var Eb=aa.CMD,yh=[[],[],[]],Zf=Math.sqrt,xh=Math.atan2,Wd=Math.sqrt,Hc=Math.sin,Gc=Math.cos,Fc=Math.PI,Xd=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},Xf=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Xd(a,b))},vh=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,wh=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,Sh=(Object.freeze||Object)({createFromString:$f,extendFromString:function(a,b){return z.extend(Yf(a,b))},mergePath:function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.path||f.createPathProxy();f.__dirtyPath&&f.buildPath(f.path,f.shape,!0);c.push(f.path)}d=new z(b);d.createPathProxy();d.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)};return d}}),xa=function(a){R.call(this,a)};xa.prototype={constructor:xa,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&Jb(c,!0);c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;null!=d&&(d+="");Nd(d,c)?(this.setTransform(a),c.rich?Gf(this,a,d,c,null,b):Af(this,a,d,c,null,b),this.restoreTransform(a)):a.__attrCachedBy=Ka.NONE},getBoundingRect:function(){var a=this.style;this.__dirty&&Jb(a,!0);if(!this._rect){var b=Bc(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.textLineHeight,a.rich);b.x+=a.x||0;b.y+=a.y||0;Kd(a.textStroke,a.textStrokeWidth)&&(a=a.textStrokeWidth,b.x-=a/2,b.y-=a/2,b.width+=a,b.height+=a);this._rect=b}return this._rect}};Y(xa,R);var Bg=z.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy);a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Oa=Math.round,cb={},ye=z.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c,d,e,f;this.subPixelOptimize?(bg(cb,b,this.style),c=cb.x,d=cb.y,e=cb.width,f=cb.height,cb.r=b.r,b=cb):(c=b.x,d=b.y,e=b.width,f=b.height);b.r?yf(a,b):a.rect(c,d,e,f);a.closePath()}}),Cg=z.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.rx,f=b.ry,g=.5522848*e,h=.5522848*f;a.moveTo(c-e,d);a.bezierCurveTo(c-e,d-h,c-g,d-f,c,d-f);a.bezierCurveTo(c+g,d-f,c+e,d-h,c+e,d);a.bezierCurveTo(c+e,d+h,c+g,d+f,c,d+f);a.bezierCurveTo(c-g,d+f,c-e,d+h,c-e,d);a.closePath()}}),hc={},Dg=z.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c,d,e,f;this.subPixelOptimize?(ag(hc,b,this.style),c=hc.x1,d=hc.y1,e=hc.x2,f=hc.y2):(c=b.x1,d=b.y1,e=b.x2,f=b.y2);var g=b.percent;0!==g&&(a.moveTo(c,d),1>g&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),Eg=z.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){dg(a,b,!0)}}),Fg=z.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){dg(a,b,!1)}}),Ua=function(a){this.colorStops=a||[]};Ua.prototype={constructor:Ua,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var ic=function(a,b,c,d,e,f){this.x=null==a?0:a;this.y=null==b?0:b;this.x2=null==c?1:c;this.y2=null==d?0:d;this.type="linear";this.global=f||!1;this.colorStops=e||[]};ic.prototype={constructor:ic};Y(ic,Ua);var ea=/[\s,]+/;Ic.prototype.parse=function(a,b){b=b||{};var c,d=a;qc(d)&&(d=(new DOMParser).parseFromString(d,"text/xml"));9===d.nodeType&&(d=d.firstChild);for(;"svg"!==d.nodeName.toLowerCase()||1!==d.nodeType;)d=d.nextSibling;c=d;if(!c)throw Error("Illegal svg");this._root=d=new O;var e=c.getAttribute("viewBox")||"",f=parseFloat(c.getAttribute("width")||b.width),g=parseFloat(c.getAttribute("height")||b.height);isNaN(f)&&(f=null);isNaN(g)&&(g=null);oa(c,d,null,!0);for(c=c.firstChild;c;)this._parseNode(c,d),c=c.nextSibling;var h,k;e&&(e=S(e).split(ea),4<=e.length&&(h={x:parseFloat(e[0]||0),y:parseFloat(e[1]||0),width:parseFloat(e[2]),height:parseFloat(e[3])}));h&&null!=f&&null!=g&&(k=hg(h,f,g),b.ignoreViewBox||(e=d,d=new O,d.add(e),e.scale=k.scale.slice(),e.position=k.position.slice()));b.ignoreRootClip||null==f||null==g||d.setClipPath(new ye({shape:{x:0,y:0,width:f,height:g}}));return{root:d,width:f,height:g,viewBoxRect:h,viewBoxTransform:k}};Ic.prototype._parseNode=function(a,b){var c=a.nodeName.toLowerCase();"defs"===c?this._isDefine=!0:"text"===c&&(this._isText=!0);var d;if(this._isDefine){var e=Th[c];if(e){var e=e.call(this,a),f=a.getAttribute("id");f&&(this._defs[f]=e)}}else if(e=Uh[c])d=e.call(this,a,b),b.add(d);for(e=a.firstChild;e;)1===e.nodeType&&this._parseNode(e,d),3===e.nodeType&&this._isText&&this._parseText(e,d),e=e.nextSibling;"defs"===c?this._isDefine=!1:"text"===c&&(this._isText=!1)};Ic.prototype._parseText=function(a,b){if(1===a.nodeType){var c=a.getAttribute("dx")||0,d=a.getAttribute("dy")||0;this._textX+=parseFloat(c);this._textY+=parseFloat(d)}c=new xa({style:{text:a.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});U(b,c);oa(a,c,this._defs);(d=c.style.fontSize)&&9>d&&(c.style.fontSize=9,c.scale=c.scale||[1,1],c.scale[0]*=d/9,c.scale[1]*=d/9);d=c.getBoundingRect();this._textX+=d.width;b.add(c);return c};var Uh={g:function(a,b){var c=new O;U(b,c);oa(a,c,this._defs);return c},rect:function(a,b){var c=new ye;U(b,c);oa(a,c,this._defs);c.setShape({x:parseFloat(a.getAttribute("x")||0),y:parseFloat(a.getAttribute("y")||0),width:parseFloat(a.getAttribute("width")||0),height:parseFloat(a.getAttribute("height")||0)});return c},circle:function(a,b){var c=new Bg;U(b,c);oa(a,c,this._defs);c.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),r:parseFloat(a.getAttribute("r")||0)});return c},line:function(a,b){var c=new Dg;U(b,c);oa(a,c,this._defs);c.setShape({x1:parseFloat(a.getAttribute("x1")||0),y1:parseFloat(a.getAttribute("y1")||0),x2:parseFloat(a.getAttribute("x2")||0),y2:parseFloat(a.getAttribute("y2")||0)});return c},ellipse:function(a,b){var c=new Cg;U(b,c);oa(a,c,this._defs);c.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),rx:parseFloat(a.getAttribute("rx")||0),ry:parseFloat(a.getAttribute("ry")||0)});return c},polygon:function(a,b){var c=a.getAttribute("points");c&&(c=eg(c));c=new Eg({shape:{points:c||[]}});U(b,c);oa(a,c,this._defs);return c},polyline:function(a,b){var c=new z;U(b,c);oa(a,c,this._defs);(c=a.getAttribute("points"))&&(c=eg(c));return new Fg({shape:{points:c||[]}})},image:function(a,b){var c=new sa;U(b,c);oa(a,c,this._defs);c.setStyle({image:a.getAttribute("xlink:href"),x:a.getAttribute("x"),y:a.getAttribute("y"),width:a.getAttribute("width"),height:a.getAttribute("height")});return c},text:function(a,b){var c=a.getAttribute("x")||0,d=a.getAttribute("y")||0,e=a.getAttribute("dx")||0,f=a.getAttribute("dy")||0;this._textX=parseFloat(c)+parseFloat(e);this._textY=parseFloat(d)+parseFloat(f);c=new O;U(b,c);oa(a,c,this._defs);return c},tspan:function(a,b){var c=a.getAttribute("x"),d=a.getAttribute("y");null!=c&&(this._textX=parseFloat(c));null!=d&&(this._textY=parseFloat(d));var c=a.getAttribute("dx")||0,d=a.getAttribute("dy")||0,e=new O;U(b,e);oa(a,e,this._defs);this._textX+=c;this._textY+=d;return e},path:function(a,b){var c=a.getAttribute("d")||"",c=$f(c);U(b,c);oa(a,c,this._defs);return c}},Th={lineargradient:function(a){var b=parseInt(a.getAttribute("x1")||0,10),c=parseInt(a.getAttribute("y1")||0,10),d=parseInt(a.getAttribute("x2")||10,10),e=parseInt(a.getAttribute("y2")||0,10),b=new ic(b,c,d,e);for(a=a.firstChild;a;)1===a.nodeType&&(c=a.getAttribute("offset"),c=0<c.indexOf("%")?parseInt(c,10)/100:c?parseFloat(c):0,d=a.getAttribute("stop-color")||"#000000",b.addColorStop(c,d)),a=a.nextSibling;return b},radialgradient:function(a){}},Qa={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},Bh=/url\(\s*#(.*?)\)/,Ch=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,gg=/([^\s:;]+)\s*:\s*([^:;]+)/g,Vh=z.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1],a[c].segmentIgnoreThreshold)},buildPath:function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return z.prototype.getBoundingRect.call(this)}});N.prototype.incremental=!0;N.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=!1};N.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a);this.dirty()};N.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++)this.addDisplayable(a[c],b)};N.prototype.eachPendingDisplayable=function(a){for(var b=this._cursor;b<this._displayables.length;b++)a&&a(this._displayables[b]);for(b=0;b<this._temporaryDisplayables.length;b++)a&&a(this._temporaryDisplayables[b])};N.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var b=this._displayables[a];b.parent=this;b.update();b.parent=null}for(a=0;a<this._temporaryDisplayables.length;a++)b=this._temporaryDisplayables[a],b.parent=this,b.update(),b.parent=null};N.prototype.brush=function(a,b){for(var c=this._cursor;c<this._displayables.length;c++){var d=this._displayables[c];d.beforeBrush&&d.beforeBrush(a);d.brush(a,c===this._cursor?null:this._displayables[c-1]);d.afterBrush&&d.afterBrush(a)}this._cursor=c;for(c=0;c<this._temporaryDisplayables.length;c++)d=this._temporaryDisplayables[c],d.beforeBrush&&d.beforeBrush(a),d.brush(a,0===c?null:this._temporaryDisplayables[c-1]),d.afterBrush&&d.afterBrush(a);this._temporaryDisplayables=[];this.notClear=!0};var Wh=[];N.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new L(Infinity,Infinity,-Infinity,-Infinity),b=0;b<this._displayables.length;b++){var c=this._displayables[b],d=c.getBoundingRect().clone();c.needLocalTransform()&&d.applyTransform(c.getLocalTransform(Wh));a.union(d)}this._rect=a}return this._rect};N.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b);if(this.getBoundingRect().contain(c[0],c[1]))for(c=0;c<this._displayables.length;c++)if(this._displayables[c].contain(a,b))return!0;return!1};Y(N,R);var Xh=z.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise;a.moveTo(Math.cos(f)*e+c,Math.sin(f)*e+d);a.arc(c,d,e,f,g,!h)}}),ga=[],Yh=z.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,k=b.cpx2,l=b.cpy2,m=b.percent;0!==m&&(a.moveTo(c,d),null==k||null==l?(1>m&&(Rf(c,g,e,m,ga),g=ga[1],e=ga[2],Rf(d,h,f,m,ga),h=ga[1],f=ga[2]),a.quadraticCurveTo(g,h,e,f)):(1>m&&(Pf(c,g,k,e,m,ga),g=ga[1],k=ga[2],e=ga[3],Pf(d,h,l,f,m,ga),h=ga[1],l=ga[2],f=ga[3]),a.bezierCurveTo(g,h,k,l,e,f)))},pointAt:function(a){return ig(this.shape,a,!1)},tangentAt:function(a){a=ig(this.shape,a,!0);return Se(a,a)}}),Zh=z.extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width,f=b.height;a.moveTo(c,d+e);a.bezierCurveTo(c+e,d+e,c+3*e/2,d-e/3,c,d-f);a.bezierCurveTo(c-3*e/2,d-e/3,c-e,d+e,c,d+e);a.closePath()}}),$h=z.extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width,f=b.height;a.moveTo(c,d);a.bezierCurveTo(c+e/2,d-2*f/3,c+2*e,d+f/3,c,d+f);a.bezierCurveTo(c-2*e,d+f/3,c-e/2,d-2*f/3,c,d)}}),Gg=Math.PI,Hg=Math.sin,Ig=Math.cos,ai=z.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(a,b){var c=b.n;if(c&&!(2>c)){var d=b.x,e=b.y,f=b.r,g=2*Gg/c,h=-Gg/2;a.moveTo(d+f*Ig(h),e+f*Hg(h));for(var k=0,c=c-1;k<c;k++)h+=g,a.lineTo(d+f*Ig(h),e+f*Hg(h));a.closePath()}}}),bi=z.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d);a.arc(c,d,b.r,0,e,!1);a.moveTo(c+b.r0,d);a.arc(c,d,b.r0,0,e,!0)}}),ze=Math.sin,ci=Math.cos,Uc=Math.PI/180,di=z.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c,d,e=b.r,f,g=b.k,h=b.n,k=b.cx,l=b.cy;a.moveTo(k,l);for(var m=0,n=e.length;m<n;m++){f=e[m];for(var q=0;q<=360*h;q++)c=f*ze(g/h*q%360*Uc)*ci(q*Uc)+k,d=f*ze(g/h*q%360*Uc)*ze(q*Uc)+l,a.lineTo(c,d)}}}),pa=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Jg=function(a){return F.browser.ie&&11<=F.browser.version?function(){var b=this.__clipPaths,c=this.style,d;if(b)for(var e=0;e<b.length;e++){var f=b[e],g=f&&f.shape,f=f&&f.type;if(g&&("sector"===f&&g.startAngle===g.endAngle||!("rect"!==f||g.width&&g.height))){for(b=0;b<pa.length;b++)pa[b][2]=c[pa[b][0]],c[pa[b][0]]=pa[b][1];d=!0;break}}a.apply(this,arguments);if(d)for(b=0;b<pa.length;b++)c[pa[b][0]]=pa[b][2]}:a},ei=z.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Jg(z.prototype.brush),buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,k=b.clockwise,l=Math.cos(g),m=Math.sin(g);a.moveTo(l*e+c,m*e+d);a.lineTo(l*f+c,m*f+d);a.arc(c,d,f,g,h,!k);a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d);0!==e&&a.arc(c,d,e,h,g,k);a.closePath()}}),Vc=Math.PI,Wc=Math.cos,Kg=Math.sin,fi=z.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(a,b){var c=b.n;if(c&&!(2>c)){var d=b.cx,e=b.cy,f=b.r,g=b.r0;null==g&&(g=4<c?f*Wc(2*Vc/c)/Wc(Vc/c):f/3);var h=Vc/c,k=-Vc/2,l=d+f*Wc(k),m=e+f*Kg(k),k=k+h;a.moveTo(l,m);l=0;for(c=2*c-1;l<c;l++)m=0===l%2?g:f,a.lineTo(d+m*Wc(k),e+m*Kg(k)),k+=h;a.closePath()}}}),Xc=Math.cos,Yc=Math.sin,gi=z.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c,d,e=b.r,f=b.r0,g=b.d,h=b.cx,k=b.cy,l="out"===b.location?1:-1;if(!(b.location&&e<=f)){var m=0,n=1;c=(e+l*f)*Xc(0)-l*g*Xc(0)+h;d=(e+l*f)*Yc(0)-g*Yc(0)+k;a.moveTo(c,d);do m++;while(0!==f*m%(e+l*f));do d=Math.PI/180*n,c=(e+l*f)*Xc(d)-l*g*Xc((e/f+l)*d)+h,d=(e+l*f)*Yc(d)-g*Yc((e/f+l)*d)+k,a.lineTo(c,d),n++;while(n<=f*m/(e+l*f)*360)}}}),Zc=function(a,b,c,d,e){this.x=null==a?.5:a;this.y=null==b?.5:b;this.r=null==c?.5:c;this.type="radial";this.global=e||!1;this.colorStops=d||[]};Zc.prototype={constructor:Zc};Y(Zc,Ua);var Va=aa.CMD,Dh=Array.prototype.join,Yd=Math.round,Lg=Math.sin,Mg=Math.cos,Ng=Math.PI,pb=2*Math.PI,hi=180/Ng,ad={brush:function(a){var b=a.style,c=a.__svgEl;c||(c=ua("path"),a.__svgEl=c);a.path||a.createPathProxy();var d=a.path;if(a.__dirtyPath){d.beginPath();d.subPixelOptimize=!1;a.buildPath(d,a.shape);a.__dirtyPath=!1;var e;e=[];for(var f=d.data,d=d.len(),g=0;g<d;){var h="",k=0;switch(f[g++]){case Va.M:h="M";k=2;break;case Va.L:h="L";k=2;break;case Va.Q:h="Q";k=4;break;case Va.C:h="C";k=6;break;case Va.A:var l=f[g++],m=f[g++],n=f[g++],q=f[g++],p=f[g++],u=f[g++],v=f[g++],t=f[g++],r=Math.abs(u),x=r-pb,x=1E-4>x&&-1E-4<x||(t?u>=pb:-u>=pb),w=0<u?u%pb:u%pb+pb,r=x?!0:1E-4>r&&-1E-4<r?!1:w>=Ng===!!t,w=V(l+n*Mg(p)),y=V(m+q*Lg(p));x&&(u=t?pb-1E-4:-pb+1E-4,r=!0,9===g&&e.push("M",w,y));l=V(l+n*Mg(p+u));m=V(m+q*Lg(p+u));e.push("A",V(n),V(q),Yd(v*hi),+r,+t,l,m);break;case Va.Z:h="Z";break;case Va.R:l=V(f[g++]),m=V(f[g++]),n=V(f[g++]),q=V(f[g++]),e.push("M",l,m,"L",l+n,m,"L",l+n,m+q,"L",l,m+q,"L",l,m)}h&&e.push(h);for(h=0;h<k;h++)e.push(V(f[g++]))}e=e.join(" ");0>e.indexOf("NaN")&&A(c,"d",e)}jg(c,b,!1,a);Zd(c,a.transform);null!=b.text?$c(a,a.getBoundingRect()):$d(a)}},Og={brush:function(a){var b=a.style,c=b.image;c instanceof HTMLImageElement&&(c=c.src);if(c){var d=b.x||0,e=b.y||0,f=b.width,g=b.height,h=a.__svgEl;h||(h=ua("image"),a.__svgEl=h);c!==a.__imageSrc&&(h.setAttributeNS("http://www.w3.org/1999/xlink","href",c),a.__imageSrc=c);A(h,"width",f);A(h,"height",g);A(h,"x",d);A(h,"y",e);Zd(h,a.transform);null!=b.text?$c(a,a.getBoundingRect()):$d(a)}}},bd={},Ae=new L,jc={},qa=[],Eh={left:"start",right:"end",center:"middle",middle:"middle"},$c=function(a,b){var c=a.style,d=a.transform,e=a instanceof xa||c.transformText;a.__dirty&&Jb(c,!0);var f=c.text;null!=f&&(f+="");if(Nd(f,c)){null==f&&(f="");!e&&d&&(Ae.copy(b),Ae.applyTransform(d),b=Ae);var g=a.__textSvgEl;g||(g=ua("text"),a.__textSvgEl=g);var h=g.style,k=c.font||"12px sans-serif",l=g.__computedFont;k!==g.__styleFont&&(h.font=g.__styleFont=k,l=g.__computedFont=h.font);var m=c.textPadding,h=c.textLineHeight,k=a.__textCotentBlock;if(!k||a.__dirtyText)k=a.__textCotentBlock=Cd(f,l,m,h,c.truncate);var n=k.outerHeight,l=k.lineHeight;Hd(jc,a,c,b);var q=jc.baseX,p=jc.baseY,h=jc.textAlign||"left",u=jc.textVerticalAlign,v=g,t=b,r=q,x=p;uc(qa);e&&d&&vc(qa,d);d=c.textRotation;t&&d&&(e=c.textOrigin,"center"===e?(r=t.width/2+t.x,x=t.height/2+t.y):e&&(r=e[0]+t.x,x=e[1]+t.y),qa[4]-=r,qa[5]-=x,xc(qa,qa,d),qa[4]+=r,qa[5]+=x);Zd(v,qa);e=wb(p,n,u);d=q;m&&(d="right"===h?q-m[1]:"center"===h?q+m[3]/2-m[1]/2:q+m[3],e+=m[0]);e+=l/2;jg(g,c,!0,a);q=k.canCacheByTextString;c=a.__tspanList||(a.__tspanList=[]);m=c.length;if(q&&a.__canCacheByTextString&&a.__text===f){if(a.__dirtyText&&m)for(f=0;f<m;++f)kg(c[f],h,d,e+f*l)}else{a.__text=f;a.__canCacheByTextString=q;k=k.lines;q=k.length;for(f=0;f<q;f++)n=c[f],p=k[f],n?n.__zrText!==p&&(n.innerHTML="",n.appendChild(document.createTextNode(p))):(n=c[f]=ua("tspan"),g.appendChild(n),n.appendChild(document.createTextNode(p))),kg(n,h,d,e+f*l);if(m>q){for(;f<m;f++)g.removeChild(c[f]);c.length=q}}}};bd.drawRectText=$c;bd.brush=function(a){null!=a.style.text?$c(a,!1):$d(a)};lg.prototype={diff:function(a,b,c){function d(){for(var c=-1*h;c<=h;c+=2){var d;d=k[c-1];var l=k[c+1],p=(l?l.newPos:0)-c;d&&(k[c-1]=void 0);var u=d&&d.newPos+1<f,p=l&&0<=p&&p<g;if(u||p){!u||p&&d.newPos<l.newPos?(d={newPos:l.newPos,components:l.components.slice(0)},e.pushComponent(d.components,void 0,!0)):(d.newPos++,e.pushComponent(d.components,!0,void 0));p=e.extractCommon(d,b,a,c);if(d.newPos+1>=f&&p+1>=g){c=d.components;d=0;l=c.length;for(u=p=0;d<l;d++){var v=c[d];if(v.removed){t=[];for(r=u;r<u+v.count;r++)t.push(r);v.indices=t;u+=v.count}else{for(var t=[],r=p;r<p+v.count;r++)t.push(r);v.indices=t;p+=v.count;v.added||(u+=v.count)}}return c}k[c]=d}else k[c]=void 0}h++}c||(c=function(a,b){return a===b});this.equals=c;var e=this;a=a.slice();b=b.slice();var f=b.length,g=a.length,h=1;c=f+g;var k=[{newPos:-1,components:[]}],l=this.extractCommon(k[0],b,a,0);if(k[0].newPos+1>=f&&l+1>=g){c=[];for(l=0;l<b.length;l++)c.push(l);return[{indices:c,count:b.length}]}for(;h<=c;)if(l=d())return l},pushComponent:function(a,b,c){var d=a[a.length-1];d&&d.added===b&&d.removed===c?a[a.length-1]={count:d.count+1,added:b,removed:c}:a.push({count:1,added:b,removed:c})},extractCommon:function(a,b,c,d){var e=b.length,f=c.length,g=a.newPos;d=g-d;for(var h=0;g+1<e&&d+1<f&&this.equals(b[g+1],c[d+1]);)g++,d++,h++;h&&a.components.push({count:h});a.newPos=g;return d},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}};var ii=new lg;C.prototype.createElement=ua;C.prototype.getDefs=function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?(c=b.insertBefore(this.createElement("defs"),b.firstChild),c.contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]};C.prototype.update=function(a,b){if(a){var c=this.getDefs(!1);a[this._domName]&&c.contains(a[this._domName])?"function"===typeof b&&b(a):(c=this.add(a))&&(a[this._domName]=c)}};C.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)};C.prototype.removeDom=function(a){var b=this.getDefs(!1);b&&a[this._domName]&&(b.removeChild(a[this._domName]),a[this._domName]=null)};C.prototype.getDoms=function(){var a=this.getDefs(!1);if(!a)return[];var b=[];B(this._tagNames,function(c){c=a.getElementsByTagName(c);b=b.concat([].slice.call(c))});return b};C.prototype.markAllUnused=function(){var a=this.getDoms(),b=this;B(a,function(a){a[b._markLabel]="0"})};C.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")};C.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this.getDoms(),c=this;B(b,function(b){"1"!==b[c._markLabel]&&a.removeChild(b)})}};C.prototype.getSvgProxy=function(a){return a instanceof z?ad:a instanceof sa?Og:a instanceof xa?bd:ad};C.prototype.getTextSvgElement=function(a){return a.__textSvgEl};C.prototype.getSvgElement=function(a){return a.__svgEl};Y(nb,C);nb.prototype.addWithoutUpdate=function(a,b){if(b&&b.style){var c=this;B(["fill","stroke"],function(d){if(b.style[d]&&("linear"===b.style[d].type||"radial"===b.style[d].type)){var e=b.style[d],f=c.getDefs(!0),g;e._dom?(g=e._dom,f.contains(e._dom)||c.addDom(g)):g=c.add(e);c.markUsed(b);e=g.getAttribute("id");a.setAttribute(d,"url(#"+e+")")}})}};nb.prototype.add=function(a){var b;if("linear"===a.type)b=this.createElement("linearGradient");else if("radial"===a.type)b=this.createElement("radialGradient");else return null;a.id=a.id||this.nextId++;b.setAttribute("id","zr"+this._zrId+"-gradient-"+a.id);this.updateDom(a,b);this.addDom(b);return b};nb.prototype.update=function(a){var b=this;C.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;"linear"===c&&"linearGradient"===d||"radial"===c&&"radialGradient"===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})};nb.prototype.updateDom=function(a,b){if("linear"===a.type)b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",a.y2);else if("radial"===a.type)b.setAttribute("cx",a.x),b.setAttribute("cy",a.y),b.setAttribute("r",a.r);else return;a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox");b.innerHTML="";for(var c=a.colorStops,d=0,e=c.length;d<e;++d){var f=this.createElement("stop");f.setAttribute("offset",100*c[d].offset+"%");var g=c[d].color;if(g.indexOf(!1)){var h=T(g)[3],g=df(g);f.setAttribute("stop-color","#"+g);f.setAttribute("stop-opacity",h)}else f.setAttribute("stop-color",c[d].color);b.appendChild(f)}a._dom=b};nb.prototype.markUsed=function(a){if(a.style){var b=a.style.fill;b&&b._dom&&C.prototype.markUsed.call(this,b._dom);(b=a.style.stroke)&&b._dom&&C.prototype.markUsed.call(this,b._dom)}};Y(Yb,C);Yb.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);(b=this.getTextSvgElement(a))&&this.updateDom(b,a.__clipPaths,!0);this.markUsed(a)};Yb.prototype.updateDom=function(a,b,c){if(b&&0<b.length){var d=this.getDefs(!0),e=b[0],f,g,h=c?"_textDom":"_dom";e[h]?(g=e[h].getAttribute("id"),f=e[h],d.contains(f)||d.appendChild(f)):(g="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,f=this.createElement("clipPath"),f.setAttribute("id",g),d.appendChild(f),e[h]=f);d=this.getSvgProxy(e);e.transform&&e.parent.invTransform&&!c?(h=Array.prototype.slice.call(e.transform),Hb(e.transform,e.parent.invTransform,e.transform),d.brush(e),e.transform=h):d.brush(e);e=this.getSvgElement(e);f.innerHTML="";f.appendChild(e.cloneNode());a.setAttribute("clip-path","url(#"+g+")");1<b.length&&this.updateDom(f,b.slice(1),c)}else a&&a.setAttribute("clip-path","none")};Yb.prototype.markUsed=function(a){var b=this;a.__clipPaths&&B(a.__clipPaths,function(a){a._dom&&C.prototype.markUsed.call(b,a._dom);a._textDom&&C.prototype.markUsed.call(b,a._textDom)})};Y(va,C);va.prototype.addWithoutUpdate=function(a,b){if(b&&mg(b.style)){var c;b._shadowDom?(c=b._shadowDom,this.getDefs(!0).contains(b._shadowDom)||this.addDom(c)):c=this.add(b);this.markUsed(b);c=c.getAttribute("id");a.style.filter="url(#"+c+")"}};va.prototype.add=function(a){var b=this.createElement("filter");a._shadowDomId=a._shadowDomId||this.nextId++;b.setAttribute("id","zr"+this._zrId+"-shadow-"+a._shadowDomId);this.updateDom(a,b);this.addDom(b);return b};va.prototype.update=function(a,b){if(mg(b.style)){var c=this;C.prototype.update.call(this,b,function(){c.updateDom(b,b._shadowDom)})}else this.remove(a,b)};va.prototype.remove=function(a,b){null!=b._shadowDomId&&(this.removeDom(a),a.style.filter="")};va.prototype.updateDom=function(a,b){var c=b.getElementsByTagName("feDropShadow"),c=0===c.length?this.createElement("feDropShadow"):c[0],d=a.style,e=a.scale?a.scale[0]||1:1,f=a.scale?a.scale[1]||1:1,g,h,k;if(d.shadowBlur||d.shadowOffsetX||d.shadowOffsetY)g=d.shadowOffsetX||0,h=d.shadowOffsetY||0,k=d.shadowBlur,d=d.shadowColor;else if(d.textShadowBlur)g=d.textShadowOffsetX||0,h=d.textShadowOffsetY||0,k=d.textShadowBlur,d=d.textShadowColor;else{this.removeDom(b,d);return}c.setAttribute("dx",g/e);c.setAttribute("dy",h/f);c.setAttribute("flood-color",d);c.setAttribute("stdDeviation",k/2/e+" "+k/2/f);b.setAttribute("x","-100%");b.setAttribute("y","-100%");b.setAttribute("width",Math.ceil(k/2*200)+"%");b.setAttribute("height",Math.ceil(k/2*200)+"%");b.appendChild(c);a._shadowDom=b};va.prototype.markUsed=function(a){a._shadowDom&&C.prototype.markUsed.call(this,a._shadowDom)};var cd=function(a,b,c,d){this.root=a;this.storage=b;this._opts=c=tb({},c||{});b=ua("svg");b.setAttribute("xmlns","http://www.w3.org/2000/svg");b.setAttribute("version","1.1");b.setAttribute("baseProfile","full");b.style.cssText="user-select:none;position:absolute;left:0;top:0;";this.gradientManager=new nb(d,b);this.clipPathManager=new Yb(d,b);this.shadowManager=new va(d,b);d=document.createElement("div");d.style.cssText="overflow:hidden;position:relative";this._svgRoot=b;this._viewport=d;a.appendChild(d);d.appendChild(b);this.resize(c.width,c.height);this._visibleList=[]};cd.prototype={constructor:cd,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},setBackgroundColor:function(a){this._viewport.style.background=a},_paintList:function(a){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();var b=this._svgRoot,c=this._visibleList,d=a.length,e=[],f;for(f=0;f<d;f++){var g=a[f],h=g instanceof z?ad:g instanceof sa?Og:g instanceof xa?bd:ad,k=g.__svgEl||g.__textSvgEl;g.invisible||(g.__dirty&&(h&&h.brush(g),this.clipPathManager.update(g),g.style&&(this.gradientManager.update(g.style.fill),this.gradientManager.update(g.style.stroke),this.shadowManager.update(k,g)),g.__dirty=!1),e.push(g))}a=ii.diff(c,e,void 0);var l;for(f=0;f<a.length;f++)if(d=a[f],d.removed)for(h=0;h<d.count;h++){var g=c[d.indices[h]],k=g.__svgEl,m=g.__textSvgEl;k&&b&&k.parentNode===b&&b.removeChild(k);m&&b&&m.parentNode===b&&b.removeChild(m)}for(f=0;f<a.length;f++)if(d=a[f],d.added)for(h=0;h<d.count;h++)g=e[d.indices[h]],k=g.__svgEl,m=g.__textSvgEl,l?Zb(b,k,l):ng(b,k),k?Zb(b,m,k):l?Zb(b,m,l):ng(b,m),Zb(b,m,k),l=m||k||l,this.gradientManager.addWithoutUpdate(k||m,g),this.shadowManager.addWithoutUpdate(k||m,g),this.clipPathManager.markUsed(g);else if(!d.removed)for(h=0;h<d.count;h++)g=e[d.indices[h]],k=g.__svgEl,m=g.__textSvgEl,this.gradientManager.markUsed(g),this.gradientManager.addWithoutUpdate(k||m,g),this.shadowManager.markUsed(g),this.shadowManager.addWithoutUpdate(k||m,g),this.clipPathManager.markUsed(g),m&&Zb(b,m,k),l=k||m||l;this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=e},_getDefs:function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?(c=b.insertBefore(ua("defs"),b.firstChild),c.contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},resize:function(a,b){var c=this._viewport;c.style.display="none";var d=this._opts;null!=a&&(d.width=a);null!=b&&(d.height=b);a=this._getSize(0);b=this._getSize(1);c.style.display="";if(this._width!==a||this._height!==b)this._width=a,this._height=b,c=c.style,c.width=a+"px",c.height=b+"px",c=this._svgRoot,c.setAttribute("width",a),c.setAttribute("height",b)},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var b=this.root,f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){this.refresh();return"data:image/svg+xml;charset\x3dUTF-8,"+this._svgRoot.outerHTML}};B("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){cd.prototype[a]=Fh(a)});Ha.svg=cd;var Pg="undefined"===typeof window?null:window,og=!1,J=Pg&&Pg.document,qb;if(J&&!F.canvasSupported)try{!J.namespaces.zrvml&&J.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),qb=function(a){return J.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(a){qb=function(a){return J.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}var Wa=aa.CMD,E=Math.round,kc=Math.sqrt,ji=Math.abs,Qg=Math.cos,Rg=Math.sin,Be=Math.max;if(!F.canvasSupported){var Ce=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},ha=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},lc=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},De=function(a,b,c){return 1E5*(parseFloat(a)||0)+1E3*(parseFloat(b)||0)+c},Sg=Md,Tg=function(a,b,c){b=T(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},ki=function(a){a=T(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},li=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof Ua){var e,f=0,g=[0,0],h=0,k=1,l=c.getBoundingRect(),m=l.width,n=l.height;if("linear"===d.type){e="gradient";var q=c.transform,p=[d.x*m,d.y*n],f=[d.x2*m,d.y2*n];q&&(I(p,p,q),I(f,f,q));f=180*Math.atan2(f[0]-p[0],f[1]-p[1])/Math.PI;0>f&&(f+=360);1E-6>f&&(f=0)}else e="gradientradial",p=[d.x*m,d.y*n],q=c.transform,h=c.scale,k=m,g=[(p[0]-l.x)/k,(p[1]-l.y)/n],q&&I(p,p,q),k/=21600*h[0],n/=21600*h[1],k=Be(k,n),h=0/k,k=2*d.r/k-h;p=d.colorStops.slice();p.sort(function(a,b){return a.offset-b.offset});l=p.length;q=[];d=[];for(n=0;n<l;n++)m=p[n],c=ki(m.color),d.push(m.offset*k+h+" "+c[0]),0!==n&&n!==l-1||q.push(c);2<=l&&(h=q[0][0],k=q[1][0],p=q[0][1]*b.opacity,b=q[1][1]*b.opacity,a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=h,a.color2=k,a.colors=d.join(","),a.opacity=b,a.opacity2=p);"radial"===e&&(a.focusposition=g.join(","))}else Tg(a,d,b.opacity)},dd=function(a,b,c,d){var e="fill"===b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof Ua&&lc(a,f),f||(f=qb(b)),e?li(f,c,d):(b=f,c.lineDash&&(b.dashstyle=c.lineDash.join(" ")),null==c.stroke||c.stroke instanceof Ua||Tg(b,c.stroke,c.opacity)),ha(a,f)):(a[e?"filled":"stroked"]="false",lc(a,f))},Q=[[],[],[]];z.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=qb("shape"),Ce(c),this._vmlEl=c);dd(c,"fill",b,this);dd(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var g=b.lineWidth;e&&!b.strokeNoScale&&(g*=kc(ji(d[0]*d[3]-d[1]*d[2])));f.weight=g+"px"}var h=this.path||(this.path=new aa);this.__dirtyPath&&(h.beginPath(),h.subPixelOptimize=!1,this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1);var d=c,e=this.transform,f=Wa.M,g=Wa.C,k=Wa.L,l=Wa.A,m=Wa.Q,n=[],q,p,u,v,t,r=h.data,x=h.len();for(u=0;u<x;){p=r[u++];q="";h=0;switch(p){case f:q=" m ";h=1;v=r[u++];t=r[u++];Q[0][0]=v;Q[0][1]=t;break;case k:q=" l ";h=1;v=r[u++];t=r[u++];Q[0][0]=v;Q[0][1]=t;break;case m:case g:q=" c ";var h=3,w=r[u++],y=r[u++],z=r[u++],A=r[u++],G;p===m?(p=z,G=A,z=(z+2*w)/3,A=(A+2*y)/3,w=(v+2*w)/3,y=(t+2*y)/3):(p=r[u++],G=r[u++]);Q[0][0]=w;Q[0][1]=y;Q[1][0]=z;Q[1][1]=A;Q[2][0]=p;Q[2][1]=G;v=p;t=G;break;case l:t=v=0;A=z=1;w=0;e&&(v=e[4],t=e[5],z=kc(e[0]*e[0]+e[1]*e[1]),A=kc(e[2]*e[2]+e[3]*e[3]),w=Math.atan2(-e[1]/A,e[0]/z));p=r[u++];G=r[u++];var C=r[u++],D=r[u++],B=r[u++]+w,H=r[u++]+B+w;u++;var F=r[u++],J=p+Qg(B)*C,L=G+Rg(B)*D,w=p+Qg(H)*C,y=G+Rg(H)*D,M=F?" wa ":" at ";1E-4>Math.abs(J-w)&&(.01<Math.abs(H-B)?F&&(J+=.0125):1E-4>Math.abs(L-G)?y=F&&J<p||!F&&J>p?y-.0125:y+.0125:w=F&&L<G||!F&&L>G?w+.0125:w-.0125);n.push(M,E(21600*((p-C)*z+v)-10800),",",E(21600*((G-D)*A+t)-10800),",",E(21600*((p+C)*z+v)-10800),",",E(21600*((G+D)*A+t)-10800),",",E(21600*(J*z+v)-10800),",",E(21600*(L*A+t)-10800),",",E(21600*(w*z+v)-10800),",",E(21600*(y*A+t)-10800));v=w;t=y;break;case Wa.R:w=Q[0];y=Q[1];w[0]=r[u++];w[1]=r[u++];y[0]=w[0]+r[u++];y[1]=w[1]+r[u++];e&&(I(w,w,e),I(y,y,e));w[0]=E(21600*w[0]-10800);y[0]=E(21600*y[0]-10800);w[1]=E(21600*w[1]-10800);y[1]=E(21600*y[1]-10800);n.push(" m ",w[0],",",w[1]," l ",y[0],",",w[1]," l ",y[0],",",y[1]," l ",w[0],",",y[1]);break;case Wa.Z:n.push(" x ")}if(0<h)for(n.push(q),q=0;q<h;q++)w=Q[q],e&&I(w,w,e),n.push(E(21600*w[0]-10800),",",E(21600*w[1]-10800),q<h-1?",":"")}e=n.join("");d.path=e;c.style.zIndex=De(this.zlevel,this.z,this.z2);ha(a,c);null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};z.prototype.onRemove=function(a){lc(a,this._vmlEl);this.removeRectText(a)};z.prototype.onAdd=function(a){ha(a,this._vmlEl);this.appendRectText(a)};sa.prototype.brushVML=function(a){var b=this.style,c=b.image,d,e;if("object"===typeof c&&c.tagName&&"IMG"===c.tagName.toUpperCase()){var f=c.src;if(f===this._imageSrc)d=this._imageWidth,e=this._imageHeight;else{var g=c.runtimeStyle,h=g.width,k=g.height;g.width="auto";g.height="auto";d=c.width;e=c.height;g.width=h;g.height=k;this._imageSrc=f;this._imageWidth=d;this._imageHeight=e}c=f}else c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight);if(c){var l=b.x||0,m=b.y||0,n=b.width,q=b.height,p=b.sWidth,u=b.sHeight,g=b.sx||0,h=b.sy||0,k=p&&u,f=this._vmlEl;f||(f=J.createElement("div"),Ce(f),this._vmlEl=f);var v=f.style,t=!1,r,x=1,w=1;this.transform&&(r=this.transform,x=kc(r[0]*r[0]+r[1]*r[1]),w=kc(r[2]*r[2]+r[3]*r[3]),t=r[1]||r[2]);if(t){var y=[l,m],z=[l+n,m],A=[l,m+q],C=[l+n,m+q];I(y,y,r);I(z,z,r);I(A,A,r);I(C,C,r);t=Be(y[0],z[0],A[0],C[0]);y=Be(y[1],z[1],A[1],C[1]);z=[];z.push("M11\x3d",r[0]/x,",","M12\x3d",r[2]/w,",","M21\x3d",r[1]/x,",","M22\x3d",r[3]/w,",","Dx\x3d",E(l*x+r[4]),",","Dy\x3d",E(m*w+r[5]));v.padding="0 "+E(t)+"px "+E(y)+"px 0";v.filter="progid:DXImageTransform.Microsoft.Matrix("+z.join("")+", SizingMethod\x3dclip)"}else r&&(l=l*x+r[4],m=m*w+r[5]),v.filter="",v.left=E(l)+"px",v.top=E(m)+"px";r=this._imageEl;l=this._cropEl;r||(this._imageEl=r=J.createElement("div"));var B=r.style;if(k){if(d&&e)B.width=E(x*d*n/p)+"px",B.height=E(w*e*q/u)+"px";else{var D=new Image,F=this;D.onload=function(){D.onload=null;d=D.width;e=D.height;B.width=E(x*d*n/p)+"px";B.height=E(w*e*q/u)+"px";F._imageWidth=d;F._imageHeight=e;F._imageSrc=c};D.src=c}l||(l=J.createElement("div"),l.style.overflow="hidden",this._cropEl=l);k=l.style;k.width=E((n+g*n/p)*x);k.height=E((q+h*q/u)*w);k.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-g*n/p*x+",Dy\x3d"+-h*q/u*w+")";l.parentNode||f.appendChild(l);r.parentNode!==l&&l.appendChild(r)}else B.width=E(x*n)+"px",B.height=E(w*q)+"px",f.appendChild(r),l&&l.parentNode&&(f.removeChild(l),this._cropEl=null);r="";g=b.opacity;1>g&&(r+=".Alpha(opacity\x3d"+E(100*g)+") ");B.filter=r+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+c+", SizingMethod\x3dscale)");f.style.zIndex=De(this.zlevel,this.z,this.z2);ha(a,f);null!=b.text&&this.drawRectText(a,this.getBoundingRect())}};sa.prototype.onRemove=function(a){lc(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};sa.prototype.onAdd=function(a){ha(a,this._vmlEl);this.appendRectText(a)};var Ee={},Fe=0,mi=document.createElement("div"),ya;mh("measureText",function(a,b){var c=J;ya||(ya=c.createElement("div"),ya.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",J.body.appendChild(ya));try{ya.style.font=b}catch(d){}ya.innerHTML="";ya.appendChild(c.createTextNode(a));return{width:ya.offsetWidth}});for(var Ge=new L,ni=function(a,b,c,d){var e=this.style;this.__dirty&&Jb(e,!0);var f=e.text;null!=f&&(f+="");if(f){if(e.rich){for(var g=Bd(f,e),f=[],h=0;h<g.lines.length;h++){for(var k=g.lines[h].tokens,l=[],m=0;m<k.length;m++)l.push(k[m].text);f.push(l.join(""))}f=f.join("\n")}var n,k=e.textAlign,l=e.textVerticalAlign,g=e.font,h=Ee[g];if(!h){100<Fe&&(Fe=0,Ee={});h=mi.style;try{h.font=g,n=h.fontFamily.split(",")[0]}catch(p){}h={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:parseFloat(h.fontSize||12)|0,family:n||"Microsoft YaHei"};Ee[g]=h;Fe++}n=h;g=n.style+" "+n.variant+" "+n.weight+" "+n.size+'px "'+n.family+'"';c=c||Bc(f,g,k,l,e.textPadding,e.textLineHeight);(h=this.transform)&&!d&&(Ge.copy(b),Ge.applyTransform(h),b=Ge);d?(n=b.x,b=b.y):(m=e.textPosition,m instanceof Array?(n=b.x+Sg(m[0],b.width),b=b.y+Sg(m[1],b.height),k=k||"left"):(m=this.calculateTextPosition?this.calculateTextPosition({},e,b):Dd({},e,b),n=m.x,b=m.y,k=k||m.textAlign,l=l||m.textVerticalAlign));n=vb(n,c.width,k);b=wb(b,c.height,l);b+=c.height/2;(c=this._textVmlEl)?(l=c.firstChild,m=l.nextSibling,k=m.nextSibling):(c=qb("line"),m=qb("path"),k=qb("textpath"),l=qb("skew"),k.style["v-text-align"]="left",Ce(c),m.textpathok=!0,k.on=!0,c.from="0 0",c.to="1000 0.05",ha(c,l),ha(c,m),ha(c,k),this._textVmlEl=c);var m=[n,b],q=c.style;h&&d?(I(m,m,h),l.on=!0,l.matrix=h[0].toFixed(3)+","+h[2].toFixed(3)+","+h[1].toFixed(3)+","+h[3].toFixed(3)+",0,0",l.offset=(E(m[0])||0)+","+(E(m[1])||0),l.origin="0 0",q.left="0px",q.top="0px"):(l.on=!1,q.left=E(n)+"px",q.top=E(b)+"px");k.string=String(f).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{k.style.font=g}catch(p){}dd(c,"fill",{fill:e.textFill,opacity:e.opacity},this);dd(c,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash||null},this);c.style.zIndex=De(this.zlevel,this.z,this.z2);ha(a,c)}},oi=function(a){lc(a,this._textVmlEl);this._textVmlEl=null},pi=function(a){ha(a,this._textVmlEl)},Ug=[Oc,R,sa,z,xa],He=0;He<Ug.length;He++){var Ie=Ug[He].prototype;Ie.drawRectText=ni;Ie.removeRectText=oi;Ie.appendRectText=pi}xa.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};xa.prototype.onRemove=function(a){this.removeRectText(a)};xa.prototype.onAdd=function(a){this.appendRectText(a)}}Jc.prototype={constructor:Jc,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];if(d.invisible||d.ignore){if(!d.__alreadyNotVisible)d.onRemove(b);d.__alreadyNotVisible=!0}else{if(d.__alreadyNotVisible)d.onAdd(b);d.__alreadyNotVisible=!1;d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush())}d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){a=null==a?this._getWidth():a;b=null==b?this._getHeight():b;if(this._width!==a||this._height!==b){this._width=a;this._height=b;var c=this._vmlViewport.style;c.width=a+"px";c.height=b+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0}};B("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){Jc.prototype[a]=Hh(a)});Ha.vml=Jc;x.version="4.2.0";x.init=function(a,b){var c=new te(pg++,a,b);return Sa[c.id]=c};x.dispose=function(a){if(a)a.dispose();else{for(var b in Sa)Sa.hasOwnProperty(b)&&Sa[b].dispose();Sa={}}return this};x.getInstance=function(a){return Sa[a]};x.registerPainter=function(a,b){Ha[a]=b};x.matrix=Nh;x.vector=Lh;x.color=Oh;x.path=Sh;x.util=Kh;x.parseSVG=function(a,b){return(new Ic).parse(a,b)};x.Group=O;x.Path=z;x.Image=sa;x.CompoundPath=Vh;x.Text=xa;x.IncrementalDisplayable=N;x.Arc=Xh;x.BezierCurve=Yh;x.Circle=Bg;x.Droplet=Zh;x.Ellipse=Cg;x.Heart=$h;x.Isogon=ai;x.Line=Dg;x.Polygon=Eg;x.Polyline=Fg;x.Rect=ye;x.Ring=bi;x.Rose=di;x.Sector=ei;x.Star=fi;x.Trochoid=gi;x.LinearGradient=ic;x.RadialGradient=Zc;x.Pattern=Nc;x.BoundingRect=L;x.env=qg;x.Eventful=ca;x.timsort=yd;x.getBoundingRect=Bc;x.fixClipWithShadow=Jg;x.event={stop:Ye,normalizeEvent:Ba,addEventListener:We,isMiddleOrRightButtonOnMouseUpDown:function(a){return 2===a.which||3===a.which}};x.bbox={fromPoints:function(a,b,c){if(0!==a.length){var d=a[0],e=d[0],f=d[0],g=d[1],h=d[1],k;for(k=1;k<a.length;k++)d=a[k],e=Gb(e,d[0]),f=Sb(f,d[0]),g=Gb(g,d[1]),h=Sb(h,d[1]);b[0]=e;b[1]=g;c[0]=f;c[1]=h}}};x.windingLine=Mb;x.Transformable=Fb;x.Gradient=Ua;x.contain={quadratic:{containStroke:Sf},line:{containStroke:Ub},text:{getBoundingRect:Bc,truncateText:uf,calculateTextPosition:Dd,makeFont:xf}};x.subPixelOptimize={subPixelOptimizeLine:ag,subPixelOptimizeRect:bg,subPixelOptimize:Pa};x.curve={quadraticAt:Ea,quadraticDerivativeAt:Vd};x.makeViewBoxTransform=hg});