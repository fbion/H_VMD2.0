{"vmdversion":"2.0.3.201900309","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"ContactAddress_Tree\",\"layoutConfig\":{\"align\":\"center\",\"pack\":\"end\"},\"userConfig\":{\"layout\":\"vbox\",\"header\":false,\"width\":900,\"height\":460,\"beforerender\":\"ContactAddress_Tree_beforerender\",\"bodyStyle\":\"background-color: #f2f2f2;\",\"border\":false,\"unstyled\":false,\"afterrender\":\"ContactAddress_Tree_afterrender\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"height\":450,\"width\":890,\"style\":\"border-bottom: 0px;\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"border\":true,\"height\":40,\"layout\":\"absolute\",\"style\":\"border-left: #fff;    border-top: #fff;    background-color: #fff;    border-right: #fff;\",\"hidden\":false,\"width\":880},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"address_type\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":0,\"width\":170,\"height\":35,\"style\":\"background-color: #fff;    border-color: #fff;    font-size: 14px;    font-family: \\\"微软雅黑\\\";    text-align: left;\",\"text\":\"请选择地址类型\",\"id\":\"address_type\",\"click\":\"address_type_click\",\"icon\":\"\"}},{\"cid\":\"vmdButton\",\"id\":\"address_id\",\"layoutConfig\":{},\"userConfig\":{\"x\":300,\"y\":10,\"hidden\":true,\"text\":\"\",\"id\":\"address_id\"}},{\"cid\":\"vmdImg\",\"id\":\"hwImg\",\"layoutConfig\":{},\"userConfig\":{\"x\":800,\"y\":10,\"width\":20,\"height\":20,\"click\":\"hwImg_click\",\"src\":\"/img/public/QQ图片20181222161546.png\"}}]},{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"x\":-16,\"y\":0,\"region\":\"center\",\"width\":880,\"height\":338,\"layout\":\"border\",\"cls\":\"yy\",\"hidden\":false,\"border\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div2\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"height\":120,\"layout\":\"absolute\",\"border\":false,\"style\":\"border-bottom: #fff;    border-color: #E4E4E4;    border-top: #fff;    font-family: \\\"weiruanyahei\\\";    font-size: 14px;    text-align: right;\",\"width\":880},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":20,\"y\":25,\"text\":\"详细地址：\"}},{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":20,\"y\":83,\"text\":\"邮编：\"}},{\"cid\":\"textfield\",\"id\":\"xxdz\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":20,\"cls\":\"\",\"height\":32,\"width\":700,\"id\":\"xxdz\",\"style\":\"border: 1px solid #D7D7D7;    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\",\"emptyText\":\"请输入详细地址信息\"}},{\"cid\":\"textfield\",\"id\":\"yb\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":76,\"cls\":\"\",\"height\":32,\"width\":310,\"id\":\"yb\",\"style\":\"border: 1px solid #D7D7D7;    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\",\"emptyText\":\"请输入邮编\"}},{\"cid\":\"numberfield\",\"id\":\"address_obs_no\",\"layoutConfig\":{},\"userConfig\":{\"x\":640,\"y\":80,\"decimalPrecision\":0,\"id\":\"address_obs_no\",\"hidden\":true}},{\"cid\":\"textfield\",\"id\":\"location_id\",\"layoutConfig\":{},\"userConfig\":{\"x\":460,\"y\":80,\"id\":\"location_id\",\"hidden\":true}}]},{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"border\",\"border\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div5\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"border\":false,\"layout\":\"absolute\",\"style\":\"border-top: #fff;    border-color: #E4E4E4;    font-family: \\\"weiruanyahei\\\";    font-size: 14px;    text-align: right;\",\"height\":150,\"width\":880},\"cn\":[{\"cid\":\"label\",\"id\":\"label3\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":20,\"y\":17,\"text\":\"网址：\"}},{\"cid\":\"label\",\"id\":\"label4\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":20,\"y\":70,\"text\":\"移动电话：\"}},{\"cid\":\"label\",\"id\":\"label5\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":440,\"y\":70,\"text\":\"座机电话：\"}},{\"cid\":\"label\",\"id\":\"label6\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":20,\"y\":119,\"text\":\"邮箱：\"}},{\"cid\":\"label\",\"id\":\"label7\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":440,\"y\":119,\"text\":\"传真：\"}},{\"cid\":\"label\",\"id\":\"label8\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":20,\"y\":178,\"text\":\"微信号：\"}},{\"cid\":\"label\",\"id\":\"label9\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":440,\"y\":178,\"text\":\"QQ：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"wz\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":12,\"cls\":\"\",\"height\":32,\"width\":700,\"id\":\"wz\",\"style\":\"border: 1px solid #D7D7D7;    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\",\"emptyText\":\"请输入网址\"}},{\"cid\":\"vmd.ux.Telephone\",\"id\":\"Telephone\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":58,\"width\":170,\"countryReadOnly\":false,\"hidden\":false,\"cls\":\"\",\"telReadOnly\":false}},{\"cid\":\"vmd.ux.MobileTelephone\",\"id\":\"MobileTelephone\",\"layoutConfig\":{},\"userConfig\":{\"x\":540,\"y\":58,\"telReadOnly\":false,\"extReadOnly\":false,\"countryReadOnly\":false,\"width\":270,\"areaReadOnly\":false}},{\"cid\":\"textfield\",\"id\":\"yx\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":114,\"cls\":\"\",\"height\":32,\"width\":300,\"id\":\"yx\",\"style\":\"border: 1px solid #D7D7D7;    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\",\"emptyText\":\"请输入邮箱账号\"}},{\"cid\":\"textfield\",\"id\":\"cz\",\"layoutConfig\":{},\"userConfig\":{\"x\":550,\"y\":114,\"cls\":\"\",\"height\":32,\"width\":280,\"id\":\"cz\",\"style\":\"border: 1px solid #D7D7D7;    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\",\"emptyText\":\"请输入传真账号\"}},{\"cid\":\"textfield\",\"id\":\"wxh\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":173,\"cls\":\"\",\"height\":32,\"width\":300,\"id\":\"wxh\",\"style\":\"border: 1px solid #D7D7D7;    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\",\"emptyText\":\"请输入微信\"}},{\"cid\":\"numberfield\",\"id\":\"qq\",\"layoutConfig\":{},\"userConfig\":{\"x\":551,\"y\":173,\"width\":280,\"cls\":\"\",\"height\":32,\"allowNegative\":true,\"decimalPrecision\":0,\"id\":\"qq\",\"style\":\"border: 1px solid #D7D7D7;    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\",\"emptyText\":\"请输入QQ账号\"}},{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"bq\",\"x\":20,\"y\":237,\"text\":\"有效期：\"}},{\"cid\":\"vmd.ux.DatePicker\",\"id\":\"hwDatePicker\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":230,\"isRange\":true,\"hasShortcut\":true,\"format\":\"YYYY-MM-DD\",\"shortCutType\":\"future\",\"width\":300,\"id\":\"hwDatePicker\",\"style\":\"/*border: 1px solid #D7D7D7;*/    border-radius: 3px;    font-size: 14px;    font-family: '微软雅黑';\"}}]}]}]},{\"cid\":\"container\",\"id\":\"addresstree_div\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"west\",\"hidden\":true,\"id\":\"addresstree_div\",\"border\":false,\"height\":30,\"width\":200},\"cn\":[{\"cid\":\"vmdTreeEx\",\"id\":\"tree\",\"layoutConfig\":{},\"userConfig\":{\"x\":120,\"y\":320,\"beforerender\":\"tree_beforerender\",\"id\":\"tree\",\"width\":180,\"hideRoot\":true,\"rootValue\":\"0\",\"rootText\":\"0\",\"nodeclick\":\"tree_nodeclick\",\"parentField\":\"parientid\",\"valueField\":\"id\",\"textField\":\"name\",\"loadType\":\"全部加载\",\"height\":200}}]}]}]}]}","vmdevents":"var page = this;\n\nfunction address_type_click(sender, e) { //点击地址类型按钮\n    e.stopPropagation()\n    var btnTop = '39';\n    var btnLeft = '20';\n    addresstree_div.el.setTop(btnTop);\n    addresstree_div.el.setLeft(btnLeft)\n    addresstree_div.show();\n\n}\n\nfunction ContactAddress_Tree_beforerender(sender) {\n    //构造对象\n    page.address = div.address;\n    page.address_Lx = address_type.address_Lx;\n}\n\n//给form赋值,查询方法\nfunction _setValue(data) {\n    debugger\n    var testData = {\n        xxdz: 'xxdz',\n        yb: 'yb',\n        wz: 'wz',\n        yx: 'yx',\n        cz: 'cz',\n        wxh: 'wxh',\n        qq: 'qq',\n        zjdh: 'zjdh',\n        yddh: 'yddh',\n        rq1: 'rq1',\n        rq2: 'rq2',\n        address_obs_no: 'address_obs_no',\n        location_id: 'location_id'\n    };\n    data = data || testData;\n    var rq1 = data.rq1;\n    var rq2 = data.rq2;\n    xxdz.setValue(data.xxdz);\n    yb.setValue(data.yb);\n    wz.setValue(data.wz);\n    yx.setValue(data.yx);\n    cz.setValue(data.cz);\n    wxh.setValue(data.wxh);\n    qq.setValue(data.qq);\n    location_id.setValue(data.location_id);\n    address_obs_no.setValue(data.address_obs_no);\n    Telephone.setTel2(data.yddh);\n    MobileTelephone.setTel2(data.zjdh);\n    hwDatePicker.setValue(rq1, rq2);\n}\n\nfunction _getValue() { /*保存方法*/\n    debugger\n    var data = {};\n    var a = address_obs_no.getValue();\n    if(a == '') {\n        data.address_obs_no = '';\n        data.location_id = newGuid(36);\n        data.rowState = 'insert';\n    } else {\n        data.address_obs_no = address_obs_no.getValue();\n        data.location_id = location_id.getValue();\n        data.rowState = 'update';\n    }\n    data.country_area_id = '';\n    data.province_id = '';\n    data.city_area_id = '';\n    data.addressee_text = xxdz.getValue();\n    data.postal_zip_code = yb.getValue();\n    data.organization_weburl = wz.getValue();\n    data.organization_tel = MobileTelephone.getTel();\n    data.mobile = Telephone.getTel();\n    data.organization_email = yx.getValue();\n    data.organization_fax = cz.getValue();\n    data.wx = wxh.getValue();\n    data.qq = qq.getValue();\n    data.effective_date = hwDatePicker.getKsrq();\n    data.expiry_date = hwDatePicker.getJsrq();\n    data.address_type = '';\n    // data.address_Typeid=address_id;\n    return data;\n}\n//树的绑定功能\nfunction _addressBindTree(parentField, valueField, valueText) {\n    debugger\n    var testData = {\n        parentField: 'parentField'\n    };\n    parentField = parentField || testData;\n    var testData1 = {\n        valueField: 'valueField'\n    }\n    valueField = valueField || testData1;\n    var testData2 = {\n        valueText: 'valueText'\n    }\n    tree.addNode(testData.parentField, testData1.valueField, testData2.valueText);\n\n}\n\n\n\nfunction tree_beforerender(sender) {\n    debugger\n    page.fireEvent('tree_beforerender', tree);\n    //this.store=page.address_store;\n}\n\nfunction _deleteValue() {\n    debugger\n    var data = {};\n    data.address_obs_no = address_obs_no.getValue();\n    data.location_id = location_id.getValue();\n    data.rowState = 'delete';\n    data.country_area_id = '';\n    data.province_id = '';\n    data.city_area_id = '';\n    data.addressee_text = '';\n    data.postal_zip_code = yb.getValue();\n    data.organization_weburl = wz.getValue();\n    data.organization_tel = MobileTelephone.getTel();\n    data.mobile = Telephone.getTel();\n    data.organization_email = yx.getValue();\n    data.organization_fax = cz.getValue();\n    data.wx = wxh.getValue();\n    data.qq = qq.getValue();\n    data.effective_date = hwDatePicker.getKsrq();\n    data.expiry_date = hwDatePicker.getJsrq();\n    data.address_type = '';\n    // data.address_Typeid=address_id;\n    return data;\n}\n\n// function tree(dataTree){\n//     var testData = {\n//         parentField:'parentField',\n//         valueField:'valueField',\n//         textField:'textField',\n//     };\n//      dataTree = dataTree || testData;\n// }\n\n\nfunction hwImg_click(sender) {\n    debugger\n    page.fireEvent('delete_fhzj', page, page.id)\n}\n\nfunction ContactAddress_Tree_afterrender(sender) {\n    /*对下拉树进行操作*/\n    address_type.addClass('combotree');\n    Ext.getBody().on('click', function(e) {\n        if(vmd(e.target).parents('.combotree').length == '0' && vmd(e.target).parents('.vmd-tree').length == '0') {\n            addresstree_div.hide();\n        }\n    });\n    vmd(\"#iframe_page\").load(function() {\n        vmd(document.getElementById('iframe_page').contentWindow.document.body).on('click', function() {\n            addresstree_div.hide()\n\n        })\n    });\n\n}\n\nfunction tree_nodeclick(sender, node, e) {\n    /*树节点操作*/\n    address_type.setText(node.text);\n    address_id.setText(node.id);\n    addresstree_div.hide();\n}\nvar store = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: ['id', 'name', 'parentid']\n});\nvar data=[];\nfunction treeSetValue(liss) {\n    debugger\n    for(var i = 0, length = liss.length; i < length; i++) {\n        var treedata = {\n            id: liss[i].id,\n            name: liss[i].name,\n            parentid: liss[i].parentid\n        };\n        data.push(treedata);\n    }\n}\nstore.loadData(data);\n\nfunction newGuid(len) {\n    var length = 32;\n    if(len)\n        length = len;\n    var guid = \"\";\n    arr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n    for(var i = 0; i < length; i++) {\n        pos = Math.round(Math.random() * (arr.length - 1));\n        guid += arr[pos];\n    }\n    return guid;\n}","vmdcss":".yy{\n    color:#333333;\n}\n.wbk{\n    border: 1px solid #D7D7D7;\n    border-radius: 3px;\n    font-size: 14px;\n    font-family: '微软雅黑';\n    color:#333333;\n\n}\n.bq{\n    text-align: right;\n    width: 100px;\n    \n}","vmdprops":"\"\"","type":"ux","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxpropgroup\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"数据集\",\"cid\":\"uxpropgroup\"},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"address\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"address\",\"zhname\":\"\",\"bindCmp\":\"div\",\"bindValue\":\"address\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"container\",\"group\":\"数据集\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}}]},{\"cid\":\"uxprop\",\"id\":\"tree_store\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"tree_store\",\"desc\":\"\",\"zhname\":\"\",\"isPublic\":\"on\",\"radio_CuN1\":\"string\",\"bindCmp\":\"tree\",\"bindValue\":\"store\",\"uxcid\":\"vmdTreeEx\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}},{\"cid\":\"uxprop\",\"id\":\"parentField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"parentField\",\"desc\":\"\",\"zhname\":\"\",\"isPublic\":\"on\",\"radio_CuN1\":\"string\",\"bindCmp\":\"tree\",\"bindValue\":\"parentField\",\"uxcid\":\"vmdTreeEx\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}},{\"cid\":\"uxprop\",\"id\":\"valueField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"valueField\",\"desc\":\"\",\"zhname\":\"\",\"isPublic\":\"on\",\"radio_CuN1\":\"string\",\"bindCmp\":\"tree\",\"bindValue\":\"valueField\",\"uxcid\":\"vmdTreeEx\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}},{\"cid\":\"uxprop\",\"id\":\"textField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"textField\",\"desc\":\"\",\"zhname\":\"\",\"isPublic\":\"on\",\"radio_CuN1\":\"string\",\"bindCmp\":\"tree\",\"bindValue\":\"textField\",\"uxcid\":\"vmdTreeEx\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"setValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setValue\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"data\",\"code\":\"//直接填写方法内容\\n\\n_setValue(data);\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getValue\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\n\\nreturn _getValue();\\n\",\"returnType\":\"字符串\"}},{\"cid\":\"uxmethod\",\"id\":\"deleteValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"deleteValue\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\nreturn _deleteValue();\",\"returnType\":\"字符串\"}},{\"cid\":\"uxmethod\",\"id\":\"treeSetValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"treeSetValue\",\"params\":\"liss\",\"desc\":\"\",\"isPublic\":\"on\",\"code\":\"//直接填写方法内容\\ntreeSetValue(liss)\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"tree_beforerender\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"tree_beforerender\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"delete_fhzj\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"delete_fhzj\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"cmpId\",\"code\":\"\"}}]}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}