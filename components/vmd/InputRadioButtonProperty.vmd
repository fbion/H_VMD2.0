{"vmdversion":"vmd2.0.5.200306","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"InputRadioButtonProperty\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":500,\"height\":621,\"beforerender\":\"InputRadioButtonProperty_beforerender\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs\",\"layoutConfig\":{},\"userConfig\":{\"activeTab\":0,\"width\":600,\"tabchange\":\"MyTabs_tabchange\",\"activeItem\":\"panel\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"属性\",\"layout\":\"anchor\",\"border\":false,\"header\":false,\"padding\":\"5\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"100%\",\"border\":false,\"height\":80,\"layout\":\"auto\",\"autoHeight\":true},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"allowEdit\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"允许编辑\",\"margins\":\"0 0 5 0\",\"id\":\"allowEdit\"}},{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"布局：\",\"margins\":\"0 0 5 0\",\"hidden\":true}},{\"cid\":\"checkbox\",\"id\":\"adaptive\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"\",\"boxLabel\":\"自适应\",\"id\":\"adaptive\",\"hidden\":true}}]},{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"height\":30,\"anchor\":\"100%\",\"layout\":\"border\",\"border\":false,\"hidden\":true},\"cn\":[{\"cid\":\"container\",\"id\":\"div9\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"anchor\",\"border\":false},\"cn\":[{\"cid\":\"vmd.ux.ClickText\",\"id\":\"displayRow\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"id\":\"displayRow\",\"anchor\":\"100%\"}}]},{\"cid\":\"container\",\"id\":\"div11\",\"layoutConfig\":{\"align\":\"center\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"west\",\"width\":62,\"border\":false,\"layout\":\"vbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"展示列数：\",\"width\":60}}]}]},{\"cid\":\"container\",\"id\":\"div12\",\"layoutConfig\":{},\"userConfig\":{\"height\":30,\"anchor\":\"100%\",\"layout\":\"border\",\"border\":false,\"hidden\":true},\"cn\":[{\"cid\":\"container\",\"id\":\"div13\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"anchor\",\"border\":false},\"cn\":[{\"cid\":\"vmd.ux.ClickText\",\"id\":\"rowMargin\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"width\":167,\"id\":\"rowMargin\",\"anchor\":\"100%\"}}]},{\"cid\":\"container\",\"id\":\"div14\",\"layoutConfig\":{\"align\":\"center\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"west\",\"width\":48,\"border\":false,\"layout\":\"vbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"行间距：\"}}]}]},{\"cid\":\"container\",\"id\":\"div10\",\"layoutConfig\":{},\"userConfig\":{\"height\":26,\"layout\":\"vbox\",\"border\":false},\"cn\":[{\"cid\":\"label\",\"id\":\"label3\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"展示样式：\",\"margins\":\"5 0 0 0\"}}]},{\"cid\":\"radiogroup\",\"id\":\"displayStyle\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 10\",\"id\":\"displayStyle\"},\"cn\":[{\"cid\":\"radio\",\"id\":\"round\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"圆形\",\"fieldLabel\":\"\",\"width\":64,\"inputValue\":\"round\",\"id\":\"round\",\"checked\":true}},{\"cid\":\"radio\",\"id\":\"square\",\"layoutConfig\":{},\"userConfig\":{\"fieldLabel\":\"\",\"boxLabel\":\"方形\",\"inputValue\":\"square\",\"id\":\"square\",\"checked\":false}}]}]},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"数据\",\"layout\":\"anchor\",\"header\":false,\"border\":false,\"padding\":\"5\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div2\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"border\":false,\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label4\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"数据集：\",\"width\":60,\"cls\":\"line35\"}},{\"cid\":\"vmdComlist\",\"id\":\"dataSet\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"dataSet\",\"anchor\":\"-60\",\"selectChanged\":\"dataSet_selectChanged\"}}]},{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"border\":false,\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label5\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"保存字段：\",\"cls\":\"line35\"}},{\"cid\":\"vmdComlist\",\"id\":\"saveField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"saveField\",\"anchor\":\"-60\"}}]},{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"border\":false,\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label6\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"显示字段：\",\"cls\":\"line35\"}},{\"cid\":\"vmdComlist\",\"id\":\"displayField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"displayField\",\"anchor\":\"-60\"}}]}]},{\"cid\":\"panel\",\"id\":\"panel2\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"事件\",\"layout\":\"anchor\",\"header\":false,\"border\":false,\"padding\":\"5\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div5\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"border\":false,\"margins\":\"5 0 0 5\",\"layout\":\"anchor\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label7\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"click:\",\"width\":50,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div6\",\"layoutConfig\":{},\"userConfig\":{\"border\":false,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"height\":34,\"anchor\":\"-50\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"click\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"id\":\"click\",\"anchor\":\"-30\",\"cls\":\"m-r5\",\"afterrender\":\"click_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"clickDelete\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"\",\"icon\":\"delete\",\"width\":30,\"margins\":\"0 0 0 5\",\"id\":\"clickDelete\",\"click\":\"clickDelete_click\"}}]}]},{\"cid\":\"container\",\"id\":\"div7\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"border\":false,\"margins\":\"5 0 0 5\",\"layout\":\"anchor\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label8\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"change:\",\"width\":50,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div8\",\"layoutConfig\":{},\"userConfig\":{\"border\":false,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"height\":34,\"anchor\":\"-50\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"change\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"id\":\"change\",\"anchor\":\"-30\",\"cls\":\"m-r5\",\"afterrender\":\"change_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"changeDelete\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"\",\"icon\":\"delete\",\"width\":30,\"margins\":\"0 0 0 5\",\"id\":\"changeDelete\",\"click\":\"changeDelete_click\"}}]}]}]}]}]}]}","vmdevents":"var page = this;\nvar store = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: ['name', 'value']\n});\nvar store1 = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: ['name', 'value']\n});\n\nvar activePropPanel = parent.xds && parent.xds.active.component.propPanel;\n\n//获取数据集方法\nfunction getDatasets() {\n    return activePropPanel && activePropPanel.controller.getDatasets() || [];\n}\n\nfunction InputRadioButtonProperty_beforerender(sender) {\n    //对数据集、保存字段、显示字段进行设置\n    dataSet.store = store;\n    dataSet.valueField = 'value'\n    dataSet.displayField = 'name'\n\n    saveField.store = store1;\n    saveField.valueField = 'value'\n    saveField.displayField = 'name'\n\n    displayField.store = store1;\n    displayField.valueField = 'value'\n    displayField.displayField = 'name'\n\n}\n\nfunction MyTabs_tabchange(sender, tab) {\n    var temp = [];\n    var nameSet = [];\n    var dataSets = getDatasets();\n    for (var i = 0; i < dataSets.length; i++) {\n\n        nameSet.push({\n            name: dataSets[i].name,\n            value: dataSets[i].name\n        })\n        if (dataSets[i].name == dataSet.getValue()) {\n            for (var n = 0; n < dataSets[i].fields.length; n++) {\n                temp.push({\n                    name: dataSets[i].fields[n],\n                    value: dataSets[i].fields[n]\n                })\n            }\n        }\n    }\n    store.loadData(nameSet);\n    store1.loadData(temp)\n    page.fields = temp;\n}\n\nfunction dataSet_selectChanged(sender, combo, record, index) {\n    var temp = [];\n    var dataSets = getDatasets();\n    for (var i = 0; i < dataSets.length; i++) {\n        if (dataSets[i].name == record.data.name) {\n            for (var n = 0; n < dataSets[i].fields.length; n++) {\n                temp.push({\n                    name: dataSets[i].fields[n],\n                    value: dataSets[i].fields[n]\n                })\n            }\n        }\n    }\n    store1.loadData(temp)\n    page.fields = temp;\n    saveField.setValue(\"\");\n    displayField.setValue(\"\");\n    page.fireEvent('data_dataSet_changed', dataSet.getValue())\n}\n\nfunction click_afterrender(sender) {\n    sender.el.on('dblclick', function() {\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'radio_click', sender.getValue(), 'grid,cell,rId,cInd');\n\n    })\n}\n\nfunction change_afterrender(sender) {\n    sender.el.on('dblclick', function() {\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'radio_change', sender.getValue(), 'grid,cell,rId,cInd,nValue,oValue');\n\n    })\n}\n\nfunction clickDelete_click(sender, e) {\n    click.setValue('');\n    click.fireEvent('change', click, '')\n}\n\nfunction changeDelete_click(sender, e) {\n    change.setValue('');\n    change.fireEvent('change', change, '')\n}","vmdcss":".flex{\n    display: flex\n}\n.m-r5{\n    margin-right: 5px\n}\n.line35{\n    line-height: 35px\n}","vmdprops":"\"\"","type":"ux","vmdevents_controller":"Ext.define('vmd.ux.inputRadioButtonProperty.Controller', {\n    xtype: 'vmd.ux.inputRadioButtonProperty.Controller',\n    constructor: function(options) {\n        this.type = 'radioButton'\n\n        this.scope = options\n        this.colHide = false\n        this.colWidth = '100'\n        this.dicFirst=true;\n        this.txtAlign=\"1\"\n\n        this.allowEdit = false;\n        this.adaptive = false;\n        this.displayRow = '';\n        this.rowMargin = '';\n        this.displayStyle = 'round'\n        this.dataSet = ''\n        this.saveField = ''\n        this.displayField = ''\n        this.click = ''\n        this.change = ''\n    },\n    setValue: function(info, flag) {\n        if (info) {\n            this.allowEdit = info.settings.allowEdit;\n            this.adaptive = info.settings.adaptive;\n            this.displayRow = info.settings.displayRow;\n            this.rowMargin = info.settings.rowMargin;\n            this.displayStyle = info.settings.displayStyle;\n            this.dataSet = info.datas.dataSet;\n            this.saveField = info.datas.saveField;\n            this.displayField = info.datas.displayField;\n            if (!flag) {\n                this.click = info.events.click;\n                this.change = info.events.change;\n            }\n            this.colHide = info.settings.colHide\n            this.colWidth = info.settings.colWidth\n            this.dicFirst = info.settings.dicFirst\n            this.txtAlign = info.settings.txtAlign\n\n            if (this.scope) {\n                this.scope.allowEdit.setValue(this.allowEdit)\n                this.scope.adaptive.setValue(this.adaptive)\n                this.scope.displayRow.setValue(this.displayRow)\n                this.scope.rowMargin.setValue(this.rowMargin)\n                this.scope.displayStyle.setValue(this.displayStyle)\n                this.scope.dataSet.setValue(this.dataSet)\n                this.scope.saveField.setValue(this.saveField)\n                this.scope.displayField.setValue(this.displayField)\n                if (!flag) {\n                    this.scope.click.setValue(this.click)\n                    this.scope.change.setValue(this.change)\n                }\n            }\n        }\n    },\n    serialize: function() {\n        var json = {\n            settings: {\n                allowEdit: this.allowEdit,\n                adaptive: this.adaptive,\n                displayRow: this.displayRow,\n                rowMargin: this.rowMargin,\n                displayStyle: this.displayStyle,\n                colHide: this.colHide,\n                colWidth: this.colWidth,\n                dicFirst:this.dicFirst,\n                txtAlign:this.txtAlign\n            },\n            events: {\n                click: this.click,\n                change: this.change\n            },\n            datas: {\n                dataSet: this.dataSet,\n                saveField: this.saveField,\n                displayField: this.displayField\n            },\n            type: 'radioButton'\n        }\n        return json;\n    }\n})","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}