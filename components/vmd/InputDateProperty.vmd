{"vmdversion":"vmd2.0.5.200306","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"InputDateProperty\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":500,\"height\":621,\"beforerender\":\"InputDateProperty_beforerender\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs\",\"layoutConfig\":{},\"userConfig\":{\"activeTab\":0,\"activeItem\":\"panel\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"属性\",\"layout\":\"anchor\",\"padding\":\"5\",\"beforerender\":\"panel_beforerender\"},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"allowEdit\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"允许编辑\",\"margins\":\"5 0 0 5\",\"id\":\"allowEdit\",\"height\":30}},{\"cid\":\"checkbox\",\"id\":\"customFormat\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"自定义格式\",\"margins\":\"5 0 0 5\",\"id\":\"customFormat\",\"check\":\"customFormat_check\",\"height\":25}},{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"anchor\":\"100%\",\"layout\":\"border\",\"border\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div10\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"anchor\",\"border\":false},\"cn\":[{\"cid\":\"vmdCombo\",\"id\":\"format\",\"layoutConfig\":{},\"userConfig\":{\"width\":146,\"id\":\"format\",\"anchor\":\"-5\",\"beforerender\":\"format_beforerender\"}},{\"cid\":\"textfield\",\"id\":\"customFormats\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"customFormats\",\"hidden\":true}}]},{\"cid\":\"container\",\"id\":\"div11\",\"layoutConfig\":{\"align\":\"center\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"west\",\"width\":38,\"layout\":\"vbox\",\"border\":false},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"格式：\"}}]}]},{\"cid\":\"checkbox\",\"id\":\"defaultNow\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"默认当前时间\",\"margins\":\"5 0 0 5\",\"id\":\"defaultNow\"}},{\"cid\":\"container\",\"id\":\"div2\",\"layoutConfig\":{},\"userConfig\":{\"border\":false,\"margins\":\"5 0 0 5\",\"layout\":\"hbox\",\"height\":22},\"cn\":[{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"校验\"}},{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"——————————\",\"margins\":\"0 0 0 5\",\"style\":\"color: #ddd\"}}]},{\"cid\":\"checkbox\",\"id\":\"allowEmpty\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"boxLabel\":\"允许为空\",\"id\":\"allowEmpty\",\"checked\":true,\"check\":\"allowEmpty_check\"}},{\"cid\":\"container\",\"id\":\"emptyDiv\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"border\":false,\"layout\":\"border\",\"height\":30,\"id\":\"emptyDiv\",\"hidden\":true,\"anchor\":\"100%\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"anchor\",\"border\":false},\"cn\":[{\"cid\":\"textfield\",\"id\":\"emptyAlert\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"id\":\"emptyAlert\",\"anchor\":\"-5\"}}]},{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{\"align\":\"center\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"west\",\"width\":62,\"border\":false,\"layout\":\"vbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label3\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"空值提示：\"}}]}]}]},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"事件\",\"layout\":\"anchor\",\"padding\":\"5\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"border\":false,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label4\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"click:\",\"width\":30,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div5\",\"layoutConfig\":{},\"userConfig\":{\"height\":33,\"margins\":\"5 0 0 5\",\"layout\":\"anchor\",\"border\":false,\"anchor\":\"-30\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"click\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"margins\":\"0 0 0 5\",\"id\":\"click\",\"anchor\":\"-30\",\"cls\":\"m-r5\",\"afterrender\":\"click_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"clickDelete\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"\",\"icon\":\"delete\",\"width\":30,\"margins\":\"0 0 0 5\",\"id\":\"clickDelete\",\"click\":\"clickDelete_click\"}}]}]},{\"cid\":\"container\",\"id\":\"div6\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"border\":false,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label5\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"change:\",\"width\":50,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div7\",\"layoutConfig\":{},\"userConfig\":{\"height\":33,\"margins\":\"5 0 0 5\",\"layout\":\"anchor\",\"border\":false,\"anchor\":\"-50\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"change\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"margins\":\"0 0 0 5\",\"id\":\"change\",\"anchor\":\"-30\",\"cls\":\"m-r5\",\"afterrender\":\"change_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"changeDelete\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"\",\"icon\":\"delete\",\"width\":30,\"margins\":\"0 0 0 5\",\"id\":\"changeDelete\",\"click\":\"changeDelete_click\"}}]}]},{\"cid\":\"container\",\"id\":\"div8\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"border\":false,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"anchor\":\"100%\",\"cls\":\"flex\",\"hidden\":true},\"cn\":[{\"cid\":\"label\",\"id\":\"label6\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"dblclick:\",\"width\":50,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div9\",\"layoutConfig\":{},\"userConfig\":{\"height\":33,\"margins\":\"5 0 0 5\",\"layout\":\"anchor\",\"border\":false,\"anchor\":\"-50\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"dblclick\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"margins\":\"0 0 0 5\",\"id\":\"dblclick\",\"anchor\":\"-30\",\"cls\":\"m-r5\"}},{\"cid\":\"vmdButton\",\"id\":\"dblclickDelete\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"\",\"icon\":\"delete\",\"width\":30,\"margins\":\"0 0 0 5\",\"id\":\"dblclickDelete\"}}]}]}]}]}]}]}","vmdevents":"var page = this;\nvar activePropPanel = parent.xds && parent.xds.active.component.propPanel;\n\nvar store = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: ['name', 'id']\n});\nvar data = [{\n    name: 'yyyy-MM-dd',\n    id: '%Y-%m-%d'\n}, {\n    name: 'yyyy年MM月dd日',\n    id: '%Y年%m月%d日'\n}, {\n    name: 'yyyy年MM月dd日 hh时mm分',\n    id: '%Y年%m月%d日 %H时%i分'\n}, {\n    name: 'yyyyMMdd',\n    id: '%Y%m%d'\n}, {\n    name: 'yyyyMM',\n    id: '%Y%m'\n}, {\n    name: 'yyyy',\n    id: '%Y'\n}, {\n    name: 'hh时mm分',\n    id: '%H时%i分'\n}, {\n    name: 'yyyy年',\n    id: '%Y年'\n}, {\n    name: 'hh时mm分',\n    id: '%H时%i分'\n}];\nstore.loadData(data);\n\n\nfunction customFormat_check(sender, checked) {\n    closeFormat()\n    checked ? customFormats.show() : format.show();\n    div1.doLayout();\n}\n\nfunction allowEmpty_check(sender, checked) {\n    checked ? emptyDiv.hide() : emptyDiv.show()\n    panel.doLayout()\n}\n\nfunction closeFormat() {\n    format.hide();\n    customFormats.hide();\n}\n\nfunction InputDateProperty_beforerender(sender) {\n\n}\n\nfunction format_beforerender(sender) {\n    this.store = store;\n    this.displayField = \"name\"\n    this.valueField = \"id\"\n}\n\nfunction click_afterrender(sender) {\n\n    sender.el.on('dblclick', function() {\n\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'date_click', sender.getValue(), 'grid,cell,rId,cInd');\n\n    })\n}\n\nfunction change_afterrender(sender) {\n    sender.el.on('dblclick', function() {\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'date_change', sender.getValue(), 'grid,cell,rId,cInd,nValue,oValue');\n\n    })\n}\n\nfunction clickDelete_click(sender, e) {\n    click.setValue('');\n    click.fireEvent('change', click, '')\n}\n\nfunction changeDelete_click(sender, e) {\n    change.setValue('');\n    change.fireEvent('change', change, '')\n}\n\nfunction panel_beforerender(sender){\n\n}","vmdcss":".flex{\n    display: flex\n}\n.m-r5{\n    margin-right: 5px\n}\n.line35{\n    line-height: 35px\n}","vmdprops":"\"\"","type":"ux","vmdevents_controller":"Ext.define('vmd.ux.inputDateProperty.Controller', {\n    xtype: 'vmd.ux.inputDateProperty.Controller',\n    constructor: function(options) {\n        this.scope = options;\n\n        this.type = 'date'\n        this.colHide = false;\n        this.colWidth = '100'\n        this.dicFirst=true;\n        this.txtAlign=\"3\"\n\n        this.allowEdit = true;\n        this.customFormat = false\n        this.format = ''\n        this.customFormats = ''\n        this.defaultNow = false\n        this.allowEmpty = false;\n        this.emptyAlert = ''\n        this.click = ''\n        this.change = ''\n        this.dblclick = ''\n    },\n    setValue: function(info, flag) {\n\n        if (info) {\n\n            this.allowEdit = info.settings.allowEdit\n            this.customFormat = info.settings.customFormat\n            this.format = info.settings.format\n            this.customFormats = info.settings.customFormats\n            this.defaultNow = info.settings.defaultNow\n            this.allowEmpty = info.settings.allowEmpty\n            this.emptyAlert = info.settings.emptyAlert\n            if (!flag) {\n                this.click = info.events.click\n                this.change = info.events.change\n                this.dblclick = info.events.dblclick\n            }\n            this.colHide = info.settings.colHide\n            this.colWidth = info.settings.colWidth\n            this.dicFirst = info.settings.dicFirst\n            this.txtAlign = info.settings.txtAlign\n\n            if (this.scope) {\n                this.scope.allowEdit.setValue(this.allowEdit)\n                this.scope.customFormat.setValue(this.customFormat)\n                this.scope.format.setValue(this.format)\n                this.scope.customFormats.setValue(this.customFormats)\n                this.scope.defaultNow.setValue(this.defaultNow)\n                this.scope.allowEmpty.setValue(this.allowEmpty)\n                this.scope.emptyAlert.setValue(this.emptyAlert)\n                if (!flag) {\n                    this.scope.click.setValue(this.click)\n                    this.scope.change.setValue(this.change)\n                    this.scope.dblclick.setValue(this.dblclick)\n                }\n            }\n        }\n    },\n    serialize: function() {\n        var json = {\n            settings: {\n                allowEdit: this.allowEdit,\n                customFormat: this.customFormat,\n                format: this.format,\n                customFormats: this.customFormats,\n                defaultNow: this.defaultNow,\n                allowEmpty: this.allowEmpty,\n                emptyAlert: this.emptyAlert,\n                colHide: this.colHide,\n                colWidth: this.colWidth,\n                dicFirst:this.dicFirst,\n                txtAlign:this.txtAlign\n            },\n            events: {\n                click: this.click,\n                change: this.change,\n                dblclick: this.dblclick\n            },\n            type: 'date'\n        }\n        return json;\n    }\n})","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}