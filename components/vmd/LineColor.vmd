{"vmdversion":"2.0.5.191228","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"LineColor\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":40,\"height\":30,\"afterrender\":\"LineColor_afterrender\",\"autoHeight\":false},\"cn\":[{\"cid\":\"vmdDataView\",\"id\":\"hwDataView\",\"layoutConfig\":{},\"userConfig\":{\"x\":-1,\"y\":0,\"width\":40,\"height\":30,\"autoScroll\":false,\"multiSelect\":false,\"data\":\"var data = [{\\n    \\\"id\\\": 1,\\n    \\\"picname\\\": \\\"border-layout.gif\\\",\\n    \\\"name\\\": \\\"Border Layout\\\",\\n    \\\"desc\\\": \\\"方位布局\\\"\\n}, {\\n    \\\"id\\\": 2,\\n    \\\"picname\\\": \\\"layout-accordion.gif\\\",\\n    \\\"name\\\": \\\"Accordion Layout\\\",\\n    \\\"desc\\\": \\\"手风琴布局\\\"\\n}, {\\n    \\\"id\\\": 3,\\n    \\\"picname\\\": \\\"layout-anchor.gif\\\",\\n    \\\"name\\\": \\\"Accordion Layout\\\",\\n    \\\"desc\\\": \\\"百分比布局\\\"\\n}, {\\n    \\\"id\\\": 4,\\n    \\\"picname\\\": \\\"layout-form.gif\\\",\\n    \\\"name\\\": \\\"Absolute Layout\\\",\\n    \\\"desc\\\": \\\"绝对定位布局\\\"\\n}, {\\n    \\\"id\\\": 5,\\n    \\\"picname\\\": \\\"layout-column.gif\\\",\\n    \\\"name\\\": \\\"Column Layout\\\",\\n    \\\"desc\\\": \\\"列布局\\\"\\n}, {\\n    \\\"id\\\": 6,\\n    \\\"picname\\\": \\\"layout-table.gif\\\",\\n    \\\"name\\\": \\\"Table Layout\\\",\\n    \\\"desc\\\": \\\"表格布局\\\"\\n}];\\nreturn data;\",\"tpl\":\"<ul class=\\\"d-info\\\" style=\\\"display: inline-block;height: 36px;\\\">\\n    <li class=\\\"info icon\\\" style=\\\"float:left;width: 24px;height:30px;padding: 0;margin:0\\\"> <i class=\\\"icon iconfont icon-iconset0137\\\" style=\\\" display:block;width:24px;height:20px;font-weight:bold;color:#333;text-align:center; line-height: 24px\\\"> </i>\\n        <p class='bg-color' style=\\\"width:24px;height:4px;\\\"> </p>\\n    </li>\\n    <li class=\\\"info color-click\\\" style=\\\"float:left;width:10px;height:30px;margin-left:5px;padding:0\\\">\\n        <p class=\\\"color-click\\\" style=\\\"width:10px;height:4px;\\\"> </p> <i class=\\\"icon-caret-down color-click\\\" style=\\\" display:inline-block;width:10px;height:10px; color:#646464;text-align:center; line-height: 10px;font-size:10px\\\"> </i>\\n    </li>\\n</ul>\",\"singleSelect\":false,\"click\":\"hwDataView_click\"}},{\"cid\":\"container\",\"id\":\"colorBox\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"colorBox\",\"style\":\"background-color: #fff;    z-index: 9999;    padding: 5px;\",\"layout\":\"absolute\",\"height\":140,\"width\":160,\"x\":0,\"y\":0,\"hidden\":true,\"html\":\"\",\"afterrender\":\"colorBox_afterrender\"}}]}]}","vmdevents":"var page = this;\nvar cValue;\n\nfunction hwDataView_click(sender, index, node, e) {\n    if (index == 1) {\n        if (colorBox.hidden) {\n            var x = hwDataView.el.getRegion().left,\n                y = hwDataView.el.getRegion().top + 30;\n            colorBox.setPosition(x, y)\n            colorBox.show();\n        } else {\n            colorBox.hide();\n        }\n    }\n}\n\nfunction showColor(value) {\n    cValue = value;\n    var colors = ['000000', '993300', '333300', '003300', '003366', '000080', '333399', '333333', '800000', 'FF6600', '808000', '008000', '008080', '0000FF', '666699', '808080', 'FF0000', 'FF9900', '99CC00', '339966', '33CCCC', '3366FF', '800080', '969696', 'FF00FF', 'FFCC00', 'FFFF00', '00FF00', '00FFFF', '00CCFF', '993366', 'C0C0C0', 'FF99CC', 'FFCC99', 'FFFF99', 'CCFFCC', 'CCFFFF', '99CCFF', 'CC99FF', 'FFFFFF', 'DDDDDD', 'EEEEEE'];\n    if (value.indexOf(\"#\") != -1) {\n        cValue = value.slice(1);\n    }\n    if (!isInArray(colors, cValue)) {\n        cValue = '';\n    }\n    var cp = new Ext.ColorPalette({\n        value: cValue,\n    });\n    cp.colors = colors;\n    cp.render(colorBox.id);\n    cp.on('select', function(palette, color) {\n        selectColor = \"#\" + color;\n        setBackColor(color);\n        page.fireEvent('lineColorChange', showColor, \"#\" + color);\n        colorBox.hide();\n    });\n}\n// 设置图框背景颜色\nfunction setBackColor(selColor) {\n    cValue = selColor;\n    var c;\n    vmd.taskRunner(function() {\n        if(hwDataView.el) {\n            return true\n        }\n    }, function() {\n        if (selColor) {\n            if (selColor.indexOf('#') == -1) {\n                c = \"#\" + selColor;\n            } else {\n                c = selColor\n            }\n            hwDataView.all.elements[0].lastElementChild.style.backgroundColor = c;\n        }\n    })\n}\n\nfunction LineColor_afterrender(sender) {\n    \n    // this.on('afterlayout', function() {\n        Ext.getBody().appendChild(colorBox.el);\n    // })\n    Ext.getBody().on('click', function(e) {\n        if (!$(e.target).hasClass(\"color-click\")) {\n            if (!colorBox.hidden) {\n                colorBox.hide();\n            }\n        }\n\n    })\n}\n\nfunction colorBox_afterrender(sender) {\n    showColor('');\n}\n\nfunction isInArray(arr, value) {\n    for (var i = 0; i < arr.length; i++) {\n        if (value === arr[i]) {\n            return true;\n        }\n    }\n    return false;\n}","vmdcss":".bg-color{\n    background-color: #000;\n}\n.x-color-palette em span{\n    width: 13px;\n    height: 13px;\n}\n.x-color-palette{\n    width:150px;\n    height: 160px;\n}","vmdprops":"\"\"","type":"ux","vmdcmpdeps":[],"vmdevents_controller":"Ext.define('vmd.ux.fontColor.Controller', {\n    xtype: 'vmd.ux.fontColor.Controller',\n    constructor: function(options) {\n        \n    }\n})","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"setOriColor\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setOriColor\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"selColor\",\"code\":\"//直接填写方法内容\\nsetBackColor(selColor)\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"lineColorChange\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"lineColorChange\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"color\",\"code\":\"\"}}]}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"rescss\",\"id\":\"components/ux/linecolor/1.0/css/iconfont.css\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"components/ux/linecolor/1.0/css/iconfont.css\",\"path\":\"components/ux/linecolor/1.0/css/iconfont.css\",\"absolutePath\":\"{{vmduxpath}}/components/ux/linecolor/1.0/css/iconfont.css\",\"ext\":\"css\"}}]},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}