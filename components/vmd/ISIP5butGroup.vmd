{"vmdversion":"2.0.3.201903121","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"ISIP5butGroup\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":\"\",\"height\":36,\"bodyStyle\":\"background-color: #fff;\",\"afterrender\":\"ISIP5butGroup_afterrender\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"height\":318,\"style\":\"display: inline-block;    border-left: 0;    border-right: 0;    border-top: 0;\",\"layout\":\"absolute\",\"border\":false,\"width\":\"\"},\"cn\":[{\"cid\":\"vmdDataView\",\"id\":\"hwDataView\",\"layoutConfig\":{},\"userConfig\":{\"height\":40,\"width\":\"\",\"tpl\":\"<ul class=\\\"d-info\\\" style=\\\"display: inline-block;height: 36px;\\\">\\n    <tpl for=\\\".\\\">\\n        <li class=\\\"info\\\" data-id=\\\"{id}\\\" data-tooltip=\\\"{title}\\\" style=\\\"display: inline-block;width: 18px;height: 18px;  padding: 11px 4px 10px 4px;margin: 0;cursor: default\\\">\\n            <i class=\\\"iconfont {id}\\\" style=\\\" display:inline-block;width: 100%;height: 100%;\\\">\\n            </i>\\n        </li>\\n    </tpl>\\n</ul>\",\"click\":\"hwDataView_click\",\"autoScroll\":false,\"afterrender\":\"hwDataView_afterrender\",\"data\":\"var data = [{\\n    \\\"id\\\": 1,\\n    \\\"picname\\\": \\\"border-layout.gif\\\",\\n    \\\"name\\\": \\\"Border Layout\\\",\\n    \\\"desc\\\": \\\"方位布局\\\"\\n}, {\\n    \\\"id\\\": 2,\\n    \\\"picname\\\": \\\"layout-accordion.gif\\\",\\n    \\\"name\\\": \\\"Accordion Layout\\\",\\n    \\\"desc\\\": \\\"手风琴布局\\\"\\n}, {\\n    \\\"id\\\": 3,\\n    \\\"picname\\\": \\\"layout-anchor.gif\\\",\\n    \\\"name\\\": \\\"Accordion Layout\\\",\\n    \\\"desc\\\": \\\"百分比布局\\\"\\n}, {\\n    \\\"id\\\": 4,\\n    \\\"picname\\\": \\\"layout-form.gif\\\",\\n    \\\"name\\\": \\\"Absolute Layout\\\",\\n    \\\"desc\\\": \\\"绝对定位布局\\\"\\n}, {\\n    \\\"id\\\": 5,\\n    \\\"picname\\\": \\\"layout-column.gif\\\",\\n    \\\"name\\\": \\\"Column Layout\\\",\\n    \\\"desc\\\": \\\"列布局\\\"\\n}, {\\n    \\\"id\\\": 6,\\n    \\\"picname\\\": \\\"layout-table.gif\\\",\\n    \\\"name\\\": \\\"Table Layout\\\",\\n    \\\"desc\\\": \\\"表格布局\\\"\\n}];\\nreturn data;\",\"style\":\"\",\"singleSelect\":false,\"multiSelect\":false,\"selectedClass\":\"\"}},{\"cid\":\"vmdImg\",\"id\":\"moreButton\",\"layoutConfig\":{},\"userConfig\":{\"width\":20,\"height\":18,\"x\":230,\"y\":12,\"id\":\"moreButton\",\"click\":\"moreButton_click\",\"src\":\"/img/public/u585.png\",\"hidden\":false,\"disabled\":false}},{\"cid\":\"vmdDataView\",\"id\":\"hwDataView1\",\"layoutConfig\":{},\"userConfig\":{\"height\":80,\"width\":20,\"data\":\"var data = [{\\n    \\\"id\\\": 1,\\n    \\\"picname\\\": \\\"border-layout.gif\\\",\\n    \\\"name\\\": \\\"Border Layout\\\",\\n    \\\"desc\\\": \\\"方位布局\\\"\\n}, {\\n    \\\"id\\\": 2,\\n    \\\"picname\\\": \\\"layout-accordion.gif\\\",\\n    \\\"name\\\": \\\"Accordion Layout\\\",\\n    \\\"desc\\\": \\\"手风琴布局\\\"\\n}, {\\n    \\\"id\\\": 3,\\n    \\\"picname\\\": \\\"layout-anchor.gif\\\",\\n    \\\"name\\\": \\\"Accordion Layout\\\",\\n    \\\"desc\\\": \\\"百分比布局\\\"\\n}, {\\n    \\\"id\\\": 4,\\n    \\\"picname\\\": \\\"layout-form.gif\\\",\\n    \\\"name\\\": \\\"Absolute Layout\\\",\\n    \\\"desc\\\": \\\"绝对定位布局\\\"\\n}, {\\n    \\\"id\\\": 5,\\n    \\\"picname\\\": \\\"layout-column.gif\\\",\\n    \\\"name\\\": \\\"Column Layout\\\",\\n    \\\"desc\\\": \\\"列布局\\\"\\n}, {\\n    \\\"id\\\": 6,\\n    \\\"picname\\\": \\\"layout-table.gif\\\",\\n    \\\"name\\\": \\\"Table Layout\\\",\\n    \\\"desc\\\": \\\"表格布局\\\"\\n}];\\nreturn data;\",\"tpl\":\"<ul class=\\\"d-info\\\">\\n    <tpl for=\\\".\\\">\\n        <li class=\\\" info shu-info\\\" data-id=\\\"{id}\\\" data-tooltip=\\\"{title}\\\" style=\\\" width: 18px;        height: 18px;        padding: 4px; cursor: default\\\">\\n            <i class=\\\"iconfont {id}\\\" style=\\\" display:inline-block;width: 100%;height: 100%;\\\">\\n            </i>\\n        </li>\\n    </tpl>\\n</ul>\",\"hidden\":true,\"autoScroll\":false,\"x\":200,\"y\":40,\"click\":\"hwDataView1_click\",\"afterrender\":\"hwDataView1_afterrender\",\"selectedClass\":\"\",\"singleSelect\":false,\"multiSelect\":false}}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"var page = this;\n\nLazyLoad.css(vmd.virtualPath + \"/img/isip5/iconfont.css\");\n\n\nvar store1 = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: ['id', 'title']\n});\nvar store2 = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: ['id', 'title']\n});\n\nvar seleData1 = [],\n    seleData2 = [],\n    titleData = [];\n\nvar bntData = [{\n    id: \"icon-fenlei1\",\n    title: \"分类\"\n}, {\n    id: \"icon-gongdan\",\n    title: \"分类\"\n}, {\n    id: \"icon-xinjianmoxing\",\n    title: \"新建模型\"\n}, {\n    id: \"icon-liebiao\",\n    title: \"列表\"\n}, {\n    id: \"icon-fenlei\",\n    title: \"分类\"\n}, {\n    id: \"icon-sousuo\",\n    title: \"搜索\"\n}, {\n    id: \"icon-shanchu1\",\n    title: \"删除\"\n}, {\n    id: \"icon-shangyi\",\n    title: \"上移\"\n}, {\n    id: \"icon-xiayi\",\n    title: \"下移\"\n}, {\n    id: \"icon-danwei\",\n    title: \"单位\"\n}, {\n    id: \"icon-zengjia\",\n    title: \"增加\"\n}, {\n    id: \"icon-bianji\",\n    title: \"编辑\"\n}, {\n    id: \"icon-zuzhiqunzu\",\n    title: \"组织群组\"\n}, {\n    id: \"icon-gangwei\",\n    title: \"岗位\"\n}, {\n    id: \"icon-quanxianshenpi\",\n    title: \"权限审批\"\n}, {\n    id: \"icon-tianjiabumen\",\n    title: \"添加分类\"\n}, {\n    id: \"icon-winfo-icon-xinzengbumen\",\n    title: \"添加单位\"\n}, {\n    id: \"icon-tianjiadanwei1\",\n    title: \"添加部门\"\n}, {\n    id: \"icon-xinjian\",\n    title: \"新建\"\n}, {\n    id: \"icon-lishibanben1\",\n    title: \"历史版本\"\n}, {\n    id: \"icon-tianjiayingyong\",\n    title: \"添加模块\"\n}, {\n    id: \"icon-mokuai\",\n    title: \"添加应用\"\n}, {\n    id: \"icon-yunshujuzhongxin1\",\n    title: \"添加数据服务\"\n}, {\n    id: \"icon-shujuku\",\n    title: \"数据库\"\n}, {\n    id: \"icon-tianjiashujuyuan\",\n    title: \"添加数据库\"\n}, {\n    id: \"icon-yunshujuzhongxin\",\n    title: \"数据服务\"\n},{\n    id:\"icon-icon-test1\",\n    title:\"添加业务域\"\n}, {\n    id: \"icon-icon-test\",\n    title: \"业务域\"\n}, {\n    id: \"icon-jiaose\",\n    title: \"角色\"\n},{\n    id:\"icon-shujuquanxian1\",\n    title:\"数据权限\"\n},{\n    id:\"icon-quanxianmokuai\",\n    title:\"权限模块\"\n},{\n    id:\"icon-shanchu2\",\n    title:\"取消\"\n}\n,{\n    id:\"icon-tianjiahaoyou\",\n    title:\"岗位\"\n}];\n\nfunction hwDataView_click(sender, index, node, e) {\n    var id = node.getAttribute('data-id');\n    var title = node.getAttribute('data-tooltip');\n    page.fireEvent(\"bntGroupClick\", hwDataView, id, title)\n}\n\n\nfunction setBnt(obj) {\n    seleData1 = [];\n    seleData2 = [];\n    var arr;\n    if(vmd.isArray(obj)) {\n        arr = obj;\n\n    } else if(vmd.isString(obj)) {\n        arr = obj.split(\",\")\n    }\n    for(var j = 0; j < arr.length; j++) {\n        for(var i = 0; i < bntData.length; i++) {\n            if(bntData[i].id == arr[j]) {\n                if(j < 8) {\n                    seleData1.push(bntData[i])\n                } else {\n                    seleData2.push(bntData[i])\n                }\n\n            }\n        }\n        if(arr[j].id && arr[j].title) {\n            if(j < 8) {\n                seleData1.push(arr[j])\n            } else {\n                seleData2.push(arr[j])\n            }\n\n        }\n    }\n    store1.loadData(seleData1);\n    hwDataView.bindStore(store1);\n    store2.loadData(seleData2);\n    hwDataView1.bindStore(store2);\n    if(seleData2.length > 0) {\n        moreButton.show()\n    } else {\n        moreButton.hide()\n    }\n}\n\nfunction ISIP5butGroup_afterrender(sender) {\n    Ext.getBody().appendChild(hwDataView1.el);\n    if(seleData1.length == 0 && seleData2.length == 0) {\n        setBnt(bntData)\n    }\n    vmd.utils.tooltip(\"[data-tooltip]\");\n}\n\nfunction moreButton_click(sender, e) {\n    if(hwDataView1.hidden) {\n        var x = e.clientX - 30,\n            y = e.clientY + 10;\n        hwDataView1.setPosition(x, y)\n        hwDataView1.show()\n\n    } else {\n        hwDataView1.hide()\n    }\n}\n\nfunction hwDataView1_click(sender, index, node, e) {\n    var id = node.getAttribute('data-id');\n    var title = node.getAttribute('data-tooltip');\n    page.fireEvent(\"bntGroupClick\", hwDataView, id, title);\n    hwDataView1.hide();\n}\n\nfunction hwDataView_afterrender(sender) {\n\n    vmd.utils.tooltip(\"[data-tooltip]\");\n\n    // hwDataView.addListener(\"mouseenter\", function(sender, index, node, e) {\n    //     var id = node.getAttribute('data-id');\n    //     if(titleData.length > 0) {\n    //         for(var i = 0; i < titleData.length; i++) {\n    //             if(titleData[i].id == id) {\n    //                 hwText.setPosition(e.xy[0], e.xy[1])\n    //                 hwText.show();\n    //                 hwText.setValue(titleData[i].title);\n    //                 break;\n    //             }\n    //         }\n    //     }\n    // })\n    // hwDataView.addListener(\"mouseleave\", function(sender, index, node, e) {\n    //     hwText.hide();\n    //     hwText.setValue('');\n    // })\n}\n\nfunction hwText_afterrender(sender) {\n    Ext.getBody().appendChild(hwText.el);\n}\n\nfunction hwDataView1_afterrender(sender) {\n    vmd.utils.tooltip(\"[data-tooltip]\");\n\n    // hwDataView1.addListener(\"mouseenter\", function(sender, index, node, e) {\n    //     var id = node.getAttribute('data-id');\n    //     if(titleData.length > 0) {\n    //         for(var i = 0; i < titleData.length; i++) {\n    //             if(titleData[i].id == id) {\n    //                 hwText.setPosition(e.xy[0], e.xy[1])\n    //                 hwText.show();\n    //                 hwText.setValue(titleData[i].title);\n    //                 break;\n    //             }\n    //         }\n    //     }\n    // })\n    // hwDataView1.addListener(\"mouseleave\", function(sender, index, node, e) {\n    //     hwText.hide();\n    //     hwText.setValue('');\n    // })\n}","vmdcss":".bntIco{\n    background: url('/img/public/u585.png')\n    \n}\n","vmdprops":"\"\"","type":"ux","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"setBntGroup\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setBntGroup\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"对按钮组进行自定义，可以根据默认按钮id，传递数组参数或者字符串参数;\\n例如：['icon-fenlei1','icon-liebiao','icon-sousuo']或者\\\"icon-fenlei1,icon-liebiao,icon-sousuo\\\";\\n\\n\",\"uxcid\":\"\",\"params\":\"bntGroup\",\"code\":\"//直接填写方法内容\\nsetBnt(bntGroup)\\n\\n/*\\n已定义的所有按钮id\\n如需自定义title的内容，可传入一下格式数组对象，\\ntitle字段自定义内容即可\\nvar bntData = [{\\n    id: \\\"icon-fenlei1\\\",\\n    title:\\\"分类\\\"\\n}, {\\n    id: \\\"icon-gongdan\\\",\\n    title:\\\"分类\\\"\\n},{\\n    id: \\\"icon-xinjianmoxing\\\",\\n    title:\\\"新建模型\\\"\\n}, {\\n    id: \\\"icon-liebiao\\\",\\n    title:\\\"分类\\\"\\n},{\\n    id: \\\"icon-fenlei\\\",\\n    title:\\\"分类\\\"\\n},{\\n    id: \\\"icon-sousuo\\\",\\n    title:\\\"搜索\\\"\\n}, {\\n    id: \\\"icon-shanchu1\\\",\\n    title:\\\"删除\\\"\\n},{\\n    id: \\\"icon-shangyi\\\",\\n    title:\\\"上移\\\"\\n}, {\\n    id: \\\"icon-xiayi\\\",\\n    title:\\\"下移\\\"\\n},{\\n    id: \\\"icon-danwei\\\",\\n    title:\\\"单位\\\"\\n}, {\\n    id: \\\"icon-zengjia\\\",\\n    title:\\\"增加\\\"\\n},{\\n    id: \\\"icon-bianji\\\",\\n    title:\\\"编辑\\\"\\n}, {\\n    id: \\\"icon-zuzhiqunzu\\\",\\n    title:\\\"组织群组\\\"\\n}];\\n也可以自定义按钮id及图表,\\n传入以上格式的数组对象即可，\\n注：图标必须为/img/isip5/iconfont.css文件定义过的字体图标\\n\\n*/ \\n\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"bntGroupClick\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"bntGroupClick\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"按钮事件，根据抛出的bntId及bntTitle判断按钮类型，做相应的事件处理\",\"uxcid\":\"\",\"params\":\"bntId,bntTitle\",\"code\":\"\"}}]}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}