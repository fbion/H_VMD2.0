{"vmdversion":"2.0.3.0920","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"Ttest\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"header\":false,\"width\":600,\"height\":350},\"cn\":[{\"cid\":\"vmdCombo\",\"id\":\"combo\",\"layoutConfig\":{},\"userConfig\":{\"x\":50,\"y\":0,\"afterrender\":\"combo_afterrender\",\"width\":350}},{\"cid\":\"vmdTreeEx\",\"id\":\"tree\",\"layoutConfig\":{},\"userConfig\":{\"x\":50,\"y\":30,\"nodeclick\":\"tree_nodeclick\",\"afterrender\":\"tree_afterrender\",\"beforeNodeExpand\":\"tree_beforeNodeExpand\"}}]}]}","vmdevents":"//--------------------------------------下拉树有关------------------------------\nfunction combo_afterrender(sender) {\n     //hwjVcIXpPa\n    //组合下拉树\n\n    combo.setValue = function(val) {\n\n        this._value = val;\n        tree._setValue();\n\n    }\n    combo.getValue = function() {\n\n        return this._value || \"\"\n    }\n\n\n\n    var imgel = combo.el.query(\".dhxdwmc_select_img\");\n    vmd(imgel).unbind('click')\n    combo.addClass('dwmctree')\n    vmd(sender.DOMelem_input).on('focus', function(e) {\n\n        e.stopPropagation();\n        var pos = combo.el.getRegion();\n        var top = pos.top + 30;\n        var left = pos.left\n        tree.show();\n        tree.el.setLeft(left);\n        tree.el.setTop(top);\n\n\n    }).on('blur', function() {\n\n\n\n    }).on('keyup', function() {\n        tree.filterBy(combo.getText())\n    })\n\n    Ext.getDoc().on('click', function(e) {\n\n\n        if(vmd(e.target).parents('.dwmctree').length == 0 && vmd(e.target).parents('.vmd-tree').length == 0) tree.hide()\n\n    })\n\n}\n\n\nfunction tree_nodeclick(sender, node, e) {\n     e.stopPropagation();\n\n    if(!node.hasChildNodes()) {\n        combo.setText(node.text)\n        combo._value = node.id;\n        tree.hide();\n    }\n\n\n\n\n}\n\nfunction tree_beforeNodeExpand(sender, node, deep, anim) {\n   //  window.event.stopPropagation();\n}\n\nfunction combo_beforerender(sender) {\n    this._setValue = function() {\n\n        var id = combo._value;\n        //if(!id) return\n        var node = tree.getNodeById(id);\n        var text = \"\";\n        if(node) {\n            text = node.text;\n\n            //节点展开\n            tree.expandPath(node.getPath());\n            node.select()\n        }\n\n        combo.setText(text)\n    }\n    this.store.on('load', function() {\n\n        tree._setValue();\n\n    })\n}\n\nfunction tree_afterrender(sender) {\n     tree.hide();\n}\n//------------------------------------------------------------------------------\n\n\n","vmdcss":"","vmdprops":"\"\"","type":"ux","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"a\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"a\",\"desc\":\"\",\"zhname\":\"A\",\"isPublic\":\"on\",\"bindCmp\":\"combo\",\"bindValue\":\"valueField\",\"uxcid\":\"vmdCombo\",\"cmptype\":\"\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}"}