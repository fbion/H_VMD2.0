{"vmdversion":"2.0.3.0830","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"Search_treenode\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"header\":false,\"width\":220,\"height\":400},\"cn\":[{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":0,\"width\":214,\"height\":57,\"region\":\"north\",\"border\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"x\":15,\"y\":15,\"width\":183,\"height\":28,\"layout\":\"absolute\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"hwText\",\"layoutConfig\":{},\"userConfig\":{\"height\":26,\"width\":150,\"style\":\"border-top: 0px solid #dbdbdb;    border-right: 0px solid #ffffff;    border-left: 0px solid #dbdbdb;    border-bottom: 0px solid #dbdbdb;\",\"x\":0,\"y\":0,\"beforerender\":\"hwText_beforerender\",\"keyup\":\"hwText_keyup\"}},{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"width\":20,\"height\":20,\"style\":\"cursor: pointer\",\"x\":155,\"y\":3,\"cls\":\"\",\"border\":false},\"cn\":[{\"cid\":\"vmdImg\",\"id\":\"hwImg_cx\",\"layoutConfig\":{},\"userConfig\":{\"width\":20,\"height\":20,\"src\":\"/img/public/松南调度中心-搜索.png\",\"x\":191,\"y\":3,\"region\":\"center\",\"click\":\"hwImg_click\",\"id\":\"hwImg_cx\",\"style\":\"\",\"cls\":\"yy\"}}]}]}]},{\"cid\":\"container\",\"id\":\"div2\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"fit\",\"border\":false,\"width\":177,\"height\":291},\"cn\":[{\"cid\":\"vmdTreeEx\",\"id\":\"tree_daohang\",\"layoutConfig\":{},\"userConfig\":{\"width\":169,\"id\":\"tree_daohang\",\"style\":\"margin-top: -5px;\",\"checkChanged\":\"tree_daohang_checkChanged\",\"afterBindData\":\"tree_daohang_afterBindData\",\"x\":10,\"y\":0,\"leafImg\":\"/img/public/treesxt.png\"}}]}]}]}","vmdevents":" var me = this;\n //放大镜\n function hwImg_click(sender) {\n     var txt_val = hwText.getValue();\n     tree_daohang.filterBy(txt_val);\n }\n //导航树形绑定完数据后，展开全部\n function tree_daohang_afterBindData(sender, node) {\n     tree_daohang.expandAll();\n }\n //导航树形 得到所有被 勾选的节点 的id \n var checked_jd = \"\";\n\n function tree_daohang_checkChanged(sender, node, checked) {\n      checked_jd = \"\";\n     var roonodes = tree_daohang.getRootNode().childNodes;\n     for(var i = 0; i < roonodes.length; i++) {\n         if(roonodes[i].childNodes.length > 0) {\n             findchildnode(roonodes[i]);\n         } else {\n             if(roonodes[i].attributes.checked) {\n                 checked_jd = checked_jd +\"\"+ roonodes[i].id + \",\";\n             }\n         }\n     }\n \n     var checkedNodes = [];\n     if(checked) checkedNodes = tree_daohang.getChecked();\n     me.fireEvent(\"treeNode_checkChanged\", sender, node, checked, checkedNodes,checked_jd);\n }\n\n function findchildnode(roonodes) { \n     var childnodes = roonodes.childNodes;\n     for(var i = 0; i < childnodes.length; i++) { // 从节点中取出子节点依次遍历\n         var rootnode = childnodes[i];\n         if(rootnode.childNodes.length == 0) {\n             if(rootnode.attributes.checked) {\n                 checked_jd = checked_jd+\"\" + rootnode.id + \",\";\n             }\n         }\n         findchildnode(rootnode); // 如果存在子节点 递归\n     }\n }\n\n \nfunction hwText_beforerender(sender){\n hwText.enableKeyEvents =true;\n}\nfunction hwText_keyup(sender,e){\n      if(sender.startValue!=\"\"&& sender.getValue()==\"\")\n    { \n        tree_daohang.filterBy(\"\");\n         tree_daohang.expandAll();\n        //树过滤\n    } \n}","vmdcss":".vmd-tree .x-panel-bwrap .x-panel-body {\n    background-color: #fff66;\n    /*树形的背景色*/\n}\n","vmdprops":"\"\"","type":"ux","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"store\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"store\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"store\",\"isPublic\":\"on\",\"desc\":\"数据源\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"parentField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"parentField\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"parentField\",\"isPublic\":\"on\",\"desc\":\"父级\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"valueField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"valueField\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"valueField\",\"isPublic\":\"on\",\"desc\":\"编码值\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"textField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"textField\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"textField\",\"isPublic\":\"on\",\"desc\":\"文本值\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"loadType\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"loadType\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"loadType\",\"isPublic\":\"on\",\"desc\":\"加载类型\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"rootText\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"rootText\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"rootText\",\"isPublic\":\"on\",\"desc\":\"根节点显示文字\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"hideRoot\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"hideRoot\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"hideRoot\",\"isPublic\":\"on\",\"desc\":\"隐藏根节点\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"checkBox\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"checkBox\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"checkBox\",\"isPublic\":\"on\",\"desc\":\"是否起用复选框\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"rootValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"rootValue\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"rootValue\",\"isPublic\":\"on\",\"desc\":\"根节点值\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"cascading\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"cascading\",\"zhname\":\"\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"cascading\",\"isPublic\":\"on\",\"desc\":\"级联\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"queryVar\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"queryVar\",\"desc\":\"分级时的变量\",\"zhname\":\"\",\"isPublic\":\"on\",\"bindCmp\":\"tree_daohang\",\"bindValue\":\"queryVar\",\"uxcid\":\"vmdTreeEx\"}}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"treeNode_checkChanged\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"treeNode_checkChanged\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"树形节点改变\",\"uxcid\":\"\",\"params\":\"node,checked,checkedNodes,checked_jd\",\"code\":\"\"}}]}]}"}