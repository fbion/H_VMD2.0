{"vmdversion":"vmd2.0.5.200306","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"InputRichTextProperty\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":500,\"height\":621,\"beforerender\":\"InputRichTextProperty_beforerender\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs\",\"layoutConfig\":{},\"userConfig\":{\"activeTab\":0,\"activeItem\":\"panel\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"属性\",\"layout\":\"anchor\",\"padding\":\"5\"},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"allowEdit\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"允许编辑\",\"margins\":\"5 0 0 5\",\"id\":\"allowEdit\"}},{\"cid\":\"container\",\"id\":\"div7\",\"layoutConfig\":{},\"userConfig\":{\"height\":30,\"layout\":\"border\",\"anchor\":\"100%\",\"border\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div8\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"anchor\",\"border\":false},\"cn\":[{\"cid\":\"vmd.ux.ClickText\",\"id\":\"segmentPadding\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"width\":153,\"id\":\"segmentPadding\",\"anchor\":\"-10\",\"plus\":\"segmentPadding_plus\",\"minus\":\"segmentPadding_minus\"}}]},{\"cid\":\"container\",\"id\":\"div9\",\"layoutConfig\":{\"align\":\"center\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"west\",\"width\":66,\"layout\":\"vbox\",\"border\":false},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"段前缩进：\"}}]}]},{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{},\"userConfig\":{\"height\":23,\"border\":false,\"margins\":\"5 0 0 5\",\"layout\":\"hbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"校验\"}},{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"——————————\",\"margins\":\"0 0 0 5\",\"style\":\"color:#ddd;\"}}]},{\"cid\":\"checkbox\",\"id\":\"allowEmpty\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"允许为空\",\"margins\":\"5 0 0 5\",\"id\":\"allowEmpty\",\"check\":\"allowEmpty_check\",\"checked\":true}},{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"height\":30,\"layout\":\"border\",\"anchor\":\"100%\",\"border\":false,\"hidden\":true},\"cn\":[{\"cid\":\"container\",\"id\":\"div10\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"anchor\",\"border\":false},\"cn\":[{\"cid\":\"textfield\",\"id\":\"emptyAlert\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"id\":\"emptyAlert\",\"anchor\":\"-10\"}}]},{\"cid\":\"container\",\"id\":\"div11\",\"layoutConfig\":{\"align\":\"center\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"west\",\"width\":62,\"layout\":\"vbox\",\"border\":false},\"cn\":[{\"cid\":\"label\",\"id\":\"label3\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"空值提示：\",\"margins\":\"\"}}]}]}]},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"事件\",\"layout\":\"anchor\",\"border\":false,\"header\":false,\"padding\":\"5\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"anchor\",\"border\":false,\"margins\":\"5 0 0 5\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label4\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"click:\",\"width\":30,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{},\"userConfig\":{\"height\":37,\"layout\":\"anchor\",\"border\":false,\"margins\":\"\",\"anchor\":\"-30\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"click\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"margins\":\"5 0 0 5\",\"id\":\"click\",\"anchor\":\"-30\",\"cls\":\"m-r5\",\"afterrender\":\"click_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"clickDelete\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"\",\"icon\":\"delete\",\"width\":30,\"margins\":\"5 0 0 5\",\"id\":\"clickDelete\",\"anchor\":\"\",\"click\":\"clickDelete_click\"}}]}]},{\"cid\":\"container\",\"id\":\"div5\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"anchor\",\"border\":false,\"margins\":\"5 0 0 5\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label5\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"change:\",\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div6\",\"layoutConfig\":{},\"userConfig\":{\"height\":37,\"layout\":\"anchor\",\"border\":false,\"margins\":\"5 0 0 5\",\"anchor\":\"100%\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"change\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"margins\":\"5 0 0 5\",\"id\":\"change\",\"anchor\":\"-30\",\"cls\":\"m-r5\",\"afterrender\":\"change_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"changeDelete\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"\",\"icon\":\"delete\",\"width\":30,\"margins\":\"5 0 0 5\",\"id\":\"changeDelete\",\"click\":\"changeDelete_click\"}}]}]}]}]}]}]}","vmdevents":"var page = this;\nvar activePropPanel = parent.xds && parent.xds.active.component.propPanel;\n\n//获取数据集方法\nfunction getDatasets() {\n    return activePropPanel && activePropPanel.controller.getDatasets() || [];\n}\n\nfunction allowEmpty_check(sender, checked) {\n    checked ? div.hide() : div.show()\n    panel.doLayout()\n}\n\n\nfunction segmentPadding_plus(sender) {\n    this.setValue(parseFloat(this.getValue()) + 1)\n    page.fireEvent('updateValue', page, 'segmentPadding', this.getValue())\n}\n\nfunction segmentPadding_minus(sender) {\n    if (this.getValue() >= 1) {\n        this.setValue(parseFloat(this.getValue()) - 1)\n\n    }\n\n    if (this.getValue() < 0) this.setValue(0)\n    page.fireEvent('updateValue', page, 'segmentPadding', this.getValue())\n}\n\nfunction InputRichTextProperty_beforerender(sender) {\n\n}\n\nfunction click_afterrender(sender) {\n    sender.el.on('dblclick', function() {\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'richtext_click', sender.getValue(), 'grid,cell,rId,cInd');\n\n    })\n}\n\nfunction change_afterrender(sender) {\n    sender.el.on('dblclick', function() {\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'richtext_change', sender.getValue(), 'grid,cell,rId,cInd,nValue,oValue');\n\n    })\n}\n\nfunction clickDelete_click(sender, e) {\n    click.setValue('');\n    click.fireEvent('change', click, '')\n}\n\nfunction changeDelete_click(sender, e) {\n    change.setValue('');\n    change.fireEvent('change', change, '')\n}","vmdcss":".flex{\n    display: flex\n}\n.m-r5{\n    margin-right: 5px\n}\n.line35{\n    line-height: 35px\n}","vmdprops":"\"\"","type":"ux","vmdevents_controller":"Ext.define('vmd.ux.inputRichTextProperty.Controller', {\n    xtype: 'vmd.ux.inputRichTextProperty.Controller',\n    constructor: function(options) {\n        this.type = 'richText'\n\n        this.scope = options;\n        this.colHide = false\n        this.colWidth = '100'\n        this.dicFirst=true;\n        this.txtAlign=\"1\";\n        this.allowEdit = false\n        this.segmentPadding = ''\n        this.allowEmpty = false;\n        this.emptyAlert = ''\n        this.click = ''\n        this.change = ''\n    },\n    setValue: function(info, flag) {\n        if (info) {\n            this.allowEdit = info.settings.allowEdit\n            this.segmentPadding = info.settings.segmentPadding\n            this.allowEmpty = info.settings.allowEmpty\n            this.emptyAlert = info.settings.emptyAlert\n            if (!flag) {\n                this.click = info.events.click\n                this.change = info.events.change\n            }\n            this.colHide = info.settings.colHide\n            this.colWidth = info.settings.colWidth\n            this.dicFirst = info.settings.dicFirst\n            this.txtAlign = info.settings.txtAlign\n\n            if (this.scope) {\n                this.scope.allowEdit.setValue(this.allowEdit)\n                this.scope.segmentPadding.setValue(this.segmentPadding)\n                this.scope.allowEmpty.setValue(this.allowEmpty)\n                this.scope.emptyAlert.setValue(this.emptyAlert)\n                if (!flag) {\n                    this.scope.click.setValue(this.click)\n                    this.scope.change.setValue(this.change)\n                }\n            }\n        }\n    },\n    serialize: function() {\n        var json = {\n            settings: {\n                allowEdit: this.allowEdit,\n                segmentPadding: this.segmentPadding,\n                allowEmpty: this.allowEmpty,\n                emptyAlert: this.emptyAlert,\n                colHide: this.colHide,\n                colWidth: this.colWidth,\n                dicFirst:this.dicFirst,\n                txtAlign:this.txtAlign\n            },\n            events: {\n                click: this.click,\n                change: this.change\n            },\n            type: 'richText'\n        }\n        return json;\n    }\n})","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"setInfo\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setInfo\",\"params\":\"info\",\"desc\":\"\",\"isPublic\":\"on\",\"code\":\"setInfo(info)\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getInfo\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getInfo\",\"params\":\"\",\"desc\":\"\",\"isPublic\":\"on\",\"code\":\"getInfo()\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}