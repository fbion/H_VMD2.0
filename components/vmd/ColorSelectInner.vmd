{"vmdversion":"2.0.3.0710","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"ColorSelectInner\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"header\":false,\"width\":320,\"height\":621,\"afterrender\":\"ColorSelectInner_afterrender\"},\"cn\":[{\"cid\":\"container\",\"id\":\"colorDisplay\",\"layoutConfig\":{},\"userConfig\":{\"x\":70,\"y\":40,\"height\":160,\"id\":\"colorDisplay\",\"afterrender\":\"colorDisplay_afterrender\",\"width\":150,\"border\":false}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"width\":150,\"height\":30,\"text\":\"其他颜色\",\"x\":70,\"y\":170,\"click\":\"button_click\",\"style\":\"border: none\"}},{\"cid\":\"container\",\"id\":\"display\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":250,\"id\":\"display\",\"width\":230,\"height\":30,\"border\":false}},{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":10,\"text\":\"背景颜色：\"}},{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":220,\"text\":\"示例颜色：\"}},{\"cid\":\"container\",\"id\":\"myAnchor\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":280,\"width\":20,\"height\":30,\"id\":\"myAnchor\",\"border\":false,\"hidden\":false,\"click\":\"myAnchor_click\"}}]}]}","vmdevents":"var value = '',\r\n    selectColor = '';\r\nvar colorShow, myColorPicker;\r\nvar page = this\r\nvar cp;\r\n\r\nfunction setColorValue(color) {\r\n    value = color\r\n    selectColor = color;\r\n    cp = new Ext.ColorPalette({\r\n        value: value,\r\n    });\r\n}\r\n// 设置图框背景颜色\r\nfunction setBackColor(selColor) {\r\n    if(selColor) {\r\n        colorShow = vmd.getElement(display.id);\r\n        if(selColor.indexOf('#') == -1) {\r\n            colorShow.applyStyles('backgroundColor:#' + selColor);\r\n        } else {\r\n            colorShow.applyStyles('backgroundColor:' + selColor);\r\n        }\r\n    }\r\n}\r\n\r\nfunction button_click(sender, e) {\r\n    // 语言设置\r\n    dhtmlXColorPicker.prototype.i18n.zn = {\r\n        labelHue: \"H\",\r\n        labelSat: \"S\",\r\n        labelLum: \"L\",\r\n        labelRed: \"R\",\r\n        labelGreen: \"g\",\r\n        labelBlue: \"B\",\r\n        btnSelect: \"选择\",\r\n        btnCancel: \"取消\"\r\n    }\r\n    myColorPicker = new dhtmlXColorPicker({\r\n        input: myAnchor.id,\r\n        color: value,\r\n        closeable: false\r\n    });\r\n    myColorPicker.loadUserLanguage('zn');\r\n    myColorPicker.show();\r\n    var myEvent = myColorPicker.attachEvent(\"onSelect\", function(color, node) {\r\n        selectColor = color\r\n        page.fireEvent('bgColorChange', colorDisplay, selectColor);\r\n        myColorPicker.unload();\r\n        myColorPicker = null;\r\n        temp = vmd.getElement(myAnchor.id);\r\n        temp.applyStyles('backgroundColor:#fff')\r\n        colorShow = vmd.getElement(display.id);\r\n        colorShow.applyStyles('backgroundColor:' + selectColor)\r\n    });\r\n    var myEvent = myColorPicker.attachEvent(\"onCancel\", function(color, node) {\r\n        myColorPicker.unload();\r\n        myColorPicker = null;\r\n    });\r\n}\r\n\r\nfunction colorDisplay_afterrender(sender) {\r\n    var cp = new Ext.ColorPalette();\r\n    cp.colors = ['000000', '993300', '333300', '003300', '003366', '000080', '333399', '333333', '800000', 'FF6600', '808000', '008000', '008080', '0000FF', '666699', '808080', 'FF0000', 'FF9900', '99CC00', '339966', '33CCCC', '3366FF', '800080', '969696', 'FF00FF', 'FFCC00', 'FFFF00', '00FF00', '00FFFF', '00CCFF', '993366', 'C0C0C0', 'FF99CC', 'FFCC99', 'FFFF99', 'CCFFCC', 'CCFFFF', '99CCFF', 'CC99FF', 'FFFFFF'];\r\n    cp.render(colorDisplay.id);\r\n    cp.on('select', function(palette, color) {\r\n        \r\n        selectColor = \"#\" + color;\r\n        // ct.setValue('#' + color)\r\n        page.fireEvent('bgColorChange', colorDisplay, selectColor);\r\n        colorShow = vmd.getElement(display.id);\r\n        colorShow.applyStyles('backgroundColor:' + selectColor);\r\n    });\r\n}\r\n\r\nfunction ColorSelectInner_afterrender(sender) {\r\n    colorShow = vmd.getElement(display.id);\r\n    colorShow.applyStyles('backgroundColor:' + selectColor);\r\n}\r\n\r\nfunction myAnchor_click(sender, e) {\r\n\r\n}\r\n\r\nfunction colorSelectInner_afterrender(sender) {\r\n\r\n}","vmdcss":"","vmdprops":"\"\"","type":"ux","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"setOriColor\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setOriColor\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"color\",\"code\":\"//直接填写方法内容\\nsetColorValue(color)\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"setColorDiv\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setColorDiv\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"selColor\",\"code\":\"//直接填写方法内容\\nsetBackColor(selColor)\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getSelColor\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getSelColor\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\nreturn selectColor; \",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"bgColorChange\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"bgColorChange\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"color\",\"code\":\"\"}}]}]}"}