{"vmdversion":"2.0.4.190627","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"ChartQueryField\",\"layoutConfig\":{\"align\":\"middle\",\"pack\":\"start\"},\"userConfig\":{\"layout\":\"hbox\",\"header\":false,\"width\":800,\"height\":50},\"cn\":[{\"cid\":\"radiogroup\",\"id\":\"hwRadioGroup\",\"layoutConfig\":{},\"userConfig\":{\"height\":50,\"margins\":\"0 0 0 5\",\"width\":100,\"hidden\":false,\"cls\":\"myRadio\",\"change\":\"hwRadioGroup_change\"},\"cn\":[{\"cid\":\"radio\",\"id\":\"dayRadio\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"日度\",\"fieldLabel\":\"\",\"id\":\"dayRadio\",\"checked\":true,\"inputValue\":\"day\"}},{\"cid\":\"radio\",\"id\":\"monthRadio\",\"layoutConfig\":{},\"userConfig\":{\"fieldLabel\":\"\",\"boxLabel\":\"月度\",\"id\":\"monthRadio\",\"inputValue\":\"month\"}}]},{\"cid\":\"container\",\"id\":\"dateDiv\",\"layoutConfig\":{\"align\":\"middle\",\"pack\":\"center\"},\"userConfig\":{\"border\":false,\"width\":380,\"id\":\"dateDiv\",\"layout\":\"hbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"dateLabel\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"dateLabel\",\"text\":\"起止日期：\"}},{\"cid\":\"vmdDateTime\",\"id\":\"startDate\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"myDate\",\"width\":130,\"id\":\"startDate\",\"afterrender\":\"startDate_afterrender\"}},{\"cid\":\"label\",\"id\":\"hwLabel\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"—\",\"margins\":\"0 5\"}},{\"cid\":\"vmdDateTime\",\"id\":\"endDate\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"myDate\",\"width\":130,\"id\":\"endDate\",\"afterrender\":\"endDate_afterrender\"}}]},{\"cid\":\"container\",\"id\":\"monthDiv\",\"layoutConfig\":{\"align\":\"middle\",\"pack\":\"center\"},\"userConfig\":{\"border\":false,\"width\":320,\"layout\":\"hbox\",\"id\":\"monthDiv\",\"hidden\":true},\"cn\":[{\"cid\":\"label\",\"id\":\"monthLabel\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"起止年月：\",\"id\":\"monthLabel\"}},{\"cid\":\"vmdDateTime\",\"id\":\"startMonth\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"myDate\",\"width\":100,\"id\":\"startMonth\",\"format\":\"yyyy-MM\",\"afterrender\":\"startMonth_afterrender\"}},{\"cid\":\"label\",\"id\":\"hwLabel2\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"—\",\"margins\":\"0 5\"}},{\"cid\":\"vmdDateTime\",\"id\":\"endMonth\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"myDate\",\"width\":100,\"id\":\"endMonth\",\"format\":\"yyyy-MM\",\"afterrender\":\"endMonth_afterrender\"}}]},{\"cid\":\"vmdButton\",\"id\":\"btnQuery\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"btnQuery\",\"text\":\"查 询\",\"cls\":\"vmd-btn\",\"click\":\"btnQuery_click\"}}]}]}","vmdevents":"var page = this;\n\n// 月份偏移\nfunction addMonth(date, num) {\n    var sYear = date.getFullYear();\n    var sMonth = date.getMonth() + 1;\n    var sDay = date.getDate();\n    var eYear = sYear;\n    var eMonth = sMonth + num;\n    var eDay = sDay;\n    var mod = 0;\n    if (eMonth > 12) {\n        mod = parseInt(eMonth / 12);\n        eYear += mod;\n        eMonth -= 12;\n    } else if (eMonth < 2) {\n        mod = parseInt((Math.abs(eMonth) + 1) / 12);\n        eYear = eYear - 1 - mod;\n        eMonth += (mod + 1) * 12;\n    }\n\n    var eDate = new Date(eYear, eMonth - 1, eDay);\n    return eDate;\n}\n\nfunction startDate_afterrender(sender) {\n    startDate.setValue(addMonth(new Date(), -1));\n}\n\nfunction endDate_afterrender(sender) {\n    endDate.setValue(new Date());\n}\n\nfunction startMonth_afterrender(sender) {\n    startMonth.setValue(addMonth(new Date(), -12));\n}\n\nfunction endMonth_afterrender(sender) {\n    endMonth.setValue(new Date());\n}\n\nfunction btnQuery_click(sender, e) {\n    page.fireEvent(\"queryClick\", sender);\n}\n\nfunction hwRadioGroup_change(sender, checked) {\n    if (checked.inputValue == \"day\") {\n        dateDiv.show();\n        monthDiv.hide();\n    }\n    if (checked.inputValue == \"month\") {\n        dateDiv.hide();\n        monthDiv.show();\n    }\n    \n    page.doLayout();\n}","vmdcss":".myDate {\n    top: 8px !important;\n    height: 30px !important;\n    border: 1px solid #e4e4e4 !important;\n    border-radius: 4px;\n    padding-left: 5px !important;\n    background-image: url(\"{vmduxpath}/components/ux/chartqueryfield/1.0/img/calendar.png\") !important;\n    background-repeat: no-repeat;\n    background-position: 90%;\n}\n\n.myDate input {\n    width: 70% !important;\n    font-size: 12px !important;\n}\n\n.myDate img {\n    display: none;\n}\n\n.myRadio .x-form-item {\n    margin-bottom: 0;\n}\n\n.myRadio .x-column-inner {\n    margin-top: 11px;\n}","vmdprops":"\"\"","type":"ux","vmdevents_controller":"","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxpropgroup\",\"id\":\"组件显示/隐藏\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"组件显示/隐藏\"},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"radioHidden\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"radioHidden\",\"desc\":\"隐藏单选按钮\",\"zhname\":\"隐藏日度月度\",\"isPublic\":\"on\",\"bindCmp\":\"hwRadioGroup\",\"bindValue\":\"hidden\",\"uxcid\":\"radiogroup\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\",\"storesource\":\"\",\"storefield_multi\":false,\"radio_1SO2\":\"string\"}},{\"cid\":\"uxprop\",\"id\":\"dateHidden\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"dateHidden\",\"desc\":\"隐藏日期阶段选择框\",\"zhname\":\"隐藏起止日期\",\"isPublic\":\"on\",\"radio_1SO2\":\"string\",\"bindCmp\":\"dateDiv\",\"bindValue\":\"hidden\",\"uxcid\":\"container\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\",\"storesource\":\"\",\"storefield_multi\":false}},{\"cid\":\"uxprop\",\"id\":\"monthHidden\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"monthHidden\",\"desc\":\"隐藏年月阶段选择框\",\"zhname\":\"隐藏起止年月\",\"isPublic\":\"on\",\"radio_1SO2\":\"string\",\"bindCmp\":\"monthDiv\",\"bindValue\":\"hidden\",\"uxcid\":\"container\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\",\"storesource\":\"\",\"storefield_multi\":false}},{\"cid\":\"uxprop\",\"id\":\"queryHidden\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"queryHidden\",\"desc\":\"隐藏查询按钮\",\"zhname\":\"隐藏查询\",\"isPublic\":\"on\",\"radio_1SO2\":\"string\",\"bindCmp\":\"btnQuery\",\"bindValue\":\"hidden\",\"uxcid\":\"vmdButton\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\",\"storesource\":\"\",\"storefield_multi\":false}}]}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"getStartDate\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getStartDate\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"获取开始日期\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"return startDate.getValue();\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getEndDate\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getEndDate\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"获取结束日期\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"return endDate.getValue();\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getStartMonth\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getStartMonth\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"获取开始年月\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"return startMonth.getValue();\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getEndMonth\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getEndMonth\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"获取结束年月\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"return endMonth.getValue();\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getRadioValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getRadioValue\",\"params\":\"\",\"desc\":\"获取单选按钮选中值\",\"isPublic\":\"on\",\"code\":\"return hwRadioGroup.getValue();\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"queryClick\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"queryClick\",\"params\":\"\",\"desc\":\"点击查询按钮事件\"}}]}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resimg\",\"id\":\"components/ux/chartqueryfield/1.0/img/calendar.png\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"components/ux/chartqueryfield/1.0/img/calendar.png\",\"path\":\"components/ux/chartqueryfield/1.0/img/calendar.png\",\"absolutePath\":\"{{vmduxpath}}/components/ux/chartqueryfield/1.0/img/calendar.png\",\"ext\":\"png\"}}]}]}"}