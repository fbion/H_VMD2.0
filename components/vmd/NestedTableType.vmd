{"vmdversion":"vmd2.0.6.200119","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"NestedTableType\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"header\":false,\"width\":290,\"height\":621,\"afterrender\":\"NestedTableType_afterrender\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs\",\"layoutConfig\":{},\"userConfig\":{\"width\":290,\"height\":610,\"activeTab\":0},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"height\":589,\"header\":false,\"title\":\"属性\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":15,\"text\":\"模板：\"}},{\"cid\":\"textfield\",\"id\":\"qtb_template\",\"layoutConfig\":{},\"userConfig\":{\"x\":50,\"y\":10,\"width\":180,\"style\":\"border: 1px solid #dddddd\",\"id\":\"qtb_template\",\"keyup\":\"qtb_template_keyup\",\"disabled\":true}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"x\":240,\"y\":10,\"width\":28,\"height\":24,\"text\":\"...\",\"disabled\":true}},{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":55,\"text\":\"名称：\"}},{\"cid\":\"textfield\",\"id\":\"qtb_tableName\",\"layoutConfig\":{},\"userConfig\":{\"x\":50,\"y\":50,\"width\":180,\"style\":\"border: 1px solid #dddddd\",\"id\":\"qtb_tableName\",\"keyup\":\"qtb_tableName_keyup\"}},{\"cid\":\"radiogroup\",\"id\":\"qtb_style\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":120,\"id\":\"qtb_style\",\"height\":30,\"width\":160,\"change\":\"qtb_style_change\",\"hidden\":true},\"cn\":[{\"cid\":\"radio\",\"id\":\"hwRadio\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"内嵌式\",\"fieldLabel\":\"\",\"width\":78,\"inputValue\":\"0\",\"checked\":true}},{\"cid\":\"radio\",\"id\":\"hwRadio1\",\"layoutConfig\":{},\"userConfig\":{\"fieldLabel\":\"\",\"boxLabel\":\"伸缩式\",\"inputValue\":\"1\"}}]},{\"cid\":\"checkbox\",\"id\":\"qtb_unfold\",\"layoutConfig\":{},\"userConfig\":{\"x\":220,\"y\":90,\"boxLabel\":\"展开\",\"id\":\"qtb_unfold\",\"check\":\"qtb_unfold_check\"}},{\"cid\":\"radio\",\"id\":\"qtb_style_embed\",\"layoutConfig\":{},\"userConfig\":{\"x\":50,\"y\":90,\"boxLabel\":\"内嵌式\",\"id\":\"qtb_style_embed\",\"checked\":true,\"inputValue\":\"embed\",\"hidden\":false,\"afterrender\":\"qtb_style_embed_afterrender\"}},{\"cid\":\"radio\",\"id\":\"qtb_style_expand\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":90,\"boxLabel\":\"伸缩式\",\"id\":\"qtb_style_expand\",\"inputValue\":\"expand\",\"hidden\":false,\"afterrender\":\"qtb_style_expand_afterrender\"}}]}]}]}]}","vmdevents":"var page = this;\n\nfunction setInfo(info, sheet) {\n    debugger\n    if (info) {\n        qtb_template.setValue(info.qtb_template.value)\n        qtb_tableName.setValue(info.qtb_tableName.value)\n        \n\n        if (info.qtb_style.value == 0) {\n            qtb_style_embed.setValue(true)\n            qtb_style_expand.setValue(false)\n            qtb_unfold.disable()\n             qtb_unfold.setValue(info.qtb_unfold.checked)\n        } else {\n            qtb_style_embed.setValue(false)\n            qtb_style_expand.setValue(true)\n            qtb_unfold.enable()\n            qtb_unfold.setValue(info.qtb_unfold.checked)\n        }\n        \n        // if (info.qtb_style.value && info.qtb_style.value.inputValue) {\n        //     qtb_style.setValue(info.qtb_style.value.inputValue);\n        // } else {\n        //     qtb_style.setValue(info.qtb_style.value);\n        // }\n    }\n    if (sheet) {\n        page.o = sheet;\n    }\n}\n\nfunction NestedTableType_afterrender(sender) {\n\n}\n\nfunction qtb_template_keyup(sender, e) {\n    // if(page.o.nestedNo != null) {\n    //     page.o.nestedTableArray[page.o.nestedNo].qtb_template = qtb_template.getValue();\n    // }\n}\n\nfunction qtb_tableName_keyup(sender, e) {\n    // if(page.o.nestedNo != null) {\n    //     page.o.nestedTableArray[page.o.nestedNo].qtb_tableName = qtb_tableName.getValue();\n    // }\n}\n\nfunction qtb_style_change(sender, checked) {\n    // if (page.o && page.o.nestedNo != null) {\n    //     page.o.nestedTableArray[page.o.nestedNo].qtb_style = qtb_style.getValue();\n    // }\n}\n\nfunction qtb_unfold_check(sender, checked) {\n    // if (page.o && page.o.nestedNo != null) {\n    //     page.o.nestedTableArray[page.o.nestedNo].qtb_unfold = qtb_unfold.getValue();\n    // }\n}\n\nfunction qtb_style_embed_afterrender(sender) {\n    sender.on('check', function(sender, value) {\n        if (value) {\n            var cell = sheetHot.dealInvert()[0];\n            for (var i = cell.sr; i < cell.er + 1; i++) {\n                for (var n = cell.sc; n < cell.ec + 1; n++) {\n                    if (sheetHot.getCellMeta(i, n).mergeId != 2) {\n                        sheetHot.changeAttributeInfo(i, n, 'qtb_style', 0)\n                    }\n                }\n            }\n            qtb_style_expand.setValue(false)\n            qtb_unfold.disable()\n        }\n    })\n}\n\nfunction qtb_style_expand_afterrender(sender) {\n    sender.on('check', function(sender, value) {\n        if (value) {\n            var cell = sheetHot.dealInvert()[0];\n            for (var i = cell.sr; i < cell.er + 1; i++) {\n                for (var n = cell.sc; n < cell.ec + 1; n++) {\n                    if (sheetHot.getCellMeta(i, n).mergeId != 2) {\n                        sheetHot.changeAttributeInfo(i, n, 'qtb_style', 1)\n                    }\n                }\n            }\n            qtb_style_embed.setValue(false)\n            qtb_unfold.enable()\n        }\n    })\n}","vmdcss":".b{\n    border: 1px solid #dddddd\n}","vmdprops":"\"\"","type":"ux","vmdevents_controller":"Ext.define('vmd.ux.nestedTableType.Controller', {\n    xtype: 'vmd.ux.nestedTableType.Controller',\n    constructor: function(options) {\n        \n    }\n})","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"getInfo\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getInfo\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"att\",\"code\":\"//直接填写方法内容\\nvar temp;\\nif(att == \\\"qtb_template\\\") {\\n    temp = qtb_template.getValue()\\n} else if(att == \\\"qtb_tableName\\\") {\\n    temp = qtb_tableName.getValue()\\n} else if(att == \\\"qtb_unfold\\\") {\\n    temp = qtb_unfold.getValue()\\n} else if(att == \\\"qtb_style\\\") {\\n    temp = qtb_style.getValue()\\n}\\nreturn temp;\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"setInfo\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setInfo\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"info,sheet\",\"code\":\"//直接填写方法内容\\nsetInfo(info,sheet)\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}