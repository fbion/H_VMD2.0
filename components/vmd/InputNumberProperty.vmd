{"vmdversion":"vmd2.0.5.200306","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"InputNumberProperty\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":500,\"height\":707,\"beforerender\":\"InputNumberProperty_beforerender\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs\",\"layoutConfig\":{},\"userConfig\":{\"x\":80,\"y\":80,\"activeTab\":0,\"activeItem\":\"numberProperty\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"numberProperty\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"属性\",\"layout\":\"anchor\",\"id\":\"numberProperty\",\"border\":false,\"header\":true,\"padding\":\"5px\"},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"number_allowEdit\",\"layoutConfig\":{},\"userConfig\":{\"width\":157,\"margins\":\"5 0 0 5\",\"boxLabel\":\"允许编辑\",\"id\":\"number_allowEdit\",\"height\":30}},{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"hbox\",\"height\":20,\"margins\":\"5 0 0 5\",\"border\":false},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"校验\"}},{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"——————————\",\"style\":\"color: #ddd\",\"margins\":\"0 0 0 5\"}}]},{\"cid\":\"checkbox\",\"id\":\"number_allowEmpty\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"允许为空\",\"margins\":\"5 0 0 5\",\"checked\":true,\"check\":\"hwCheckbox2_check\",\"id\":\"number_allowEmpty\",\"height\":30}},{\"cid\":\"checkbox\",\"id\":\"number_nullShowZero\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"number_nullShowZero\",\"boxLabel\":\"空值显示0\",\"height\":30}},{\"cid\":\"container\",\"id\":\"number_emptyAlertDiv\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"vbox\",\"border\":false,\"margins\":\"5 0 0 5\",\"height\":55,\"id\":\"number_emptyAlertDiv\",\"hidden\":true},\"cn\":[{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"空值提示：\"}},{\"cid\":\"textfield\",\"id\":\"number_emptyAlert\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 5\",\"width\":154,\"id\":\"number_emptyAlert\"}}]},{\"cid\":\"checkbox\",\"id\":\"number_allowDecimal\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"允许小数\",\"margins\":\"5 0 0 5\",\"id\":\"number_allowDecimal\",\"checked\":true,\"check\":\"number_allowDecimal_check\",\"height\":30,\"hidden\":true}},{\"cid\":\"container\",\"id\":\"number_decimalDiv\",\"layoutConfig\":{},\"userConfig\":{\"width\":250,\"border\":false,\"layout\":\"anchor\",\"height\":35,\"id\":\"number_decimalDiv\",\"hidden\":true,\"anchor\":\"100%\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div5\",\"layoutConfig\":{},\"userConfig\":{\"height\":33,\"width\":185,\"layout\":\"border\",\"border\":false,\"anchor\":\"100%\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div6\",\"layoutConfig\":{\"pack\":\"center\"},\"userConfig\":{\"region\":\"west\",\"width\":62,\"border\":false,\"layout\":\"vbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label5\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"小数位数：\",\"margins\":\"\",\"width\":64,\"region\":\"east\",\"hidden\":false}}]},{\"cid\":\"container\",\"id\":\"div7\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"border\":false,\"layout\":\"anchor\"},\"cn\":[{\"cid\":\"vmd.ux.ClickText\",\"id\":\"number_decimalLength\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"number_decimalLength\",\"width\":114,\"anchor\":\"-10\",\"region\":\"north\",\"plus\":\"number_decimalLength_plus\",\"minus\":\"number_decimalLength_minus\",\"hidden\":true}}]}]}]},{\"cid\":\"checkbox\",\"id\":\"number_allowNegetive\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"允许负数\",\"margins\":\"5 0 0 5\",\"id\":\"number_allowNegetive\",\"anchor\":\"\",\"height\":30}},{\"cid\":\"container\",\"id\":\"limitDiv\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"hbox\",\"border\":false,\"id\":\"limitDiv\"},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"number_limit\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"限制位数\",\"margins\":\"\",\"id\":\"number_limit\",\"check\":\"number_limit_check\"}},{\"cid\":\"textfield\",\"id\":\"number_limitValue\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"5 0 0 10\",\"width\":90,\"hidden\":true,\"id\":\"number_limitValue\"}}]}]},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"事件\",\"border\":false,\"layout\":\"anchor\",\"padding\":\"5px\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"anchor\",\"width\":410,\"border\":false,\"margins\":\"5 0 0 5\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label3\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"click:\",\"width\":50,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"width\":375,\"height\":34,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"border\":false,\"anchor\":\"-50\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"number_click\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"readOnly\":true,\"id\":\"number_click\",\"afterrender\":\"number_click_afterrender\",\"anchor\":\"-30\",\"cls\":\"m-r5\"}},{\"cid\":\"vmdButton\",\"id\":\"number_clickDelete\",\"layoutConfig\":{},\"userConfig\":{\"width\":30,\"text\":\"\",\"icon\":\"delete\",\"margins\":\"0 0 0 5\",\"id\":\"number_clickDelete\",\"click\":\"number_clickDelete_click\"}}]}]},{\"cid\":\"container\",\"id\":\"div2\",\"layoutConfig\":{},\"userConfig\":{\"height\":35,\"layout\":\"anchor\",\"border\":false,\"margins\":\"0 0 0 5\",\"anchor\":\"100%\",\"cls\":\"flex\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label4\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"change:\",\"width\":60,\"cls\":\"line35\"}},{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{},\"userConfig\":{\"width\":375,\"height\":34,\"layout\":\"anchor\",\"margins\":\"5 0 0 5\",\"border\":false,\"anchor\":\"-60\"},\"cn\":[{\"cid\":\"textfield\",\"id\":\"number_change\",\"layoutConfig\":{},\"userConfig\":{\"width\":125,\"readOnly\":true,\"id\":\"number_change\",\"afterrender\":\"number_change_afterrender\",\"anchor\":\"-30\",\"cls\":\"m-r5\"}},{\"cid\":\"vmdButton\",\"id\":\"number_changeDelete\",\"layoutConfig\":{},\"userConfig\":{\"width\":30,\"text\":\"\",\"icon\":\"delete\",\"margins\":\"0 0 0 5\",\"id\":\"number_changeDelete\",\"click\":\"number_changeDelete_click\"}}]}]}]}]}]}]}","vmdevents":"var page = this;\nvar activePropPanel = parent.xds && parent.xds.active.component.propPanel;\n\nfunction hwCheckbox2_check(sender, checked) {\n    checked == false ? number_emptyAlertDiv.show() : number_emptyAlertDiv.hide()\n    numberProperty.doLayout()\n}\n\nfunction number_allowDecimal_check(sender, checked) {\n    checked == false ? number_decimalDiv.hide() : number_decimalDiv.show()\n    numberProperty.doLayout()\n}\n\nfunction number_max_check(sender, checked) {\n    checked ? number_maxValue.show() : number_maxValue.hide()\n    maxDiv.doLayout()\n}\n\nfunction number_min_check(sender, checked) {\n    checked ? number_minValue.show() : number_minValue.hide();\n    minDiv.doLayout()\n}\n\nfunction number_limit_check(sender, checked) {\n    checked ? number_limitValue.show() : number_limitValue.hide();\n    limitDiv.doLayout();\n}\n\nfunction number_click_afterrender(sender) {\n    debugger\n    sender.el.on('dblclick', function() {\n\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'number_click', sender.getValue(), 'grid,cell,rId,cInd');\n\n    })\n}\n\nfunction number_change_afterrender(sender) {\n\n    sender.el.on('dblclick', function() {\n        var publicmethod = activePropPanel.controller;\n        publicmethod.openCodeEditor(sender, 'number_change', sender.getValue(), 'grid,cell,rId,cInd,nValue,oValue');\n\n    })\n\n}\n\nfunction InputNumberProperty_beforerender(sender) {\n    // page.controller = new vmd.ux.inputNumberProperty.Controller();\n}\n\nfunction number_decimalLength_plus(sender) {\n\n    this.setValue(parseFloat(this.getValue()) + 1)\n    //消息通知父容器对字段进行值的修改\n    page.fireEvent('updateValue', sender, 'number_decimalLength', this.getValue())\n\n\n}\n\nfunction number_decimalLength_minus(sender) {\n    if (this.getValue() >= 1) {\n        this.setValue(parseFloat(this.getValue()) - 1)\n\n    }\n\n    if (this.getValue() < 0) this.setValue(0)\n\n    //消息通知父容器对字段进行值的修改\n    page.fireEvent('updateValue', sender, 'number_decimalLength', this.getValue())\n}\n\nfunction number_clickDelete_click(sender, e) {\n    number_click.setValue('');\n    number_click.fireEvent('change', number_click, '')\n}\n\nfunction number_changeDelete_click(sender, e) {\n    number_change.setValue('');\n    number_change.fireEvent('change', number_change, '')\n}","vmdcss":".flex{\n    display: flex\n}\n.m-r5{\n    margin-right: 5px\n}\n.line35{\n    line-height: 35px;\n}","vmdprops":"\"\"","type":"ux","vmdevents_controller":"Ext.define('vmd.ux.inputNumberProperty.Controller', {\n    xtype: 'vmd.ux.inputNumberProperty.Controller',\n    constructor: function(options) {\n        this.type = 'number'\n\n        this.scope = options;\n\n        this.number_allowEdit = true;\n        this.number_allowEmpty = false;\n        this.number_emptyAlert = '';\n        this.number_allowDecimal = true;\n        this.number_decimalLength = 0;\n        this.number_allowNegetive = false;\n        this.number_limit = false;\n        this.number_limitValue = ''\n        this.number_nullShowZero=false;\n        this.number_change = ''\n        this.number_click = ''\n\n        this.colHide = false\n        this.colWidth = '100'\n        this.txtAlign=\"2\"\n        this.dicFirst=true;\n\n    },\n    setValue: function(info, flag) {\n        if (info) {\n            this.number_allowEdit = info.settings.number_allowEdit;\n            this.number_allowEmpty = info.settings.number_allowEmpty;\n            this.number_emptyAlert = info.settings.number_emptyAlert;\n            this.number_allowDecimal = info.settings.number_allowDecimal;\n            this.number_decimalLength = info.settings.number_decimalLength;\n            this.number_allowNegetive = info.settings.number_allowNegetive;\n            this.number_nullShowZero = info.settings.number_nullShowZero;\n            this.number_limit = info.settings.number_limit;\n            this.number_limitValue = info.settings.number_limitValue;\n            if (!flag) {\n                this.number_change = info.events.number_change;\n                this.number_click = info.events.number_click;\n            }\n            this.colHide = info.settings.colHide;\n            this.colWidth = info.settings.colWidth;\n            this.dicFirst = info.settings.dicFirst\n            this.txtAlign = info.settings.txtAlign\n\n            if (this.scope) {\n                this.scope.number_allowEdit.setValue(this.number_allowEdit)\n                this.scope.number_allowEmpty.setValue(this.number_allowEmpty)\n                this.scope.number_emptyAlert.setValue(this.number_emptyAlert)\n                this.scope.number_allowDecimal.setValue(this.number_allowDecimal)\n                this.scope.number_allowNegetive.setValue(this.number_allowNegetive)\n                this.scope.number_nullShowZero.setValue(this.number_nullShowZero)\n                this.scope.number_limit.setValue(this.number_limit)\n                this.scope.number_limitValue.setValue(this.number_limitValue)\n                if (!flag) {\n                    this.scope.number_change.setValue(this.number_change)\n                    this.scope.number_click.setValue(this.number_click)\n                }\n            }\n\n        }\n    },\n    serialize: function() {\n        var json = {\n            settings: {\n                number_allowEdit: this.number_allowEdit,\n                number_allowEmpty: this.number_allowEmpty,\n                number_emptyAlert: this.number_emptyAlert,\n                number_allowDecimal: this.number_allowDecimal,\n                number_decimalLength: this.number_decimalLength,\n                number_allowNegetive: this.number_allowNegetive,\n                number_nullShowZero: this.number_nullShowZero,\n                number_limit: this.number_limit,\n                number_limitValue: this.number_limitValue,\n                colHide: this.colHide,\n                colWidth: this.colWidth,\n                dicFirst:this.dicFirst,\n                txtAlign:this.txtAlign\n            },\n            events: {\n                number_change: this.number_change,\n                number_click: this.number_click\n            },\n            type: 'number'\n        }\n\n        return json;\n    }\n})","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"setInfo\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setInfo\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"info,flag\",\"code\":\"//直接填写方法内容\\nsetInfo(info,flag)\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getInfo\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getInfo\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\ngetInfo()\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"hideEmpty\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"hideEmpty\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\nnumber_allowEmpty.hide()\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}