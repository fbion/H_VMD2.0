{"vmdversion":"vmd2.0.5.200306","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"VerticalTabs\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":318,\"height\":700,\"autoScroll\":false,\"autoHeight\":false,\"beforerender\":\"VerticalTabs_beforerender\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"border\":false,\"header\":false,\"autoHeight\":false,\"layout\":\"fit\",\"height\":100,\"autoScroll\":false}}]}]}","vmdevents":"function hwMyTabs_beforerender(sender) {\n\n}\nvar tabsData = null;\nvar page = this;\nvar myPanel = null;\n\nfunction getActive(){\n    if(myPanel){\n        return myPanel.getActiveTab().id;\n    }else{\n        return 0\n    }\n}\n\nfunction initTabs(data, isActive) {\n    var activeItem = 0;\n\n    if (!vmd.isArray(data.allLayers)) {\n        vmd.alert(\"请传入数组\");\n        return;\n    }\n    tabsData = data.allLayers;\n    if(isActive){\n        activeItem = isActive;\n    }\n    // var h = panel.getHeight();\n    var cmpPath = [];\n    var items = [];\n    for (var i = 0; i < tabsData.length; i++) {\n        if(!tabsData[i].isDependentSeries){\n            var comp = tabsData[i].type.slice(0, 1).toUpperCase() + tabsData[i].type.slice(1);\n        cmpPath.push(vmd.getUxPath(comp));\n        var obj = {\n            xtype: \"panel\",\n            id: tabsData[i].name,\n            title: tabsData[i].nameText,\n            header: true,\n            border: true,\n            closable: true,\n            autoScroll: true,\n            items: [{\n                xtype: 'vmd.ux.' + comp,\n                layout: 'fit',\n                data: tabsData[i],\n                listeners: {\n                    vmdafterrender: function(panel) {\n                        panel.init(panel.data,tabsData);\n                    }\n                }\n            }],\n            listeners: {\n                beforeclose: function(tab) {\n                    if(confirm('确认删除该图层？')){\n                        page.fireEvent('delSeries',tab,tab.id)\n                    }else{\n                        return false\n                    }\n                }\n            }\n        }\n        items.push(obj);\n        }\n    }\n    \n    //Ext.require(cmpPath, function() {\n    vmd.core.uxLoader(cmpPath, function() {    \n            myPanel = new Ext.TabPanel({\n            xtype: \"tabpane1\",\n            id: \"hwMyTabs\",\n            tabPosition: 'left',\n            textAlign: 'vertical',\n            tabWidth: 28,\n            closable: true,\n            activeTab: activeItem,\n            items: items\n        });\n        panel.removeAll();\n        panel.add(myPanel);\n        panel.doLayout()\n        if (myPanel.strip) {\n            var el = myPanel.strip.insertFirst({\n                tag: 'li',\n                children: {\n                    tag: 'a',\n                    href: '#',\n                    children: {\n                        tag: 'em',\n                        children: {\n                            tag: 'span',\n                            children: {\n                                tag: 'span',\n                                style: 'font-size:20px;padding:6px 0',\n                                html: '+'\n                            }\n                        }\n\n                    }\n\n                }\n\n            })\n            el.on('click', function(e) {\n                page.fireEvent('addClick', page, myPanel, e);\n            })\n        }\n    })\n}\n\n\n\nfunction panel_beforerender(sender){\n\n}\n\nfunction VerticalTabs_beforerender(sender){\n\n}","vmdcss":"","vmdprops":"\"\"","type":"ux","vmdcmpdeps":[],"vmdevents_controller":"","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"isadd\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"isadd\",\"desc\":\"是否新增\",\"zhname\":\"是否新按钮\",\"isPublic\":\"on\",\"bindCmp\":\"\",\"bindValue\":\"\",\"uxcid\":\"\",\"cmptype\":\"boolean\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\",\"storesource\":\"\",\"storefield_multi\":false,\"radio_kiOm\":\"boolean\"}}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"initTabs\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"initTabs\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"初始化tab页\",\"uxcid\":\"\",\"params\":\"data,isActive\",\"code\":\"//直接填写方法内容\\ninitTabs(data,isActive)\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getActive\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getActive\",\"params\":\"\",\"desc\":\"\",\"isPublic\":\"on\",\"code\":\"//直接填写方法内容\\nreturn getActive()\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"addClick\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"addClick\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"panel,e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"delSeries\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"delSeries\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"seriesId\",\"code\":\"\"}}]}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}