{"vmdversion":"2.0.3.0920","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"NoticeBulletinSn\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"auto\",\"header\":false,\"width\":555,\"height\":333,\"afterrender\":\"NoticeBulletinSn_afterrender\",\"autoHeight\":false},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs2\",\"layoutConfig\":{},\"userConfig\":{\"x\":\"\",\"y\":\"\",\"width\":555,\"height\":333,\"afterrender\":\"MyTabs_afterrender\",\"id\":\"MyTabs2\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"通知公告\",\"width\":\"\",\"autoScroll\":false,\"cls\":\"overflow\",\"layout\":\"fit\",\"height\":\"\",\"autoHeight\":false,\"autoWidth\":false},\"cn\":[{\"cid\":\"grid\",\"id\":\"MyGrid2\",\"layoutConfig\":{},\"userConfig\":{\"height\":330,\"hideHeaders\":true,\"header\":false,\"border\":false,\"beforerender\":\"MyGrid_beforerender\",\"cls\":\"\",\"width\":555,\"ctCls\":\"overflow\",\"id\":\"MyGrid2\"},\"cn\":[{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"id\",\"dataIndex\":\"id\",\"hidden\":true,\"align\":\"center\"},\"name\":\"id\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"通知公告\",\"dataIndex\":\"tzgg\",\"align\":\"left\",\"css\":\"padding-left: 10px;\",\"width\":400},\"name\":\"tzgg\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"时间\",\"dataIndex\":\"date\",\"hidden\":false,\"align\":\"left\",\"menuDisabled\":true,\"width\":218},\"name\":\"date\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"url\",\"dataIndex\":\"url\",\"hidden\":true,\"align\":\"left\",\"menuDisabled\":true},\"name\":\"url\"}]}]}]}]}]}","vmdevents":"var page = this;\nvar tzggDataList = [];\nvar store1 = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: [\"id\", \"xh\", \"tzgg\", \"date\", \"url\"]\n});\nvar ip = vmd.workspace.dataServiceIp;\nvar hwDao = new HwDao(ip, 'webxpt'); //地址:端口和授权码(服务管理员分配)\nfunction MyTabs_afterrender(sender) {\n    var pren = MyTabs2.el.dom.childNodes[0].childNodes[0].childNodes[0].childNodes[0].id;\n    vmd(\"#\" + pren + \"\").after(\"<li class='x-tab-edge' style='width:470px;'  id='eweu'><a class='x-tab-right' href='#'><span class='x-tab-strip-inner' style='margin:7px 0 0 0;'><span class='x-tab-strip-text' style='color:blue;float: right;' onclick='moreTzgg();'>+更多</span></span></a></li>\");\n}\nwindow.moreTzgg = function() {\n    var win = new vmd.window({\n        url: './hw532cedc7.html',\n        auto: false,\n        title: \"通知公告\",\n        width: '730px',\n        align: 'center',\n    });\n    win.show();\n}\n\nfunction loadData() {\n    tzggDataList = [];\n    var url = '/platform/v1/noticebylogin';\n    hwDao.get(url, {}, {}, function(res) {\n        debugger\n        if(res.isSucceed) {\n            if(res.data && res.data[0].datas.length > 0) {\n                var data = res.data[0].datas;\n                if(data.length <= 8) {\n                    for(var i = 0; i < data.length; i++) {\n                        var itemObj = {\n                            xh: i + 1,\n                            id: data[i].noticeid,\n                            tzgg: \"<a href='#' onclick='tzggLink(this);'>\" + data[i].title + \"</a>\",\n                            date: data[i].release_date,\n                            url: ''\n                        }\n                        tzggDataList.push(itemObj);\n                    }\n                    store1.loadData(tzggDataList);\n                } else {\n                    for(var i = 0; i <= 8; i++) {\n                        var itemObj = {\n                            xh: i + 1,\n                            id: data[i].noticeid,\n                            tzgg: \"<a href='#' onclick='tzggLink(this);'>\" + data[i].title + \"</a>\",\n                            date: data[i].release_date,\n                            url: ''\n                        }\n                        tzggDataList.push(itemObj);\n                    }\n                    store1.loadData(tzggDataList);\n                }\n\n            }\n        } else {\n            alert(res.errMsg);\n        }\n    }, function(res) {\n        alert(res);\n    });\n}\n\nfunction MyGrid_beforerender(sender) {\n    this.store = store1;\n}\n\nwindow.tzggLink = function(id) {\n    var tr = $(id).closest('tr'),\n        id = tr.find('td')[0].innerText;\n    $LAB.script(vmd.virtualPath + '/lib/messenger.js')\n        .wait(function() {\n            var messenger;\n            messenger = new Messenger(vmd.getUrlParam(\"g_tabId\"), 'webptframe');\n            messenger.addTarget(window.parent, 'platformMsger');\n            var url = encodeURI('http://10.207.60.82:8000/release/12efebd0-5bd2-4d64-8582-fe88888e55ac/hwntwXFxUy/hw4b8a55fb.html?noticeid=' + id + \"&r=\" + Math.random());\n            if(vmd.getUrlParam(\"g_tabId\")) {\n                messenger.execAction('open', 'seeNotice', '查看公告', url);\n            } else {\n                //业务操作\n                window.open(url);\n            }\n        });\n\n}\n\nfunction NoticeBulletinSn_afterrender(sender) {\n    loadData();\n}\n\nfunction MyTabs2_beforerender(sender) {\n\n}","vmdcss":"a{\r\n   text-decoration:none; \r\n}\r\na:link {\r\n    color: blue; text-decoration:none;\r\n    \r\n}\r\na:active:{\r\n    color: red;\r\n    } \r\na:visited {\r\n    color:purple;text-decoration:none;\r\n    \r\n} \r\na:hover {\r\n    color: red; text-decoration:underline;\r\n    \r\n} \r\n.x-grid3-scroller {\r\noverflow: hidden\r\n}\r\n.x-window-mc {\r\n    border-width: 0px !important;\r\n}\r\n.x-viewport body {\r\n    overflow: hidden;\r\n    margin-top: 10px;\r\n}","vmdprops":"\"\"","type":"ux","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"callcode\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"callcode\",\"zhname\":\"授权码\",\"bindCmp\":\"MyTabs2\",\"bindValue\":\"callcode\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"tabpanel\",\"group\":\"\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}},{\"cid\":\"uxprop\",\"id\":\"orgschecount\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"orgschecount\",\"desc\":\"\",\"zhname\":\"服务地址\",\"isPublic\":\"on\",\"radio_hq8v\":\"string\",\"bindCmp\":\"MyTabs2\",\"bindValue\":\"orgschecount\",\"uxcid\":\"tabpanel\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\"}}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}"}