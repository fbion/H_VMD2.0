{"vmdversion":"2.0.3.0920","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"ZyglTree1\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"header\":false,\"width\":244,\"height\":543,\"bodyStyle\":\"background-color: #fff;\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"border\":false,\"layout\":\"fit\"},\"cn\":[{\"cid\":\"vmdTreeEx\",\"id\":\"tree\",\"layoutConfig\":{},\"userConfig\":{\"width\":251,\"nodeclick\":\"tree_nodeclick\",\"store\":\"store\",\"parentField\":\"parent_id\",\"valueField\":\"category_id\",\"textField\":\"name\",\"loadType\":\"全部加载\",\"rootValue\":\"0000000001\",\"rootText\":\"资源中心服务器\",\"afterShowMenu\":\"tree_afterShowMenu\",\"beforeShowMenu\":\"tree_beforeShowMenu\",\"folderValue\":\"\",\"leafValue\":\"\",\"leafImg\":\"/img/public/folderClosed.gif\",\"afterBindData\":\"tree_afterBindData\",\"rootImg\":\"/img/public/server2.png\"}}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"vmdJsonStore\",\"id\":\"store\",\"layoutConfig\":{},\"userConfig\":{\"storeConfig\":\"{\\\"id\\\":\\\"Tv3lpnpaBV\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"zyzx/zyzxtree/zycategorytree\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"资源分类树\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"category_id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"parent_id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"type\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"leaf\\\",\\\"type\\\":\\\"string\\\"}]}\",\"load\":\"store_load\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"category_id\"},\"name\":\"category_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"parent_id\"},\"name\":\"parent_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"type\"},\"name\":\"type\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"leaf\"},\"name\":\"leaf\"}]}]}]}","vmdevents":"/////////////////////\n//注册的资源树的对外事件\n/////////////////////\nvar me=this;\n//主页按钮点击事件\nfunction hwImg_click(sender){\n    if(tree.getRootNode())\n    {\n        tree.getRootNode().select();\n    }\n    me.fireEvent(\"homeClick\",sender);\n}\n\n//主页按钮点击事件\nfunction hwImg1_click(sender){\nme.fireEvent(\"creatCategory\",sender);\n}\n\n//主页按钮点击事件\nfunction hwImg2_click(sender){\nme.fireEvent(\"creatFile\",sender);\n}\n\n//主页按钮点击事件\nfunction hwImg3_click(sender){\nme.fireEvent(\"refreshTree\",sender);\n}\n\n//主页按钮点击事件\nfunction tree_nodeclick(sender,node,e){\nme.fireEvent(\"resourceNodeClick\",sender,node,e);\n}\n\nfunction tree_afterShowMenu(sender,node, e){\nme.fireEvent(\"onAfterShowMenu\",sender,node,e);\n}\n\nfunction tree_beforeShowMenu(sender,node, e){\nme.fireEvent(\"onBeforeShowMenu\",sender,node,e);\n}\n\nfunction tree_afterBindData(sender){\nme.fireEvent(\"afterCategoryBind\",sender);\n}\n\n\n\nfunction store_load(sender,records,options){\nme.fireEvent(\"afterCategoryBind\",sender);\n}","vmdcss":".img-border:hover{\n   background-color: #D0D0D0;\n}","vmdprops":"\"\"","type":"ux","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"treemenu\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"treemenu\",\"zhname\":\"\",\"bindCmp\":\"tree\",\"bindValue\":\"contentMenu\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"store\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"store\",\"zhname\":\"\",\"bindCmp\":\"tree\",\"bindValue\":\"store\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"vmdTreeEx\",\"group\":\"\"}},{\"cid\":\"uxprop\",\"id\":\"treeRootValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"treeRootValue\",\"desc\":\"\",\"zhname\":\"\",\"isPublic\":\"on\",\"bindCmp\":\"tree\",\"bindValue\":\"rootValue\",\"uxcid\":\"vmdTreeEx\"}},{\"cid\":\"uxprop\",\"id\":\"treeRootText\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"treeRootText\",\"desc\":\"\",\"zhname\":\"\",\"isPublic\":\"on\",\"bindCmp\":\"tree\",\"bindValue\":\"rootText\",\"uxcid\":\"vmdTreeEx\"}}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"addCartery\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"addCartery\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"parId,nodeId,nodeText,path,serverid,info,success,error\",\"code\":\"//直接填写方法内容\\n//直接填写方法内容\\ntree.addNode({\\n    pid: parId,\\n    cid: nodeId,\\n    cname: nodeText,\\n    isleaf: true,\\n    changeStore: true,\\n    upDateDB: true,\\n    dataRecord: {\\n        category_id: nodeId,\\n        parent_id: parId,\\n        name: nodeText,\\n        path: path,\\n        info: info,\\n        server_id:serverid\\n    },\\n    success:success,\\n    error:error\\n})\",\"returnType\":\"无\"}},{\"cid\":\"uxmethod\",\"id\":\"getSelNodeId\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getSelNodeId\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\nreturn tree.getSelNodeId();\",\"returnType\":\"字符串\"}},{\"cid\":\"uxmethod\",\"id\":\"setNodeSel\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setNodeSel\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"nodeID\",\"code\":\"//直接填写方法内容\\nvar tselNode=tree.getNodeById(nodeID);\\nif(tselNode)\\n    tselNode.select();\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getSelNodepath\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getSelNodepath\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\n\\nvar getPName = function(pnode) {\\n    if(pnode.id == tree.root.id) {\\n        return \\\"\\\"\\n    }\\n    if(pnode.parentNode && pnode.parentNode.parentNode) {\\n        return getPName(pnode.parentNode) + \\\"/\\\" + pnode.text;\\n    } else {\\n        return pnode.text;\\n    }\\n}\\n\\nvar selnode = tree.getSelNode();\\n\\nvar nodepath = getPName(selnode);\\nreturn nodepath;\\n//if(selnode.isRoot || !selnode.nodeDataJson) {\\n//    return \\\"\\\";\\n//} else {\\n//    return selnode.nodeDataJson.path;\\n//}\",\"returnType\":\"字符串\",\"hwCheckbox1\":\"字符串\"}},{\"cid\":\"uxmethod\",\"id\":\"removeCaretory\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"removeCaretory\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"nodeId,success,error\",\"code\":\"//直接填写方法内容\\ntree.removeNodeById(nodeId,true,false,false,true,success,error)\",\"returnType\":\"无\"}},{\"cid\":\"uxmethod\",\"id\":\"getSelCartery\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getSelCartery\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"获取选中的分类节点\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\nreturn tree.getSelNode();\",\"returnType\":\"对象\"}},{\"cid\":\"uxmethod\",\"id\":\"setCarteryName\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setCarteryName\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"通过节点id，设置节点的名称\",\"uxcid\":\"\",\"params\":\"nodeId,name\",\"code\":\"//直接填写方法内容\\nvar treenode = tree.getNodeById(nodeId);\\nif(treenode)\\n    treenode.setText(name);\",\"returnType\":\"无\"}},{\"cid\":\"uxmethod\",\"id\":\"getCategoryById\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getCategoryById\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"获取分类节点对象\",\"uxcid\":\"\",\"params\":\"nodeId\",\"code\":\"//直接填写方法内容\\nreturn tree.getNodeById(nodeId)\",\"returnType\":\"对象\"}},{\"cid\":\"uxmethod\",\"id\":\"getSelNodeparentId\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getSelNodeparentId\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\nvar selNodepar = tree.getSelNode();\\nif(selNodepar && selNodepar.parentNode)\\n    return selNodepar.parentNode.id\\nelse return \\\"\\\"\",\"returnType\":\"字符串\"}},{\"cid\":\"uxmethod\",\"id\":\"setRootValue\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setRootValue\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"value\",\"code\":\"//直接填写方法内容\\ntree.rootValue=value;\",\"returnType\":\"无\"}},{\"cid\":\"uxmethod\",\"id\":\"setRootText\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setRootText\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"text\",\"code\":\"//直接填写方法内容\\ntree.rootText=text;\",\"returnType\":\"无\"}},{\"cid\":\"uxmethod\",\"id\":\"setEditVisible\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setEditVisible\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"visible\",\"code\":\"//直接填写方法内容\\ndiv.setVisible(visible);\\nthis.onBodyResize()\\n\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getIdByPath\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getIdByPath\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"path\",\"code\":\"//直接填写方法内容\\n\\n var id=\\\"\\\";\\n\\t\\tvar findCNode = function(iNode) {\\n\\t\\t\\tif(iNode.childNodes.length > 0) {\\n\\t\\t\\t\\tfor(var j = 0; j < iNode.childNodes.length; j++) {\\n\\t\\t\\t\\t\\tif(iNode.childNodes[j].getPath(\\\"text\\\").replace(/(^\\\\/)|(\\\\/$)/g, \\\"\\\") == path.replace(/(^\\\\/)|(\\\\/$)/g, \\\"\\\")) {\\n\\t\\t\\t\\t\\t\\tid=iNode.childNodes[j].id;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\t} else findCNode(iNode.childNodes[j])\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\n\\t\\t\\tif(this.tree.getRootNode().getPath(\\\"text\\\").replace(/(^\\\\/)|(\\\\/$)/g, \\\"\\\") == path.replace(/(^\\\\/)|(\\\\/$)/g, \\\"\\\")) {\\n\\t\\t\\t\\tid = this.tree.getRootNode().id;\\n\\t\\t\\t} else findCNode(this.tree.getRootNode());\\n\\t\\t\\t\\n\\t\\t\\treturn id;\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"homeClick\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"homeClick\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"creatCategory\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"creatCategory\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"creatFile\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"creatFile\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"refreshTree\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"refreshTree\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"resourceNodeClick\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"resourceNodeClick\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"node,e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"onAfterShowMenu\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"onAfterShowMenu\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"右键菜单打开后\",\"uxcid\":\"\",\"params\":\"node,e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"onBeforeShowMenu\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"onBeforeShowMenu\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"node,e\",\"code\":\"\"}},{\"cid\":\"uxevent\",\"id\":\"afterCategoryBind\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"afterCategoryBind\",\"params\":\"e\",\"desc\":\"\"}}]}]}"}