{"vmdversion":"2.0.5.191228","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"FontFamitylist\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":142,\"height\":28,\"autoHeight\":false,\"bodyStyle\":\"\",\"style\":\"z-index: 99;\",\"afterrender\":\"FontFamitylist_afterrender\",\"border\":false,\"beforerender\":\"FontFamitylist_beforerender\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"border\":false,\"header\":false,\"layout\":\"fit\",\"height\":28,\"width\":160,\"x\":1,\"y\":1,\"region\":\"\",\"hidden\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"famityBox\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":0,\"width\":140,\"id\":\"famityBox\",\"height\":24,\"region\":\"center\",\"border\":false,\"click\":\"famityBox_click\",\"style\":\"padding-left: 8px;    /*border: 1px solid #ddd;*/    line-height: 24px;    font-size: 13px;    color: #646464;\",\"html\":\"<div id=\\\"famityBox\\\" style=\\\"height:100%\\\">微软雅黑</div>\",\"layout\":\"border\",\"afterrender\":\"famityBox_afterrender\"},\"cn\":[{\"cid\":\"container\",\"id\":\"fmaityDiv\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"fmaityDiv\",\"region\":\"center\",\"style\":\"border: 0;\",\"html\":\"\",\"height\":24}},{\"cid\":\"vmdButton\",\"id\":\"famityButton\",\"layoutConfig\":{},\"userConfig\":{\"x\":132,\"y\":-1,\"width\":22,\"id\":\"famityButton\",\"text\":\"\",\"style\":\"border-radius: 0;    background-size: 100%;    background-position: right;    border: 0;    float: right;    /*background: #fff url(\\\"/img/public/dhxcombo_arrow_down.gif\\\") 12px center;*/    /*background-repeat: no-repeat;*/    /*z-index: 99;*/    color: rgb(158, 161, 164);\",\"icon\":\"icon-caret-down\",\"height\":24,\"region\":\"east\",\"type\":\"(none)\"}}]}]},{\"cid\":\"container\",\"id\":\"myFamity\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":0,\"width\":130,\"height\":160,\"id\":\"myFamity\",\"hidden\":true,\"layout\":\"absolute\",\"autoHeight\":true,\"autoWidth\":false,\"region\":\"west\",\"style\":\"width: 100%;    background-color: #fff;    z-index: 9999;    position: absolute;\",\"border\":false},\"cn\":[{\"cid\":\"vmdDataView\",\"id\":\"hwDataView\",\"layoutConfig\":{},\"userConfig\":{\"data\":\"var data = [{\\n    EnName: 'Simsun',\\n    name: '宋体'\\n}, {\\n    EnName: 'SimHei',\\n    name: '黑体'\\n}, {\\n    EnName: 'KaiTi',\\n    name: '楷体'\\n}, {\\n    EnName: 'Microsoft YaHei',\\n    name: '微软雅黑'\\n}, {\\n    EnName: 'STKaiti',\\n    name: '华文楷体'\\n}, {\\n    EnName: 'STSong',\\n    name: '华文宋体'\\n}, {\\n    EnName: 'STFangsong',\\n    name: '华文仿宋'\\n}, {\\n    EnName: 'STHeiti Light',\\n    name: '华文细黑'\\n}, {\\n    EnName: 'Arial',\\n    name: 'Arial'\\n}, {\\n    EnName: 'Verdana',\\n    name: 'Verdana'\\n}, {\\n    EnName: 'Tahoma',\\n    name: 'Tahoma'\\n}, {\\n    EnName: 'Trebuchet MS',\\n    name: 'Trebuchet MS'\\n}, {\\n    EnName: 'Georgia',\\n    name: 'Georgia'\\n}, {\\n    EnName: 'Times New Roman',\\n    name: 'Times New Roman'\\n}, {\\n    EnName: 'Garamond',\\n    name: 'Garamond'\\n}];\\nreturn data;\",\"tpl\":\"<ul class=\\\"d-info\\\" style=\\\"padding-top:8px; border:1px solid #ddd\\\">\\n    <tpl for=\\\".\\\">\\n        <li class=\\\"info\\\" data-id=\\\"{EnName}\\\" style=\\\"font-family:'{EnName}';padding-left:8px;font-size:13px;color:#646464\\\">{name}</li>\\n    </tpl>\\n</ul>\",\"width\":130,\"height\":150,\"click\":\"hwDataView_click\",\"style\":\"width: 100%;    background-color: #ffffff;    opacity: 1;\",\"autoHeight\":false}}]}]}]}","vmdevents":"var isCp = false,\n    value = '',\n    selectValue = '';\nvar page = this\nvar fontData = [{\n    EnName: 'Simsun',\n    name: '宋体'\n}, {\n    EnName: 'SimHei',\n    name: '黑体'\n}, {\n    EnName: 'KaiTi',\n    name: '楷体'\n}, {\n    EnName: 'Microsoft YaHei',\n    name: '微软雅黑'\n}, {\n    EnName: 'STKaiti',\n    name: '华文楷体'\n}, {\n    EnName: 'STSong',\n    name: '华文宋体'\n}, {\n    EnName: 'STFangsong',\n    name: '华文仿宋'\n}, {\n    EnName: 'STHeiti Light',\n    name: '华文细黑'\n}, {\n    EnName: 'Arial',\n    name: 'Arial'\n}, {\n    EnName: 'Verdana',\n    name: 'Verdana'\n}, {\n    EnName: 'Tahoma',\n    name: 'Tahoma'\n}, {\n    EnName: 'Trebuchet MS',\n    name: 'Trebuchet MS'\n}, {\n    EnName: 'Georgia',\n    name: 'Georgia'\n}, {\n    EnName: 'Times New Roman',\n    name: 'Times New Roman'\n}, {\n    EnName: 'Garamond',\n    name: 'Garamond'\n}]\n\nfunction hwDataView_click(sender, index, node, e) {\n    var id = node.getAttribute('data-id');\n    selectValue = id;\n    setDivValue(id);\n    myFamity.hide();\n    page.fireEvent(\"fontChagen\", hwDataView, id)\n}\n\nfunction setDivValue(font) {\n    selectValue = font;\n    //var el = vmd.getElement('famityBox');\n    vmd.taskRunner(function() {\n        if (fmaityDiv.el) return true;\n    }, function() {\n        for (var i = 0; i < fontData.length; i++) {\n            if (fontData[i].EnName.toUpperCase() == font.toUpperCase()) {\n                var t = fontData[i].name;\n                fmaityDiv.update(t)\n                //el.dom.innerText = t;\n                fmaityDiv.el.applyStyles('font-family:' + t);\n                break\n            }\n        }\n    })\n\n}\n\nfunction FontFamitylist_afterrender(sender) {\n    \n    Ext.getBody().on('click', function(e) {\n        if (!$(e.target).attr(\"id\") || $(e.target).attr(\"id\").indexOf(\"fmaityDiv\") == -1) {\n            if (!myFamity.hidden) {\n                myFamity.hide();\n            }\n        }\n\n    })\n}\n\nfunction famityBox_click(sender, e) {\n    if (myFamity.hidden) {\n        myFamity.show();\n        var x = famityBox.el.getRegion().left,\n            y = famityBox.el.getRegion().top + 30;\n        myFamity.setPosition(x, y)\n\n    } else {\n        myFamity.hide();\n    }\n    stopPP(e)\n    // if ($(e.target).hasClass(\"icon-caret-down\")) {\n    //     stopPP(e)\n    // }\n}\n\n\nfunction famityBox_afterrender(sender) {\n    $(famityBox.el.dom.lastElementChild).remove();\n}\n\nfunction FontFamitylist_beforerender(sender){\n    this.on('afterlayout', function() {\n        Ext.getBody().appendChild(myFamity.el);\n    })\n}","vmdcss":".info{\n    height: 24px;\n    padding:2px 8px;\n    line-height: 24px;\n}\n\nli.info-hover {\n    cursor: pointer;\n    background-color: #e6e6e6;\n}","vmdprops":"\"\"","type":"ux","vmdcmpdeps":[],"vmdevents_controller":"Ext.define('vmd.ux.fontFamitylist.Controller', {\n    xtype: 'vmd.ux.fontFamitylist.Controller',\n    constructor: function(options) {\n        \n    }\n})","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxprop\",\"id\":\"border\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"border\",\"zhname\":\"\",\"bindCmp\":\"lineBox\",\"bindValue\":\"border\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"group\":\"\",\"cmptype\":\"string\",\"cmpsettings\":\"{\\\"isMulti\\\":false,\\\"data\\\":\\\"\\\"}\",\"storesource\":\"\",\"storefield_multi\":false,\"radio_JeYN\":\"string\"}}]},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"setOriFont\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"setOriFont\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"font\",\"code\":\"//直接填写方法内容\\nsetDivValue(font)\",\"returnType\":\"\"}},{\"cid\":\"uxmethod\",\"id\":\"getFont\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"getFont\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"\",\"code\":\"//直接填写方法内容\\n return selectValue\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxevent\",\"id\":\"fontChagen\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"fontChagen\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"font\",\"code\":\"\"}}]}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}