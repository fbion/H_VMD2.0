{"vmdversion":"vmd2.0.7.200328","vmdlayout":"{\"components\":[{\"cid\":\"uxpanel\",\"id\":\"WellSymbol\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"header\":false,\"width\":290,\"height\":790,\"beforerender\":\"WellSymbol_beforerender\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":0,\"height\":540,\"border\":false,\"header\":false,\"layout\":\"absolute\",\"width\":290},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"wellIsShow\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"显示\",\"x\":10,\"y\":10,\"checked\":true,\"id\":\"wellIsShow\",\"BindValue\":\"show\",\"Name\":\"seriesIsShow\"}},{\"cid\":\"checkbox\",\"id\":\"hwCheckboxEditable\",\"layoutConfig\":{},\"userConfig\":{\"x\":80,\"y\":10,\"boxLabel\":\"编辑\",\"checked\":true,\"id\":\"hwCheckboxEditable\",\"hidden\":true}},{\"cid\":\"label\",\"id\":\"hwLabel\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":45,\"height\":20,\"text\":\"名称\"}},{\"cid\":\"textfield\",\"id\":\"wellName\",\"layoutConfig\":{},\"userConfig\":{\"x\":80,\"y\":40,\"width\":190,\"cls\":\"text-input\",\"id\":\"wellName\",\"BindValue\":\"nameText\"}},{\"cid\":\"label\",\"id\":\"hwLabel1\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":80,\"height\":20,\"text\":\"井符号半径\"}},{\"cid\":\"vmd.ux.NumberInput\",\"id\":\"symbolSize\",\"layoutConfig\":{},\"userConfig\":{\"x\":80,\"y\":75,\"width\":70,\"id\":\"symbolSize\",\"BindValue\":\"symbolSize\",\"Name\":\"seriesPorperty\"}},{\"cid\":\"label\",\"id\":\"hwLabel2\",\"layoutConfig\":{},\"userConfig\":{\"x\":170,\"y\":80,\"height\":20,\"text\":\"层级\"}},{\"cid\":\"vmd.ux.NumberInput\",\"id\":\"wellZIndex\",\"layoutConfig\":{},\"userConfig\":{\"x\":210,\"y\":75,\"width\":60,\"id\":\"wellZIndex\",\"BindValue\":\"z\",\"Name\":\"seriesPorperty\"}},{\"cid\":\"checkbox\",\"id\":\"hwCheckboxNonOverlap\",\"layoutConfig\":{},\"userConfig\":{\"x\":160,\"y\":10,\"boxLabel\":\"避让\",\"checked\":true,\"id\":\"hwCheckboxNonOverlap\",\"hidden\":true}},{\"cid\":\"panel\",\"id\":\"wellPanel\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":120,\"title\":\"井号\",\"height\":140,\"layout\":\"absolute\",\"id\":\"wellPanel\"},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"showWellNo\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"显示\",\"x\":10,\"y\":0,\"checked\":true,\"id\":\"showWellNo\",\"BindValue\":\"label.show\",\"check\":\"showWellNo_check\",\"Name\":\"isOnRander\"}},{\"cid\":\"radiogroup\",\"id\":\"hwRadioGroupFilter\",\"layoutConfig\":{},\"userConfig\":{\"x\":8,\"y\":25,\"width\":100,\"height\":65,\"BindValue\":\"filter.type\",\"id\":\"hwRadioGroupFilter\",\"Name\":\"isOnRander\",\"change\":\"hwRadioGroupFilter_change\"},\"cn\":[{\"cid\":\"radio\",\"id\":\"hwRadioChar\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"过滤前缀\",\"fieldLabel\":\"\",\"y\":2,\"BindValue\":\"\",\"id\":\"hwRadioChar\",\"check\":\"hwRadioChar_check\",\"inputValue\":\"char\"}},{\"cid\":\"radio\",\"id\":\"hwRadioCharNum\",\"layoutConfig\":{},\"userConfig\":{\"fieldLabel\":\"\",\"boxLabel\":\"过滤前缀位数\",\"y\":5,\"BindValue\":\"\",\"id\":\"hwRadioCharNum\",\"check\":\"hwRadioCharNum_check\",\"inputValue\":\"charnum\"}}]},{\"cid\":\"textfield\",\"id\":\"hwTextFilterPreChar\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":25,\"width\":160,\"cls\":\"text-input\",\"BindValue\":\"filter.prefix\",\"id\":\"hwTextFilterPreChar\",\"Name\":\"isOnRander\"}},{\"cid\":\"vmd.ux.NumberInput\",\"id\":\"hwNumberInputFilterPreNum\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":62,\"width\":160,\"BindValue\":\"filter.preChars\",\"id\":\"hwNumberInputFilterPreNum\",\"Name\":\"isOnRander\"}}]},{\"cid\":\"panel\",\"id\":\"storPanel\",\"layoutConfig\":{},\"userConfig\":{\"x\":-1,\"y\":410,\"height\":370,\"title\":\"数据\",\"layout\":\"absolute\",\"id\":\"storPanel\"},\"cn\":[{\"cid\":\"label\",\"id\":\"hwLabel3\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"数据集\",\"x\":10,\"y\":15}},{\"cid\":\"vmdComlist\",\"id\":\"storeList\",\"layoutConfig\":{},\"userConfig\":{\"x\":70,\"y\":10,\"width\":200,\"cls\":\"text-input\",\"BindValue\":\"dataMapping.source\",\"id\":\"storeList\",\"selectChanged\":\"storeList_selectChanged\"}},{\"cid\":\"label\",\"id\":\"hwLabel4\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"字段绑定\",\"x\":10,\"y\":55}},{\"cid\":\"vmd.ux.FieldFormlist\",\"id\":\"hwFieldFormlist\",\"layoutConfig\":{},\"userConfig\":{\"x\":60,\"y\":55,\"width\":220,\"BindValue\":\"dataMapping.fields\"}}]},{\"cid\":\"checkbox\",\"id\":\"hwCheckboxShowLegend\",\"layoutConfig\":{},\"userConfig\":{\"boxLabel\":\"配置图例\",\"x\":80,\"y\":10,\"checked\":true,\"BindValue\":\"showLegend\",\"id\":\"hwCheckboxShowLegend\",\"Name\":\"isOnRander\"}},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":260,\"title\":\"渐进式加载\",\"height\":155,\"layout\":\"absolute\"},\"cn\":[{\"cid\":\"label\",\"id\":\"hwLabel6\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":40,\"text\":\"启用阈值\"}},{\"cid\":\"label\",\"id\":\"hwLabel7\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":75,\"text\":\"单次加载数据量\",\"width\":50}},{\"cid\":\"vmd.ux.NumberInput\",\"id\":\"hwNumberInput\",\"layoutConfig\":{},\"userConfig\":{\"x\":70,\"y\":35,\"height\":30,\"width\":100,\"BindValue\":\"progressiveThreshold\"}},{\"cid\":\"vmd.ux.NumberInput\",\"id\":\"hwNumberInput1\",\"layoutConfig\":{},\"userConfig\":{\"x\":70,\"y\":75,\"width\":100,\"BindValue\":\"progressive\"}},{\"cid\":\"label\",\"id\":\"hwLabel8\",\"layoutConfig\":{},\"userConfig\":{\"x\":180,\"y\":40,\"text\":\"超过此数据量时启用渐进式加载\",\"style\":\"color: red;font-size: 10px;\",\"width\":90}},{\"cid\":\"checkbox\",\"id\":\"hwCheckbox\",\"layoutConfig\":{},\"userConfig\":{\"x\":10,\"y\":5,\"boxLabel\":\"启用\",\"BindValue\":\"isProgressive\",\"check\":\"hwCheckbox_check\"}}]}]}]}]}","vmdevents":"var page = this;\nvar viewModel;\nvar oriData = null;\nvar wellData;\n\nfunction init(data) {\n    //console.log(data)\n    wellData = data;\n    viewModel.bind(wellData)\n\n    // 数据集列表绑定数据\n    setStoreData();\n    hwFieldFormlist.bindData(wellData.dataMapping);\n    hwNumberInput.setDisabled(!wellData.isProgressive);\n    hwNumberInput1.setDisabled(!wellData.isProgressive);\n\n}\n\nfunction WellSymbol_beforerender(sender) {\n    //初始化\n    viewModel = new vmd.base.ViewModel(page);\n    //增加观察\n    viewModel.addObserver();\n    //实现接口\n    viewModel.onValueChange = function(sender, newValue, vm) {\n        viewModel.set(sender.BindValue, newValue);\n        xds.activePropPanel.fireEvent('DataValueChange', sender, newValue, vm, true)\n    }\n}\n\n// 数据赋值\nfunction setStoreData(data) {\n    var myStore = getDatasetNames();\n    var store = new vmd.data.Store({\n        data: myStore,\n        fields: ['id', 'text']\n    })\n    storeList.store = store;\n    storeList.valueField = 'id';\n    storeList.displayField = 'id';\n    storeList.dropDownFields = 'text';\n    storeList.queryField = 'text';\n    for (var i = 0; i < myStore.length; i++) {\n        //storeList.setValue(myStore[i].id);\n        if (myStore[i].id === wellData && wellData.dataMapping.source) {\n            storeList.setValue(wellData.dataMapping.source)\n        }\n    }\n}\n\n\n//获取可视化中定义的所有数据集\nfunction getDatasetNames() {\n    var names = [];\n    var storeRoot = xds.vmd.getRootNode(\"dataset\");\n    if (storeRoot) {\n        storeRoot.eachChild(function(item) {\n            var obj = {\n                id: item.id,\n                text: item.id,\n                child: []\n            }\n            if (item.childNodes && item.childNodes.length > 0) {\n                item.childNodes.forEach(function(value, i) {\n                    obj.child.push({\n                        id: value.text,\n                        text: value.text\n                    })\n                })\n            }\n            names.push(obj)\n        }, this);\n    }\n    return names;\n}\n\n\nfunction showWellNo_check(sender, checked) {\n    hwRadioGroupFilter.setDisabled(!checked);\n    hwTextFilterPreChar.setDisabled(!checked);\n    hwNumberInputFilterPreNum.setDisabled(!checked);\n}\n\nfunction storeList_selectChanged(sender, combo, record, index) {\n    wellData.dataMapping.source = combo.value;\n    hwFieldFormlist.bindData(wellData.dataMapping);\n}\n\nfunction hwRadioGroupFilter_change(sender, checked) {\n    var a = 1;\n}\n\nfunction hwRadioChar_check(sender, checked) {\n\n    hwTextFilterPreChar.setDisabled(!checked);\n    hwNumberInputFilterPreNum.setDisabled(checked);\n}\n\nfunction hwRadioCharNum_check(sender, checked) {\n    hwTextFilterPreChar.setDisabled(checked);\n    hwNumberInputFilterPreNum.setDisabled(!checked);\n}\n\nfunction hwCheckbox_check(sender, checked) {\n    hwNumberInput.setDisabled(!checked);\n    hwNumberInput1.setDisabled(!checked);\n}","vmdcss":".text-input{\n    border: 1px solid #ddd;\n}","vmdprops":"\"\"","type":"ux","vmdcmpdeps":[],"vmdevents_controller":"","vmdinterface":"{\"components\":[{\"cid\":\"vmduxprops\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmduxmethods\",\"id\":\"方法\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"uxmethod\",\"id\":\"init\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"init\",\"zhname\":\"\",\"bindCmp\":\"\",\"bindValue\":\"\",\"isPublic\":\"on\",\"desc\":\"\",\"uxcid\":\"\",\"params\":\"data\",\"code\":\"//直接填写方法内容\\ninit(data)\",\"returnType\":\"\"}}]},{\"cid\":\"vmduxevents\",\"id\":\"事件\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"controller.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}