<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <title>项目添加2</title>
	<!--基本样式-->
    <link href="/css/common.css" rel="stylesheet" />
    <!--加载dhx组件-->
    <link href="/lib/ext-3.4/resources/css/ext-all.css" rel="stylesheet" />
   
    <link href="/design/css/icons.css" rel="stylesheet" />

	<link href="/lib/dhtmlx/dhtmlx.css" rel="stylesheet" />
	  <!--样式快捷索引表-->
    <link href="/css/shortcut.css" rel="stylesheet" />
    <script src="/lib/labjs/LAB.min.js"></script>
    <script src="/config.js"></script>
    <script src="/lib/ext-3.4/adapter/ext/ext-base-debug.js"></script>
    <script src="/lib/ext-3.4/adapter/ext/ext-base-lang.js"></script>
    <script src="/lib/ext-3.4/adapter/ext/ext-base-class.js"></script>
    <script src="/lib/ext-3.4/ext-all-debug.js"></script>
    <script src="/lib/ext-3.4/src/locale/ext-lang-zh_CN.js"></script>
    <script src="/js/util.js"></script>
    <script src="/lib/dhtmlx/dhtmlx.js"></script>
	<script src="/report/dhtmlx/dhtmlxCommon/codebase/dhtmlxcommon.js"></script>
	 <script src="/report/dhtmlx/dhtmlxCommon/codebase/dhtmlxcore.js"></script>
   <script src="/report/dhtmlx/dhtmlxCommon/codebase/dhtmlxcontainer.js"></script>
	 <script src="/report/FillReport2.0/js/dhtmlx/dhtmlXFileUploader.js"></script>
    <script src="/js/hwdas.js"></script>
    <script src="/js/vmdcore.js"></script>
    <script src="/js/vmdcomps.js"></script>
    <script src="/js/publicMethods.js"></script>
     <script src="/js/vmdreport.js"></script>
	 
    <script src="/lib/ace/ace.js"></script>
    <script src="/lib/ace/mode-base.js" type="text/javascript"></script>
    <script src="/lib/ace/theme-xcode.js" type="text/javascript" ></script>
    <script src="/lib/ace/ext-language_tools.js"></script>


    <style>

    </style>
    <style type="text/css" id="vmdcss">
        .info {
    float: left;
    padding: 0px 0px;
    margin: 3px;
    text-align: left;
    font-weight: normal;
    color: #005AA0;
    /*color: #333;*/
    height: 20px;
    width: 65px;
    overflow: hidden;
    border-top: 1px solid transparent;
    cursor: pointer
}

.infoDepartment{
    float: left;
    padding: 0px 0px;
    margin: 3px;
    text-align: left;
    color: #005AA0;
    /*color: #333;*/
    height: 20px;
    width: 100px;
    overflow: hidden;
    border-top: 1px solid transparent;
    cursor: pointer
}

.infoFirst {
    float: left;
    padding: 0px 0px;
    margin: 3px;
    text-align: left;
    color: #005AA0;
    /*color: #333;*/
    height: 20px;
    width: 240px;
    overflow: hidden;
    border-top: 1px solid transparent;
    cursor: pointer
}
    </style>
    <script>
		vmd.virtualPath=''
        Ext.define("vmd.module.MyViewport" ,{
	extend:"vmd.comp.viewport",
	requires:vmd.getCmpDeps([]),
	xtype:"vmd.module.MyViewport",
	layout:"absolute",
	afterrender:"MyViewport_afterrender",
	listeners:{
		vmdafterrender:function(){
	this.MyViewport_afterrender(this)
}
	},
	initComponent: function(){
		var workspaceId = "";

function btnNewProject_click(sender, e) {

    window.MyGridProject = MyGridProject;
    MyGridProject.newProject = newProject;
    var formNewProject = new parent.vmd.window({
        title: "项目添加",
        url: vmd.core.getVirtualPath() + "/modules/eQ9ULgcVb1/hwipUwNjJb/hwhhRITolM.html",
        auto: false,
        height: 640,
        width: 635,
        params: {
            r: new Date().getTime()
        }
    })

    formNewProject.show();
    window.formNewProject = formNewProject;
}

// 创建新项目
var newProject = function(jsonInfo) {

    ;
    var projectId = vmd.util.guid();
    var aliasId = vmd.util.guid();
    var changedBy = "";
    var changedDate = "";
    var createdBy = "";
    var createdDate = "";

    // 保存到数据库
    hwDas.add(
        "DataServiceWorkSpace/projectInfo/ProjectBaseInfo", {}, {}, [{
            'workspaceid': workspaceId,
            'projectid': projectId,
            'name': jsonInfo.name,
            'alias': jsonInfo.alias,
            'aliasid': aliasId,
            'changeddate': changedDate,
            'changedby': changedBy,
            'createddate': createdDate,
            'createdby': createdBy,
            'region': jsonInfo.region,
            'department': jsonInfo.department,
            'mister': jsonInfo.mister,
            'manager': jsonInfo.manager,
            'manager2': jsonInfo.manager2,
            'year': jsonInfo.year,
            'state': jsonInfo.state,
            'projectparent': jsonInfo.projectParent,
            'projectcontinue': jsonInfo.projectContinue,
            'datecustomerstart': jsonInfo.dateCustomerStart,
            'datecustomerend': jsonInfo.dateCustomerEnd,
            'dateestimatestart': jsonInfo.dateEstimateStart,
            'dateestimateend': jsonInfo.dateEstimateEnd,
            'estspend': jsonInfo.estspend,
            'bonus': jsonInfo.bonus,
            'firstcustomerid': jsonInfo.firstCustomerId,
            'firstcontact': jsonInfo.firstContact,
            'techtype': jsonInfo.techType,
            'internal': jsonInfo.bInternal,
            'description': jsonInfo.remark
        }],
        // hwDas.add(
        //     "DataServiceWorkSpace/projectInfo/ProjectBaseInfo", {}, {}, [{
        //         'workspaceid': workspaceId,
        //         'projectid': projectId,
        //         'name': name,
        //         'alias': alias,
        //         'aliasid': aliasId,
        //         'changeddate': changedDate,
        //         'changedby': changedBy,
        //         'createddate': createdDate,
        //         'createdby': createdBy,
        //         'description': remark
        //     }],
        function(result) {

            Tips.tips("查询成功！", "success");
            // 刷新项目列表数据集（或调用数据集对象添加一条记录）
            storeProjectList.toRefresh();
            // Ext.Msg.alert("提示", "添加服务地址成功！")
        },
        function(msg) {

            Tips.tips("保存失败！", "error");
            // Ext.Msg.alert("提示", "添加服务地址失败！");
        }
    );
}

// function btnNewProject_click(sender, e) {
//     // 创建新项目
//     var addProject = function(name, alias, remark) {

//         ;
//         var projectId = vmd.util.guid();
//         var aliasId = vmd.util.guid();
//         var changedBy = "";
//         var changedDate = "";
//         var createdBy = "";
//         var createdDate = "";

//         // 保存到数据库
//         hwDas.add(
//             "DataServiceWorkSpace/projectInfo/ProjectBaseInfo", {}, {}, [{
//                 'workspaceid': workspaceId,
//                 'projectid': projectId,
//                 'name': name,
//                 'alias': alias,
//                 'aliasid': aliasId,
//                 'changeddate': changedDate,
//                 'changedby': changedBy,
//                 'createddate': createdDate,
//                 'createdby': createdBy,
//                 'description': remark
//             }],
//             function(result) {

//                 Tips.tips("查询成功！", "success");
//                 // 刷新项目列表数据集（或调用数据集对象添加一条记录）
//                 storeProjectList.toRefresh();
//                 // Ext.Msg.alert("提示", "添加服务地址成功！")
//             },
//             function(msg) {

//                 Tips.tips("保存失败！", "error");
//                 // Ext.Msg.alert("提示", "添加服务地址失败！");
//             }
//         );
//     }

//     var winForm = new Ext.winAddProject(addProject, "", "", "");
//     winForm.show();
// }

//添加资源中心服务地址
Ext.winAddProject = Ext.extend(Ext.Window, {
    xtype: "window",
    title: "新建项目",
    width: 300,
    height: 200,
    layout: "form",
    bodyStyle: 'padding:15px',
    labelAlign: "left",
    labelWidth: 40,
    modal: true,
    constructor: function(callback, name, alias, remark) {
        this.callback = callback;
        this.valueAlias = alias;
        this.valueName = name;
        this.valueRemark = remark;
        this.callParent();
    },
    initComponent: function() {
        var me = this;
        this.fbar = [{
            text: "确定",
            handler: function() {
                me.callback(Ext.getCmp('name').getValue(), Ext.getCmp('alias').getValue(), Ext.getCmp('remark').getValue());
                me.close();
            }
        }, {
            text: "取消",
            handler: function() {
                me.close();
            }
        }];

        this.items = [{
            id: 'name',
            xtype: "textfield",
            fieldLabel: "名称",
            anchor: "100%",
            value: this.valueName
        }, {
            id: 'alias',
            xtype: "textfield",
            fieldLabel: "别名",
            anchor: "100%",
            value: this.valueAlias
        }, {
            id: 'remark',
            xtype: "textfield",
            fieldLabel: "说明",
            anchor: "100%",
            value: this.valueRemark
        }]
        Ext.winAddProject.superclass.initComponent.call(this);
    }
})

// 确定按钮事件
function button_click(sender, e) {
    ;

    // 删除与当前工区相关的所有项目
    hwDas.del(
        "DataServiceWorkSpace/WorkSpaceInfo/DelProjectByWorkspace", {}, {
            'workspaceid': workspaceId
        },
        function(result) {
            // Tips.tips("删除成功！", "success");
            // Ext.Msg.alert("提示", "保存服务地址信息成功！");
        },
        function(msg) {
            // Tips.tips("删除失败！", "error");
            // Ext.Msg.alert("提示", "保存服务地址信息失败！");
        }
    );

    // 根据选择的项目保存与工区关联的项目
    var selModel = MyGridProject.getSelectionModel();
    // if(null != selModel && undefined != selModel) {
    //     if(null != selModel.selections && undefined != selModel.selections) {
    //         if(selModel.selections.items) {
    //             for(var i = 0; i < selModel.selections.items.length; i++) {
    //                 hwDas.add(
    //                     "DataServiceWorkSpace/WorkSpaceInfo/WorkSpaceProject", {}, {}, [{
    //                         'workspaceid': workspaceId,
    //                         'projectid': selModel.selections.items[i].projectid
    //                     }],
    //                     function(result) {
    //                         // Tips.tips("保存成功！", "success");
    //                     },
    //                     function(msg) {
    //                         // Tips.tips("保存失败！", "error");
    //                     }
    //                 );
    //             }
    //         }
    //     }
    // }

    var arrData = [];

    if(null != selModel && undefined != selModel) {
        if(null != selModel.selections && undefined != selModel.selections) {
            if(selModel.selections.items) {
                for(var i = 0; i < selModel.selections.items.length; i++) {
                    var objRow = {
                        'workspaceid': workspaceId,
                        'projectid': selModel.selections.items[i].project_id
                    };
                    arrData.push(objRow);
                }
            }
        }
    }

    hwDas.add(
        "DataServiceWorkSpace/projectInfo/ProjectBaseInfo", {}, {}, arrData,
        function(result) {
            Tips.tips("保存成功！", "success");
            // 刷新项目列表数据集（或调用数据集对象添加一条记录）
            storeProjectList.toRefresh();
        },
        function(msg) {
            Tips.tips("保存失败！", "error");
        }
    );

    
    parent.treeProjects.addProjectTree();
    parent.formAddProject.close();
}

// 取消按钮事件
function MyViewport_afterrender(sender) {
    ;
    workspaceId = getUrlParam("workspaceid");
    // workspaceId = "657e35d9-494a-456d-8f80-98b4924133d7";

    // 加载项目年度列表
    // loadProjectYear();
}

function loadProjectYear() {

    var arrData = [{
        "id": 0,
        "name": "全部"
    }];

    var myDate = new Date();
    var thisYear = myDate.getFullYear(); //获取完整的年份(4位,1970-????)

    for(var i = 0; i < 10; i++) {
        objData = {
            "id": (i+1).toString(),
            "name": (thisYear - i).toString()
        };
        arrData.push(objData);
    }
    ;
    dataviewProjectYear.data = arrData;
}

function button1_click(sender, e) {

    parent.formAddProject.close();
}

function MyGridProject_beforerender(sender) {
    // MyGridProject.selModel = {
    //     injectCheckbox: 0,
    //     mode: "SIMPLE",     //"SINGLE"/"SIMPLE"/"MULTI"
    //     checkOnly: true     //只能通过checkbox选择
    // };
}

function storeProjectList_load(sender, records, options) {
    // 绑定的数据加载完成后
    // 查询当前工区包含的项目，设置选中
    hwDas.get(
        "DataServiceWorkSpace/WorkSpaceInfo/WorkSpaceProject", {}, {
            "workspaceid": workspaceId
        },
        function(result) {
            // 根据获取的数据赋值基本信息Tab页
            if(null === result && undefined === result) {
                return;
            }

            if(null != result.data && undefined != result.data) {
                if(result.data.length > 0) {
                    if(null != result.data[0].datas && undefined != result.data[0].datas) {
                        for(var i = 0; i < result.data[0].datas.length; i++) {
                            // result.data[0].datas[i].project_id;
                            // 根据项目ID，设置列表项的选中
                        }
                    }
                }
            }
        },
        function(msg) {
            // Tips.tips("查询失败！", "error");
        });
}
			this.MyViewport_afterrender=MyViewport_afterrender;

		storeProjectList=new vmd.store.jsonStore({listeners:{load:function(){storeProjectList_load.apply(this,arguments);}},"xtype":"vmd.jsonStore","id":"storeProjectList","autoLoad":true,"storeConfig":"{\"id\":\"TA6EtU7wTx\",\"callcode\":\"vmdCode\",\"url\":\"DataServiceWorkSpace/projectInfo/ProjectAll\",\"host\":\"\",\"isHwRest\":true,\"name\":\"所有项目\",\"getMethods\":[],\"postMethods\":[],\"putMethods\":[],\"deleteMethods\":[],\"saveMethods\":[],\"fields\":[{\"name\":\"checked\",\"type\":\"string\"},{\"name\":\"project_name\",\"type\":\"string\"},{\"name\":\"row_created_date\",\"type\":\"string\"},{\"name\":\"contract_date\",\"type\":\"string\"}]}","load":"storeProjectList_load"});
		storeDepartment=new vmd.store.jsonStore({"xtype":"vmd.jsonStore","id":"storeDepartment","autoLoad":true,"storeConfig":"{\"id\":\"TG0ZNlw8LG\",\"callcode\":\"vmdCode\",\"url\":\"DataServiceWorkSpace/projectInfo/otherinfo/department\",\"host\":\"\",\"isHwRest\":true,\"name\":\"部门信息查询\",\"getMethods\":[],\"postMethods\":[],\"putMethods\":[],\"deleteMethods\":[],\"saveMethods\":[],\"fields\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"name\",\"type\":\"string\"}]}"});


		this.items=[
			{
				xtype:"panel",
				id:"panel",
				title:"Panel",
				header:false,
				border:true,
				height:640,
				x:0,
				y:0,
				width:870,
				layout:"absolute",
				autoHeight:false,
				items:[
					{
						xtype:"panel",
						id:"panel7",
						title:"Panel",
						header:false,
						border:true,
						height:315,
						width:75,
						x:5,
						y:10,
						bodyStyle:"background-color: #F3F3F3;"
					},
					{
						xtype:"panel",
						id:"panel6",
						title:"Panel",
						header:false,
						border:true,
						height:35,
						x:5,
						y:40,
						layout:"absolute",
						width:845,
						bodyStyle:"background-color: #F3F3F3;    border-bottom: 1px solid rgb(221, 221, 221);"
					},
					{
						xtype:"panel",
						id:"panel4",
						title:"Panel",
						header:false,
						border:true,
						height:60,
						x:5,
						y:105,
						layout:"absolute",
						width:845,
						bodyStyle:"background-color: #F3F3F3;    border-bottom: 1px solid rgb(221, 221, 221);"
					},
					{
						xtype:"panel",
						id:"panel2",
						title:"Panel",
						header:false,
						border:true,
						height:90,
						x:5,
						y:195,
						layout:"absolute",
						width:850,
						bodyStyle:"background-color: #F3F3F3;    border-bottom: 1px solid rgb(221, 221, 221);"
					},
					{
						xtype:"panel",
						id:"panelCondition",
						title:"Panel",
						header:false,
						border:true,
						height:1,
						x:5,
						y:325,
						layout:"absolute",
						width:845,
						style:"border-bottom: 1px solid rgb(221, 221, 221);"
					},
					{
						xtype:"label",
						id:"label",
						text:"名称：",
						x:35,
						y:15,
						height:15
					},
					{
						xtype:"textfield",
						id:"hwTextProjectName",
						allowBlank:true,
						x:80,
						y:10,
						width:350
					},
					{
						xtype:"label",
						id:"label1",
						text:"所属区域：",
						x:10,
						y:170
					},
					{
						xtype:"label",
						id:"label2",
						text:"项目年度：",
						x:10,
						y:45
					},
					{
						xtype:"label",
						id:"label3",
						text:"合同年度：",
						x:10,
						y:80
					},
					{
						xtype:"vmd.button",
						id:"btnOk",
						text:"确定",
						type:"(none)",
						size:"small",
						x:695,
						y:600,
						width:70,
						style:"background-color: rgb(64, 158, 255);    color: rgb(255, 255, 255);    font-size: 14px;",
						click:"button_click",
						listeners:{
							click:button_click
						}
					},
					{
						xtype:"vmd.button",
						id:"btnCancle",
						text:"取消",
						type:"(none)",
						size:"small",
						x:775,
						y:600,
						width:70,
						style:"background-color: rgb(201, 201, 201);    color: rgb(0, 0, 0);    font-size: 14px;",
						click:"button1_click",
						listeners:{
							click:button1_click
						}
					},
					{
						xtype:"vmd.button",
						id:"btnSearch",
						text:"查询",
						type:"(none)",
						size:"small",
						x:435,
						y:10,
						style:"font-size: 12px;",
						width:60,
						height:26
					},
					{
						xtype:"vmd.button",
						id:"btnNewProject",
						text:"创建新项目...",
						type:"text",
						size:"small",
						x:20,
						y:605,
						style:"font-size: 14px;",
						click:"btnNewProject_click",
						listeners:{
							click:btnNewProject_click
						}
					},
					{
						xtype:"panel",
						id:"panel1",
						title:"Panel",
						header:false,
						border:true,
						height:260,
						x:5,
						y:335,
						width:855,
						bodyStyle:"border: 1px solid RGB(192, 192,192);",
						items:[
							{
								xtype:"grid",
								id:"MyGridProject",
								title:"Grid Panel",
								loadMask:true,
								x:20,
								y:250,
								height:237,
								header:false,
								store:storeProjectList,
								border:true,
								width:852,
								beforerender:"MyGridProject_beforerender",
								listeners:{
									beforerender:MyGridProject_beforerender
								},
								columns:[
									{
										xtype:"booleancolumn",
										header:"选择",
										sortable:true,
										resizable:false,
										dataIndex:"checked",
										width:40,
										align:"center",
										fixed:false
									},
									{
										xtype:"gridcolumn",
										header:"项目名称",
										sortable:true,
										resizable:true,
										dataIndex:"project_name",
										width:310,
										align:"left"
									},
									{
										xtype:"gridcolumn",
										header:"项目别名",
										sortable:true,
										resizable:true,
										dataIndex:"alias_short_name",
										width:250,
										align:"left"
									},
									{
										xtype:"gridcolumn",
										header:"项目年度",
										sortable:true,
										resizable:true,
										dataIndex:"row_created_date",
										width:100,
										align:"center"
									},
									{
										xtype:"gridcolumn",
										header:"合同年度",
										sortable:true,
										resizable:true,
										dataIndex:"contract_date",
										width:100,
										align:"center"
									},
									{
										xtype:"gridcolumn",
										header:"研发部门",
										sortable:true,
										resizable:true,
										width:100
									},
									{
										xtype:"gridcolumn",
										header:"所属区域",
										sortable:true,
										resizable:true,
										width:100
									},
									{
										xtype:"gridcolumn",
										header:"甲方单位",
										sortable:true,
										resizable:true,
										width:100
									},
									{
										xtype:"gridcolumn",
										header:"项目状态",
										sortable:true,
										resizable:true,
										width:100
									}
								]
							}
						]
					},
					{
						xtype:"vmd.dataview",
						id:"dataviewRegion",
						width:795,
						height:30,
						itemSelector:"li.info",
						overClass:"info-hover",
						selectedClass:"x-view-selected",
						singleSelect:true,
						multiSelect:true,
						autoScroll:true,
						tpl:"<ul>    <tpl for=\".\">        <li class=\"info\">{name}</li>        <!--<li class=\"info\">-->        <!--    <h4>{name}</h4></li>-->    </tpl></ul>",
						data:"var data = [{    \"id\": 0,    \"name\": \"全部\"}, {    \"id\": 1,    \"name\": \"胜利\"}, {    \"id\": 2,    \"name\": \"西北\"}, {    \"id\": 3,    \"name\": \"北京\"}, {    \"id\": 4,    \"name\": \"华东\"}, {    \"id\": 5,    \"name\": \"东北\"}, {    \"id\": 6,    \"name\": \"中原\"}, {    \"id\": 7,    \"name\": \"西南\"}, {    \"id\": 8,    \"name\": \"华中\"}, {    \"id\": 9,    \"name\": \"华北\"}, {    \"id\": 10,    \"name\": \"上海\"}];return data;",
						x:80,
						y:165
					},
					{
						xtype:"panel",
						id:"panel3",
						title:"Panel",
						header:false,
						border:true,
						height:1,
						x:5,
						y:195,
						layout:"absolute",
						width:845,
						style:"border-bottom: 1px solid rgb(221, 221, 221);"
					},
					{
						xtype:"vmd.dataview",
						id:"dataviewProjectYear",
						width:790,
						height:30,
						itemSelector:".info",
						overClass:"info-hover",
						selectedClass:"x-view-selected",
						singleSelect:true,
						multiSelect:true,
						autoScroll:true,
						tpl:"<ul>    <tpl for=\".\">        <li class=\"info\"> {name}</li>        <!--<li class=\"info\"> <h4>{name}</h4></li>-->    </tpl></ul>",
						data:"var data = [{    \"id\": 3,    \"name\": \"2018\"}, {    \"id\": 4,    \"name\": \"2017\"}, {    \"id\": 5,    \"name\": \"2016\"}, {    \"id\": 6,    \"name\": \"2015\"}, {    \"id\": 7,    \"name\": \"2014\"}, {    \"id\": 8,    \"name\": \"2013\"}, {    \"id\": 9,    \"name\": \"2012\"}, {    \"id\": 10,    \"name\": \"2011\"}, {    \"id\": 11,    \"name\": \"2010\"}, {    \"id\": 12,    \"name\": \"2009\"}, {    \"id\": 13,    \"name\": \"2008\"}];return data;",
						x:80,
						y:43,
						style:"background: none;    border: none;"
					},
					{
						xtype:"vmd.dataview",
						id:"dataviewContractYear",
						width:790,
						height:30,
						itemSelector:"li.info",
						overClass:"info-hover",
						selectedClass:"x-view-selected",
						singleSelect:true,
						multiSelect:true,
						autoScroll:true,
						tpl:"<ul>    <tpl for=\".\">        <li class=\"info\">{name}</li>        <!--<li class=\"info\">-->        <!--    <h4>{name}</h4></li>-->    </tpl></ul>",
						data:"var data = [{    \"id\": 3,    \"name\": \"2018\"}, {    \"id\": 4,    \"name\": \"2017\"}, {    \"id\": 5,    \"name\": \"2016\"}, {    \"id\": 6,    \"name\": \"2015\"}, {    \"id\": 7,    \"name\": \"2014\"}, {    \"id\": 8,    \"name\": \"2013\"}, {    \"id\": 9,    \"name\": \"2012\"}, {    \"id\": 10,    \"name\": \"2011\"}, {    \"id\": 11,    \"name\": \"2010\"}, {    \"id\": 12,    \"name\": \"2009\"}, {    \"id\": 13,    \"name\": \"2008\"}];return data;",
						x:80,
						y:77
					},
					{
						xtype:"panel",
						id:"panel5",
						title:"Panel",
						header:false,
						border:true,
						height:1,
						x:5,
						y:105,
						layout:"absolute",
						width:845,
						style:"border-bottom: 1px solid rgb(221, 221, 221);"
					},
					{
						xtype:"label",
						id:"label4",
						text:"甲方单位：",
						x:10,
						y:205
					},
					{
						xtype:"label",
						id:"label5",
						text:"研发部门：",
						x:10,
						y:110
					},
					{
						xtype:"vmd.dataview",
						id:"dataviewDepartment",
						width:770,
						height:60,
						itemSelector:"li.infoDepartment",
						overClass:"info-hover",
						selectedClass:"x-view-selected",
						singleSelect:true,
						multiSelect:true,
						autoScroll:true,
						tpl:"<ul>    <tpl for=\".\">        <li class=\"infoDepartment\">{name}</li>        <!--<li class=\"info\">-->        <!--    <h4>{name}</h4></li>--></tpl></ul>",
						data:"var data = [{    \"id\": 3,    \"name\": \"全部\"}, {    \"id\": 4,    \"name\": \"集成技术\"}, {    \"id\": 5,    \"name\": \"可视化技术\"}, {    \"id\": 6,    \"name\": \"产研一部\"}, {    \"id\": 7,    \"name\": \"产研二部\"}, {    \"id\": 8,    \"name\": \"产研三部\"}, {    \"id\": 9,    \"name\": \"数据库\"}, {    \"id\": 10,    \"name\": \"需求部\"}, {    \"id\": 11,    \"name\": \"测试部\"}, {    \"id\": 12,    \"name\": \"设计部\"}, {    \"id\": 14,    \"name\": \"营销部\"}, {    \"id\": 15,    \"name\": \"行业支持部\"}, {    \"id\": 16,    \"name\": \"北京\"}, {    \"id\": 17,    \"name\": \"西北\"}, {    \"id\": 18,    \"name\": \"东北\"}, {    \"id\": 19,    \"name\": \"华中\"}, {    \"id\": 20,    \"name\": \"济南\"}, {    \"id\": 21,    \"name\": \"西安\"}];return data;",
						x:80,
						y:105,
						style:"background: none;",
						store:storeDepartment
					},
					{
						xtype:"label",
						id:"label6",
						text:"项目状态：",
						x:10,
						y:295,
						height:15
					},
					{
						xtype:"checkboxstoregroup",
						id:"chkgrpState",
						width:765,
						height:30,
						labelField:"label",
						valueField:"value",
						checkedField:"checked",
						boxFieldName:"mycheckbox",
						x:80,
						y:290,
						columns:10,
						style:"color: #005aa0;",
						items:[
							{
								xtype:"checkbox",
								id:"hwCheckbox",
								boxLabel:"立项"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox1",
								boxLabel:"需求"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox2",
								boxLabel:"设计"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox3",
								boxLabel:"研发"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox4",
								boxLabel:"测试"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox5",
								boxLabel:"维护"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox6",
								boxLabel:"培训"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox7",
								boxLabel:"暂停"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox8",
								boxLabel:"取消"
							},
							{
								xtype:"checkbox",
								id:"hwCheckbox9",
								boxLabel:"结束",
								width:97
							}
						]
					},
					{
						xtype:"vmd.dataview",
						id:"dataviewFirstParty",
						width:770,
						height:85,
						itemSelector:"li.info",
						overClass:"info-hover",
						selectedClass:"x-view-selected",
						singleSelect:true,
						multiSelect:true,
						autoScroll:true,
						tpl:"<ul>    <tpl for=\".\">        <li class=\"infoFirst\">{name}</li>        <!--<li class=\"infoFirst\">-->        <!--    <h4>{name}</h4></li>-->    </tpl></ul>",
						data:"var data = [{    \"id\": 2,    \"name\": \"全部\"}, {    \"id\": 3,    \"name\": \"东营汉威石油技术开发有限公司\"}, {    \"id\": 4,    \"name\": \"中国石油新疆油田分公司\"}, {    \"id\": 5,    \"name\": \"中国石化股份公司华北油气分公司\"}, {    \"id\": 6,    \"name\": \"滨南采油厂\"}, {    \"id\": 7,    \"name\": \"江汉信息中心\"}, {    \"id\": 8,    \"name\": \"新春采油厂\"}, {    \"id\": 9,    \"name\": \"东胜\"}, {    \"id\": 10,    \"name\": \"管理局劳资处厂\"}, {    \"id\": 11,    \"name\": \"华东分公司\"}, {    \"id\": 12,    \"name\": \"鲁胜油公司\"}];return data;",
						x:80,
						y:200,
						style:"background: none;"
					}
				]
			}
		]
		this.callParent();
		var me = this;vmd.core.moduleInit(this.items, this);
	}
})
        Ext.onReady(function () {
            Ext.create('vmd.module.MyViewport', {
                renderTo: document.body
            })


        })

      </script>
</head>
<body>
</body>
</html>
