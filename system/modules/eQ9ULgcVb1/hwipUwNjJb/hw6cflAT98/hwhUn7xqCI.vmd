{"vmdversion":"2.0.3","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"afterrender\":\"MyViewport_afterrender\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":15,\"text\":\"项目名称：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"txtProjectName\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":5,\"width\":520,\"id\":\"txtProjectName\"}},{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":40,\"text\":\"项目别名：\"}},{\"cid\":\"textfield\",\"id\":\"txtProjectAlias\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":30,\"width\":520,\"id\":\"txtProjectAlias\"}},{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"x\":316,\"y\":70,\"text\":\"所属研发中心：\"}},{\"cid\":\"label\",\"id\":\"label4\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":130,\"text\":\"项目经理：\",\"height\":20}},{\"cid\":\"label\",\"id\":\"label5\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":100,\"text\":\"主管老总：\",\"height\":20}},{\"cid\":\"label\",\"id\":\"label6\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":68,\"text\":\"所属区域：\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistDepartment\",\"layoutConfig\":{},\"userConfig\":{\"x\":400,\"y\":60,\"width\":210,\"id\":\"comlistDepartment\",\"store\":\"storeDepartment\",\"valueField\":\"id\",\"displayField\":\"name\",\"dropDownFields\":\"name\",\"queryField\":\"name\",\"selectChanged\":\"comlistDepartment_selectChanged\",\"editable\":true,\"query\":true}},{\"cid\":\"vmdComlist\",\"id\":\"comlistMister\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":90,\"width\":210,\"id\":\"comlistMister\",\"selectChanged\":\"comlistMister_selectChanged\",\"store\":\"storeMister\",\"valueField\":\"business_associate_id\",\"displayField\":\"first_name\",\"dropDownFields\":\"first_name\",\"queryField\":\"business_associate_id,first_name\",\"editable\":true,\"query\":true}},{\"cid\":\"label\",\"id\":\"label7\",\"layoutConfig\":{},\"userConfig\":{\"x\":316,\"y\":130,\"text\":\"第二项目经理：\",\"height\":20}},{\"cid\":\"vmdComlist\",\"id\":\"comlistManager\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":120,\"width\":210,\"id\":\"comlistManager\",\"selectChanged\":\"comlistManager_selectChanged\",\"store\":\"storeEmployee\",\"valueField\":\"business_associate_id\",\"displayField\":\"first_name\",\"dropDownFields\":\"first_name\",\"queryField\":\"business_associate_id,first_name\",\"editable\":true,\"query\":true}},{\"cid\":\"vmdComlist\",\"id\":\"comlistManager2\",\"layoutConfig\":{},\"userConfig\":{\"x\":400,\"y\":120,\"width\":210,\"id\":\"comlistManager2\",\"selectChanged\":\"comlistManager2_selectChanged\",\"store\":\"storeEmployee\",\"valueField\":\"business_associate_id\",\"displayField\":\"first_name\",\"dropDownFields\":\"first_name\",\"queryField\":\"business_associate_id,first_name\",\"editable\":true,\"query\":true}},{\"cid\":\"label\",\"id\":\"label8\",\"layoutConfig\":{},\"userConfig\":{\"x\":340,\"y\":100,\"text\":\"项目年度：\"}},{\"cid\":\"datefield\",\"id\":\"comlistYear\",\"layoutConfig\":{},\"userConfig\":{\"format\":\"Y\",\"width\":210,\"x\":400,\"y\":90,\"id\":\"comlistYear\",\"defaultValue\":\"today\",\"readOnly\":true}},{\"cid\":\"label\",\"id\":\"label9\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":160,\"text\":\"项目状态：\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistState\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":150,\"width\":210,\"id\":\"comlistState\",\"store\":\"storeProjectState\",\"valueField\":\"id\",\"displayField\":\"name\",\"dropDownFields\":\"name\",\"queryField\":\"id\",\"selectChanged\":\"comlistState_selectChanged\",\"editable\":false,\"query\":false}},{\"cid\":\"label\",\"id\":\"label10\",\"layoutConfig\":{},\"userConfig\":{\"x\":42,\"y\":190,\"text\":\"父项目：\",\"height\":20}},{\"cid\":\"vmdComlist\",\"id\":\"comlistProjectParent\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":180,\"width\":210,\"id\":\"comlistProjectParent\",\"store\":\"storeProjects\",\"valueField\":\"project_id\",\"displayField\":\"project_name\",\"dropDownFields\":\"project_name\",\"queryField\":\"project_name\",\"selectChanged\":\"comlistProjectParent_selectChanged\",\"editable\":true,\"query\":true}},{\"cid\":\"vmdComlist\",\"id\":\"comlistProjectContinue\",\"layoutConfig\":{},\"userConfig\":{\"x\":400,\"y\":180,\"width\":210,\"id\":\"comlistProjectContinue\",\"store\":\"storeProjects\",\"valueField\":\"project_id\",\"displayField\":\"project_name\",\"dropDownFields\":\"project_name\",\"queryField\":\"project_name\",\"selectChanged\":\"comlistProjectContinue_selectChanged\",\"editable\":true,\"query\":true}},{\"cid\":\"label\",\"id\":\"label11\",\"layoutConfig\":{},\"userConfig\":{\"x\":340,\"y\":190,\"text\":\"延续项目：\"}},{\"cid\":\"label\",\"id\":\"label12\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":220,\"text\":\"甲方要求：\"}},{\"cid\":\"label\",\"id\":\"label13\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":250,\"text\":\"预计时间：\"}},{\"cid\":\"datefield\",\"id\":\"dateStart\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":210,\"width\":250,\"id\":\"dateStart\",\"readOnly\":true,\"maxValue\":\"\",\"defaultValue\":\"\",\"maxText\":\"\",\"minValue\":\"\",\"showToday\":false,\"select\":\"dateStart_select\"}},{\"cid\":\"datefield\",\"id\":\"dateEnd\",\"layoutConfig\":{},\"userConfig\":{\"x\":360,\"y\":210,\"width\":250,\"id\":\"dateEnd\",\"readOnly\":true,\"maxValue\":\"\",\"showToday\":false}},{\"cid\":\"label\",\"id\":\"label14\",\"layoutConfig\":{},\"userConfig\":{\"x\":340,\"y\":220,\"text\":\"--\",\"width\":20}},{\"cid\":\"datefield\",\"id\":\"dateEstStart\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":240,\"width\":250,\"id\":\"dateEstStart\",\"readOnly\":true,\"select\":\"dateEstStart_select\"}},{\"cid\":\"datefield\",\"id\":\"dateEstEnd\",\"layoutConfig\":{},\"userConfig\":{\"x\":360,\"y\":240,\"width\":250,\"id\":\"dateEstEnd\",\"readOnly\":true}},{\"cid\":\"label\",\"id\":\"label15\",\"layoutConfig\":{},\"userConfig\":{\"x\":340,\"y\":250,\"text\":\"--\",\"width\":20}},{\"cid\":\"label\",\"id\":\"label3\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":280,\"text\":\"预计投入：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"txtEstTime\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":270,\"width\":190,\"id\":\"txtEstTime\"}},{\"cid\":\"label\",\"id\":\"label16\",\"layoutConfig\":{},\"userConfig\":{\"x\":340,\"y\":280,\"text\":\"项目奖金：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"txtBonus\",\"layoutConfig\":{},\"userConfig\":{\"x\":400,\"y\":270,\"width\":190,\"id\":\"txtBonus\"}},{\"cid\":\"label\",\"id\":\"label17\",\"layoutConfig\":{},\"userConfig\":{\"x\":280,\"y\":280,\"text\":\"天\",\"height\":20}},{\"cid\":\"label\",\"id\":\"label18\",\"layoutConfig\":{},\"userConfig\":{\"x\":590,\"y\":280,\"text\":\"元\",\"height\":20,\"width\":20}},{\"cid\":\"label\",\"id\":\"label19\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":310,\"text\":\"甲方单位：\",\"height\":20}},{\"cid\":\"label\",\"id\":\"label20\",\"layoutConfig\":{},\"userConfig\":{\"x\":328,\"y\":310,\"text\":\"甲方联系人：\",\"height\":20,\"width\":80}},{\"cid\":\"vmdComlist\",\"id\":\"comlistFirstContact\",\"layoutConfig\":{},\"userConfig\":{\"x\":400,\"y\":300,\"width\":210,\"id\":\"comlistFirstContact\",\"store\":\"storeFirstPartyContact\",\"valueField\":\"id\",\"displayField\":\"name\",\"dropDownFields\":\"name\",\"queryField\":\"name\",\"selectChanged\":\"comlistFirstContact_selectChanged\",\"editable\":true,\"query\":true}},{\"cid\":\"checkbox\",\"id\":\"chkInternal\",\"layoutConfig\":{},\"userConfig\":{\"x\":540,\"y\":330,\"boxLabel\":\"内部项目\",\"id\":\"chkInternal\"}},{\"cid\":\"label\",\"id\":\"label21\",\"layoutConfig\":{},\"userConfig\":{\"x\":340,\"y\":160,\"text\":\"技术类型：\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistTechnologyType\",\"layoutConfig\":{},\"userConfig\":{\"x\":400,\"y\":150,\"width\":210,\"id\":\"comlistTechnologyType\",\"store\":\"storeTechnologyType\",\"valueField\":\"id\",\"displayField\":\"name\",\"dropDownFields\":\"name\",\"queryField\":\"id,name\",\"selectChanged\":\"comlistTechnologyType_selectChanged\",\"editable\":false}},{\"cid\":\"tabpanel\",\"id\":\"tabProject\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":360,\"width\":580,\"height\":190,\"id\":\"tabProject\",\"activeTab\":0},\"cn\":[{\"cid\":\"panel\",\"id\":\"panelDescription\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"项目概述\",\"width\":624,\"height\":173,\"id\":\"panelDescription\"},\"cn\":[{\"cid\":\"textarea\",\"id\":\"txtAreaDescription\",\"layoutConfig\":{},\"userConfig\":{\"width\":579,\"height\":154,\"id\":\"txtAreaDescription\"}}]},{\"cid\":\"panel\",\"id\":\"panelDoc\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"所需文档\",\"id\":\"panelDoc\"},\"cn\":[{\"cid\":\"checkboxgroup\",\"id\":\"chkgrpDocs\",\"layoutConfig\":{},\"userConfig\":{\"width\":581,\"height\":154,\"id\":\"chkgrpDocs\"}}]}]},{\"cid\":\"vmdButton\",\"id\":\"btnOk\",\"layoutConfig\":{},\"userConfig\":{\"x\":460,\"y\":560,\"style\":\"background-color: rgb(64, 158, 255);    color: rgb(255, 255, 255);    font-size: 14px;\",\"text\":\"确定\",\"width\":70,\"id\":\"btnOk\",\"click\":\"btnOk_click\"}},{\"cid\":\"vmdButton\",\"id\":\"btnCancle\",\"layoutConfig\":{},\"userConfig\":{\"x\":540,\"y\":560,\"text\":\"取消\",\"width\":70,\"style\":\"background-color: rgb(201, 201, 201);    color: rgb(0, 0, 0);    font-size: 14px;\",\"id\":\"btnCancle\",\"click\":\"btnCancle_click\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistRegion\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":60,\"width\":210,\"readOnly\":false,\"store\":\"storeRegion\",\"id\":\"comlistRegion\",\"valueField\":\"id\",\"displayField\":\"name\",\"dropDownFields\":\"name\",\"queryField\":\"name,alias\",\"selectChanged\":\"comlistRegion_selectChanged\",\"editable\":true,\"query\":true}},{\"cid\":\"vmdComlist\",\"id\":\"comlistFirstParty\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":300,\"width\":210,\"id\":\"comlistFirstParty\",\"store\":\"storeFirstParty\",\"valueField\":\"id\",\"displayField\":\"abbreviation\",\"dropDownFields\":\"abbreviation\",\"queryField\":\"abbreviation\",\"selectChanged\":\"comlistFirstParty_selectChanged\",\"editable\":true,\"query\":true}}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"vmdJsonStore\",\"id\":\"storeRegion\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeRegion\",\"storeConfig\":\"{\\\"id\\\":\\\"l1nIkt29Cv\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/projectInfo/otherinfo/regionInfo\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"区域信息\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"alias\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"alias\"},\"name\":\"alias\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeDepartment\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeDepartment\",\"storeConfig\":\"{\\\"id\\\":\\\"TG0ZNlw8LG\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/projectInfo/otherinfo/department\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"部门信息查询\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeProjects\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeProjects\",\"storeConfig\":\"{\\\"id\\\":\\\"l0HJ6ZysTf\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/projectInfo/projectallnew\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"所有项目1\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"project_id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"project_name\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"project_id\"},\"name\":\"project_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"project_name\"},\"name\":\"project_name\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeProjectState\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeProjectState\",\"storeConfig\":\"{\\\"id\\\":\\\"l0H6K0clt5\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/projectInfo/otherinfo/projectstate\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"项目状态\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeTechnologyType\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeTechnologyType\",\"storeConfig\":\"{\\\"id\\\":\\\"l0ILo6JFjJ\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/projectInfo/otherinfo/technologytype\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"技术类型\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeFirstParty\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeFirstParty\",\"storeConfig\":\"{\\\"id\\\":\\\"TG044M5AVm\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/projectInfo/otherinfo/firstparty\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"甲方单位查询\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"abbreviation\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"abbreviation\"},\"name\":\"abbreviation\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeFirstPartyContact\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeFirstPartyContact\",\"storeConfig\":\"{\\\"id\\\":\\\"l0IXx6bJGC\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/projectInfo/otherinfo/firstpartycontact\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"甲方联系人\\\",\\\"getMethods\\\":[{\\\"id\\\":\\\"firstpartyid\\\",\\\"value1\\\":\\\"return hwvarFirstPartyId.getValue();\\\",\\\"value2\\\":\\\"\\\"}],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeMister\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeMister\",\"storeConfig\":\"{\\\"id\\\":\\\"l0Jyl1nMHH\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/BUSINESSASSOCIATE/mister\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"查询主管老总\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"business_associate_id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"first_name\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"business_associate_id\"},\"name\":\"business_associate_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"first_name\"},\"name\":\"first_name\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"storeEmployee\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"storeEmployee\",\"storeConfig\":\"{\\\"id\\\":\\\"l0JzcNr6GW\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"DataServiceWorkSpace/BUSINESSASSOCIATE/employee\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"查询员工\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"business_associate_id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"first_name\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"business_associate_id\"},\"name\":\"business_associate_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"first_name\"},\"name\":\"first_name\"}]}]},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"vmdVariable\",\"id\":\"hwvarFirstPartyId\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"hwvarFirstPartyId\"}},{\"cid\":\"vmdVariable\",\"id\":\"hwvarRegion\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"hwvarRegion\",\"value\":\"全部\"}}]}]}","vmdevents":"login = Ext.util.Cookies.get('userName');\nvar storeProjectYear = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    fields: ['valueField', 'displayField', 'dropDownFields', 'queryField']\n});\n\nfunction btnOk_click(sender, e) {\n    var name = txtProjectName.getValue();\n    var alias = txtProjectAlias.getValue();\n\n    // var region = \"\";\n    // var selrec = hwDataViewRegion.getSelectedRecords();\n    // if(selrec.length > 0) {\n    //     region = selrec[0].data.name;\n    // }\n    var ifInternal = \"0\";\n    if(chkInternal.checked) {\n        ifInternal = \"1\";\n    }\n    if(name == '') {\n        Ext.Msg.alert(\"提示\", \"请输入项目名称！\");\n        return;\n    }\n    var regex = /^[0-9]*$/;\n    var region = 0,\n        department = '',\n        mister = '',\n        manager = '',\n        manager2 = '',\n        state = '',\n        projectParent = '',\n        projectContinue = '',\n        firstCustomerId = '',\n        firstContact = '',\n        techType = '';\n    if(comlistRegion.selectedData) {\n        region = comlistRegion.selectedData.id\n    }\n    if(comlistDepartment.selectedData) {\n        department = comlistDepartment.selectedData.id\n    }\n    if(comlistMister.selectedData) {\n        mister = comlistMister.selectedData.business_associate_id\n    }\n    if(comlistManager.selectedData) {\n        manager = comlistManager.selectedData.business_associate_id\n    }\n    if(comlistManager2.selectedData) {\n        manager2 = comlistManager2.selectedData.business_associate_id\n    }\n    if(comlistState.selectedData) {\n        state = comlistState.selectedData.id\n    }\n    if(comlistProjectParent.selectedData) {\n        projectParent = comlistProjectParent.selectedData.project_id\n    }\n    if(comlistProjectContinue.selectedData) {\n        projectContinue = comlistProjectContinue.selectedData.project_id\n    }\n    if(comlistFirstParty.selectedData) {\n        firstCustomerId = comlistFirstParty.selectedData.id\n    }\n    if(comlistFirstContact.selectedData) {\n        firstContact = comlistFirstContact.selectedData.id\n    }\n    if(comlistTechnologyType.selectedData) {\n        techType = comlistTechnologyType.selectedData.id\n    }\n    if(txtEstTime.getValue() != '' && !regex.test(txtEstTime.getValue())) {\n        Ext.Msg.alert(\"提示\", \"请输入正确的天数！\");\n        return;\n    }\n    if(txtBonus.getValue() != '' && !regex.test(txtBonus.getValue())) {\n        Ext.Msg.alert(\"提示\", \"请输入正确的金额！\");\n        return;\n    }\n    var objProject = {\n        \"name\": name,\n        \"alias\": alias,\n        \"region\": region,\n        \"department\": department,\n        \"mister\": mister,\n        \"manager\": manager,\n        \"manager2\": manager2,\n        \"year\": comlistYear.getValue().toLocaleDateString().slice(0, 4),\n        \"state\": state,\n        \"projectParent\": projectParent, // 父项目显示名称，记录项目ID\n        \"projectContinue\": projectContinue, // 延续项目显示名称，记录项目ID\n        \"dateCustomerStart\": dateStart.getValue(),\n        \"dateCustomerEnd\": dateEnd.getValue(),\n        \"dateEstimateStart\": dateEstStart.getValue(),\n        \"dateEstimateEnd\": dateEstEnd.getValue(),\n        \"estSpend\": txtEstTime.getValue(),\n        \"bonus\": txtBonus.getValue(),\n        // 甲方单位需要显示名称，记录ID\n        \"firstCustomerId\": firstCustomerId,\n        \"firstContact\": firstContact,\n        \"techType\": techType,\n        \"bInternal\": ifInternal,\n        \"remark\": txtAreaDescription.getValue()\n            // 所需文档\n            // var arrData = [];\n            // for(var k = 0; k < chk.items.items.length; k++) {\n            //     if(chkgrpDocs.items.items[k].checked) {\n            //         var objWorkflow = {\n            //             'projectid': id,\n            //             'servicecategoryid': chkgrpDocs.items.items[k].inputValue,\n            //             'type': 0\n            //         };\n            //         arrData.push(objWorkflow);\n            //     }\n            // }\n    }\n\n    // MyGridProject.newProject(objProject);\n    // parent.MyGridProject.newProject(objProject);\n    newProject(objProject)\n}\n\nfunction btnCancle_click(sender, e) {\n\n    parent.formNewProject.close();\n}\n\nfunction comlistFirstParty_selectChanged(sender, combo, record, index) {\n\n    comlistFirstContact.setValue(\"\");\n    hwvarFirstPartyId.setValue(record.data.id);\n    comlistFirstParty.selectedData = record.data;\n    storeFirstPartyContact.toRefresh();\n}\n\nfunction comlistRegion_selectChanged(sender, combo, record, index) {\n\n    comlistRegion.selectedData = record.data;\n}\n\nfunction comlistDepartment_selectChanged(sender, combo, record, index) {\n\n    comlistDepartment.selectedData = record.data;\n}\n\nfunction comlistMister_selectChanged(sender, combo, record, index) {\n\n    comlistMister.selectedData = record.data;\n}\n\nfunction comlistManager_selectChanged(sender, combo, record, index) {\n\n    comlistManager.selectedData = record.data;\n}\n\nfunction comlistManager2_selectChanged(sender, combo, record, index) {\n\n    comlistManager2.selectedData = record.data;\n}\n\nfunction comlistState_selectChanged(sender, combo, record, index) {\n\n    comlistState.selectedData = record.data;\n}\n\nfunction comlistTechnologyType_selectChanged(sender, combo, record, index) {\n\n    comlistTechnologyType.selectedData = record.data;\n}\n\nfunction comlistProjectParent_selectChanged(sender, combo, record, index) {\n\n    comlistProjectParent.selectedData = record.data;\n}\n\nfunction comlistProjectContinue_selectChanged(sender, combo, record, index) {\n\n    comlistProjectContinue.selectedData = record.data;\n}\n\nfunction comlistFirstContact_selectChanged(sender, combo, record, index) {\n\n    comlistFirstContact.selectedData = record.data;\n}\n\nfunction MyViewport_afterrender(sender) {\n    workspaceId = getUrlParam(\"workspaceid\");\n    txtEstTime.regex = /^[0-9]*$/;\n    txtEstTime.regexText = '请输入数字';\n    txtBonus.regex = /^[0-9]*$/;\n    txtBonus.regexText = '请输入数字';\n\n}\n// 创建新项目\nvar newProject = function(jsonInfo) {\n    var projectId = vmd.util.guid();\n    var aliasId = vmd.util.guid();\n    var changedBy = login;\n    var changedDate = new Date().toLocaleString();\n    var createdBy = login;\n    var createdDate = new Date().toLocaleString();\n\n    // 保存到数据库\n    hwDas.add(\n        \"DataServiceWorkSpace/projectInfo/ProjectBaseInfo\", {}, {}, [{\n            'workspaceid': workspaceId,\n            'projectid': projectId,\n            'name': jsonInfo.name,\n            'alias': jsonInfo.alias,\n            'aliasid': aliasId,\n            'changeddate': changedDate,\n            'changedby': changedBy,\n            'createddate': createdDate,\n            'createdby': createdBy,\n            'region': jsonInfo.region,\n            'department': jsonInfo.department,\n            'mister': jsonInfo.mister,\n            'manager': jsonInfo.manager,\n            'manager2': jsonInfo.manager2,\n            'year': jsonInfo.year,\n            'state': jsonInfo.state,\n            'projectparent': jsonInfo.projectParent,\n            'projectcontinue': jsonInfo.projectContinue,\n            'datecustomerstart': jsonInfo.dateCustomerStart,\n            'datecustomerend': jsonInfo.dateCustomerEnd,\n            'dateestimatestart': jsonInfo.dateEstimateStart,\n            'dateestimateend': jsonInfo.dateEstimateEnd,\n            'estspend': jsonInfo.estspend,\n            'bonus': jsonInfo.bonus,\n            'firstcustomerid': jsonInfo.firstCustomerId,\n            'firstcontact': jsonInfo.firstContact,\n            'techtype': jsonInfo.techType,\n            'internal': jsonInfo.bInternal,\n            'description': jsonInfo.remark\n        }],\n        // hwDas.add(\n        //     \"DataServiceWorkSpace/projectInfo/ProjectBaseInfo\", {}, {}, [{\n        //         'workspaceid': workspaceId,\n        //         'projectid': projectId,\n        //         'name': name,\n        //         'alias': alias,\n        //         'aliasid': aliasId,\n        //         'changeddate': changedDate,\n        //         'changedby': changedBy,\n        //         'createddate': createdDate,\n        //         'createdby': createdBy,\n        //         'description': remark\n        //     }],\n        function(result) {\n\n            Tips.tips(\"保存成功！\", \"success\");\n            parent.getProject(workspaceId);\n            parent.formNewProject.close();\n            // 刷新项目列表数据集（或调用数据集对象添加一条记录）\n            // storeProjectList.toRefresh();\n\n        },\n        function(msg) {\n            Tips.tips(\"保存失败！\", \"error\");\n            // Ext.Msg.alert(\"提示\", \"添加服务地址失败！\");\n        }\n    );\n}\n\nfunction dateStart_select(sender) {\n    if(dateStart.getValue() != '') {\n        dateEnd.setMinValue(dateStart.getValue())\n    }\n}\n\nfunction dateEstStart_select(sender) {\n    if(dateEstStart.getValue() != '') {\n        dateEstEnd.setMinValue(dateEstStart.getValue())\n    }\n}","vmdcss":".info {\n    float: left;\n    padding: 6px 0px 0px 0px;\n    margin: 0px ;\n    text-align: center;\n    color: #333;\n    height: 20px;\n    width: 52px;\n    overflow: hidden;\n    border-top: 1px solid transparent;\n    cursor: pointer\n}","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}