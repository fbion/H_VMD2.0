{"vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":10,\"text\":\"项目名称：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"txtProjectName\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":0,\"width\":520,\"id\":\"txtProjectName\"}},{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":40,\"text\":\"项目别名：\"}},{\"cid\":\"textfield\",\"id\":\"txtProjectAlias\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":30,\"width\":520,\"id\":\"txtProjectAlias\"}},{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"x\":6,\"y\":100,\"text\":\"所属研发中心：\"}},{\"cid\":\"label\",\"id\":\"label4\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":130,\"text\":\"项目经理：\",\"height\":20}},{\"cid\":\"label\",\"id\":\"label5\",\"layoutConfig\":{},\"userConfig\":{\"x\":320,\"y\":100,\"text\":\"主管老总：\",\"height\":20}},{\"cid\":\"label\",\"id\":\"label6\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":68,\"text\":\"所属区域：\"}},{\"cid\":\"vmdDataView\",\"id\":\"hwDataViewRegion\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":60,\"width\":520,\"height\":30,\"tpl\":\"<ul>\\n    <tpl for=\\\".\\\">\\n        <li class=\\\"info\\\">\\n            <h4>{name}</h4></li>\\n    </tpl>\\n</ul>\",\"data\":\"var data = [{\\n    \\\"id\\\": 1,\\n    \\\"name\\\": \\\"胜利\\\"\\n}, {\\n    \\\"id\\\": 2,\\n    \\\"name\\\": \\\"西北\\\"\\n}, {\\n    \\\"id\\\": 3,\\n    \\\"name\\\": \\\"北京\\\"\\n}, {\\n    \\\"id\\\": 4,\\n    \\\"name\\\": \\\"华东\\\"\\n}, {\\n    \\\"id\\\": 5,\\n    \\\"name\\\": \\\"东北\\\"\\n}, {\\n    \\\"id\\\": 6,\\n    \\\"name\\\": \\\"中原\\\"\\n}, {\\n    \\\"id\\\": 7,\\n    \\\"name\\\": \\\"西南\\\"\\n}, {\\n    \\\"id\\\": 8,\\n    \\\"name\\\": \\\"华中\\\"\\n}, {\\n    \\\"id\\\": 9,\\n    \\\"name\\\": \\\"华北\\\"\\n}, {\\n    \\\"id\\\": 10,\\n    \\\"name\\\": \\\"上海\\\"\\n}];\\nreturn data;\",\"autoHeight\":false,\"itemSelector\":\".info\",\"id\":\"hwDataViewRegion\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistDepartment\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":90,\"width\":200,\"id\":\"comlistDepartment\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistMister\",\"layoutConfig\":{},\"userConfig\":{\"x\":380,\"y\":90,\"width\":230,\"id\":\"comlistMister\"}},{\"cid\":\"label\",\"id\":\"label7\",\"layoutConfig\":{},\"userConfig\":{\"x\":296,\"y\":130,\"text\":\"第二项目经理：\",\"height\":20}},{\"cid\":\"vmdComlist\",\"id\":\"comlistManager\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":120,\"width\":200,\"id\":\"comlistManager\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistManager2\",\"layoutConfig\":{},\"userConfig\":{\"x\":380,\"y\":120,\"width\":230,\"id\":\"comlistManager2\"}},{\"cid\":\"label\",\"id\":\"label8\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":160,\"text\":\"项目年度：\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistYear\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":150,\"width\":200,\"id\":\"comlistYear\"}},{\"cid\":\"label\",\"id\":\"label9\",\"layoutConfig\":{},\"userConfig\":{\"x\":320,\"y\":160,\"text\":\"项目状态：\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistState\",\"layoutConfig\":{},\"userConfig\":{\"x\":380,\"y\":150,\"width\":230,\"id\":\"comlistState\"}},{\"cid\":\"label\",\"id\":\"label10\",\"layoutConfig\":{},\"userConfig\":{\"x\":42,\"y\":190,\"text\":\"父项目：\",\"height\":20}},{\"cid\":\"vmdComlist\",\"id\":\"comlistProjectParent\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":180,\"width\":200,\"id\":\"comlistProjectParent\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistProjectContinue\",\"layoutConfig\":{},\"userConfig\":{\"x\":380,\"y\":180,\"width\":230,\"id\":\"comlistProjectContinue\"}},{\"cid\":\"label\",\"id\":\"label11\",\"layoutConfig\":{},\"userConfig\":{\"x\":320,\"y\":190,\"text\":\"延续项目：\"}},{\"cid\":\"label\",\"id\":\"label12\",\"layoutConfig\":{},\"userConfig\":{\"x\":6,\"y\":220,\"text\":\"甲方要求时间：\"}},{\"cid\":\"label\",\"id\":\"label13\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":250,\"text\":\"预计时间：\"}},{\"cid\":\"datefield\",\"id\":\"dateStart\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":210,\"width\":220,\"id\":\"dateStart\"}},{\"cid\":\"datefield\",\"id\":\"dateEnd\",\"layoutConfig\":{},\"userConfig\":{\"x\":330,\"y\":210,\"width\":280,\"id\":\"dateEnd\"}},{\"cid\":\"label\",\"id\":\"label14\",\"layoutConfig\":{},\"userConfig\":{\"x\":310,\"y\":220,\"text\":\"--\",\"width\":20}},{\"cid\":\"datefield\",\"id\":\"dateEstStart\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":240,\"width\":220,\"id\":\"dateEstStart\"}},{\"cid\":\"datefield\",\"id\":\"dateEstEnd\",\"layoutConfig\":{},\"userConfig\":{\"x\":330,\"y\":240,\"width\":280,\"id\":\"dateEstEnd\"}},{\"cid\":\"label\",\"id\":\"label15\",\"layoutConfig\":{},\"userConfig\":{\"x\":310,\"y\":250,\"text\":\"--\"}},{\"cid\":\"label\",\"id\":\"label3\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":280,\"text\":\"预计投入：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"txtEstTime\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":270,\"width\":190,\"id\":\"txtEstTime\"}},{\"cid\":\"label\",\"id\":\"label16\",\"layoutConfig\":{},\"userConfig\":{\"x\":320,\"y\":280,\"text\":\"项目奖金：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"txtBonus\",\"layoutConfig\":{},\"userConfig\":{\"x\":380,\"y\":270,\"width\":210,\"id\":\"txtBonus\"}},{\"cid\":\"label\",\"id\":\"label17\",\"layoutConfig\":{},\"userConfig\":{\"x\":280,\"y\":280,\"text\":\"天\",\"height\":20}},{\"cid\":\"label\",\"id\":\"label18\",\"layoutConfig\":{},\"userConfig\":{\"x\":590,\"y\":280,\"text\":\"元\",\"height\":20,\"width\":20}},{\"cid\":\"label\",\"id\":\"label19\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":310,\"text\":\"甲方单位：\",\"height\":20}},{\"cid\":\"textfield\",\"id\":\"txtFirstCustomer\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":300,\"width\":170,\"readOnly\":true,\"id\":\"txtFirstCustomer\"}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"x\":260,\"y\":300,\"text\":\"...\",\"type\":\"text\",\"width\":30}},{\"cid\":\"label\",\"id\":\"label20\",\"layoutConfig\":{},\"userConfig\":{\"x\":308,\"y\":310,\"text\":\"甲方联系人：\",\"height\":20,\"width\":80}},{\"cid\":\"vmdComlist\",\"id\":\"comlistFirstContact\",\"layoutConfig\":{},\"userConfig\":{\"x\":380,\"y\":300,\"width\":230,\"id\":\"comlistFirstContact\"}},{\"cid\":\"checkbox\",\"id\":\"chkInternal\",\"layoutConfig\":{},\"userConfig\":{\"x\":540,\"y\":330,\"boxLabel\":\"内部项目\",\"id\":\"chkInternal\"}},{\"cid\":\"label\",\"id\":\"label21\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":340,\"text\":\"技术类型：\"}},{\"cid\":\"vmdComlist\",\"id\":\"comlistTechnologyType\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":330,\"width\":200,\"id\":\"comlistTechnologyType\"}},{\"cid\":\"tabpanel\",\"id\":\"tabProject\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":360,\"width\":580,\"height\":190,\"id\":\"tabProject\",\"activeTab\":0},\"cn\":[{\"cid\":\"panel\",\"id\":\"panelDescription\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"项目概述\",\"width\":624,\"height\":173,\"id\":\"panelDescription\"},\"cn\":[{\"cid\":\"textarea\",\"id\":\"txtAreaDescription\",\"layoutConfig\":{},\"userConfig\":{\"width\":579,\"height\":154,\"id\":\"txtAreaDescription\"}}]},{\"cid\":\"panel\",\"id\":\"panelDoc\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"所需文档\",\"id\":\"panelDoc\"},\"cn\":[{\"cid\":\"checkboxgroup\",\"id\":\"chkgrpDocs\",\"layoutConfig\":{},\"userConfig\":{\"width\":581,\"height\":154,\"id\":\"chkgrpDocs\"}}]}]},{\"cid\":\"vmdButton\",\"id\":\"btnOk\",\"layoutConfig\":{},\"userConfig\":{\"x\":460,\"y\":560,\"style\":\"background-color: rgb(64, 158, 255);    color: rgb(255, 255, 255);    font-size: 14px;\",\"text\":\"确定\",\"width\":70,\"id\":\"btnOk\",\"click\":\"btnOk_click\"}},{\"cid\":\"vmdButton\",\"id\":\"btnCancle\",\"layoutConfig\":{},\"userConfig\":{\"x\":540,\"y\":560,\"text\":\"取消\",\"width\":70,\"style\":\"background-color: rgb(201, 201, 201);    color: rgb(0, 0, 0);    font-size: 14px;\",\"id\":\"btnCancle\",\"click\":\"btnCancle_click\"}}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"function btnOk_click(sender, e) {\n\n    var name = txtProjectName.getValue();\n    var alias = txtProjectAlias.getValue();\n\n    var region = \"\";\n    var selrec = hwDataViewRegion.getSelectedRecords();\n    if(selrec.length > 0) {\n        region = selrec[0].data.name;\n    }\n\n    var objProject = {\n        \"name\": name,\n        \"alias\": alias,\n        \"region\": region,\n        \"department\": comlistDepartment.getValue(),\n        \"mister\": comlistMister.getValue(),\n        \"manager\": comlistManager.getValue(),\n        \"manager2\": comlistManager2.getValue(),\n        \"year\": comlistYear.getValue(),\n        \"state\": comlistState.getValue(),\n        \"projectParent\": comlistProjectParent.getValue(), // 父项目显示名称，记录项目ID\n        \"projectContinue\": comlistProjectContinue.getValue(), // 延续项目显示名称，记录项目ID\n        \"dateCustomerStart\": dateStart.getValue(),\n        \"dateCustomerEnd\": dateEnd.getValue(),\n        \"dateEstimateStart\": dateEstStart.getValue(),\n        \"dateEstimateEnd\": dateEstEnd.getValue(),\n        \"estSpend\": txtEstTime.getValue(),\n        \"bonus\": txtBonus.getValue(),\n        // 甲方单位需要显示名称，记录ID\n        \"firstCustomerId\": txtFirstCustomer.firstCustomerId,\n        \"firstContact\": comlistFirstContact.getValue(),\n        \"techType\": comlistTechnologyType.getValue(),\n        \"bInternal\": chkInternal.checked,\n        \"remark\": txtAreaDescription.getValue()\n        // 所需文档\n        // var arrData = [];\n        // for(var k = 0; k < chk.items.items.length; k++) {\n        //     if(chkgrpDocs.items.items[k].checked) {\n        //         var objWorkflow = {\n        //             'projectid': id,\n        //             'servicecategoryid': chkgrpDocs.items.items[k].inputValue,\n        //             'type': 0\n        //         };\n        //         arrData.push(objWorkflow);\n        //     }\n        // }\n    }\n\n    debugger\n    // MyGridProject.newProject(objProject);\n    parent.MyGridProject.newProject(objProject);\n    parent.formNewProject.close();\n}\n\nfunction btnCancle_click(sender,e){\n\n    parent.formNewProject.close();\n}","vmdcss":".info {\n    float: left;\n    padding: 6px 0px 0px 0px;\n    margin: 0px ;\n    text-align: center;\n    color: #333;\n    height: 20px;\n    width: 52px;\n    overflow: hidden;\n    border-top: 1px solid transparent;\n    cursor: pointer\n}","vmdprops":"\"\"","type":"module"}