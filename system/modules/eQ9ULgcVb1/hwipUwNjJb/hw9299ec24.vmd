{"vmdversion":"vmd2.0.5.200306","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"beforerender\":\"MyViewport_beforerender\"},\"cn\":[{\"cid\":\"vmd.ux.TabProjectInfo\",\"id\":\"TabProjectInfo\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":0,\"reginfo_store\":\"store\",\"reginfo_combostore\":\"ptcomlist\"}},{\"cid\":\"vmdButton\",\"id\":\"btnSave\",\"layoutConfig\":{},\"userConfig\":{\"x\":460,\"y\":430,\"text\":\"保存\",\"id\":\"btnSave\",\"width\":70,\"style\":\"background-color: rgb(64, 158, 255);    color: rgb(255, 255, 255);    font-size: 14px;\",\"click\":\"btnSave_click\"}},{\"cid\":\"vmdButton\",\"id\":\"btnClose\",\"layoutConfig\":{},\"userConfig\":{\"x\":540,\"y\":430,\"id\":\"btnClose\",\"text\":\"关闭\",\"width\":70,\"style\":\"background-color: rgb(201, 201, 201);    color: rgb(0, 0, 0);    font-size: 14px;\",\"click\":\"btnClose_click\"}}]},{\"cid\":\"vmddataset\",\"id\":\"数据\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"var objId = \"\",\n    workspaceId = '';\n    if(parent &&parent.projectInfo)\n    vmd.projectInfo=parent.vmd.projectInfo\n    if(parent &&parent.workspace)\n    vmd.workspace=parent.vmd.workspace\n\nfunction btnSave_click(sender, e) {\n    // 修改的工区名称需要同步到树节点中\n    var projectName = TabProjectInfo.iGetName();\n    // 设置当前选中树节点的项目名称\n    // parent.treeProjects.projectConfig(projectName);\n    parent.btnProjectName.setText(projectName);\n    TabProjectInfo.iSaveData(function(tabIndex) {\n\n        if(parent) {\n            if(0 == tabIndex) {\n                // parent.getProject(workspaceId);\n            } else if(1 == tabIndex) {\n                parent.reloadWorkflowCategory();\n            } else if(2 == tabIndex) {\n                parent.reloadDataServiceCategory();\n            }\n        }\n         var s = new vmd.proxy.Log();\n        s.save(\"项目信息配置\", getUrlParam(\"id\"), Ext.util.Cookies.get('userName') + \"在\" + Ext.Date.dateFormat(new Date(), 'Y-m-d H:i:s') + \"修改了\" + projectName + \"项目的配置信息\", \"项目\", function() {\n            // alert(\"保存成功了！\")\n        }, function() {\n            console.log(\"日志报存失败了！\");\n        })\n        // if(0 == tabIndex) {\n        //     parent.getProject(workspaceId);\n        // }\n        // else if(1 == tabIndex) {\n        //      parent.getWorkflowCategory();\n        // } else if(2 == tabIndex) {\n        //     parent.getDataServiceCategory();\n        // }\n    });\n\n}\n\nfunction btnClose_click(sender, e) {\n    // parent.getWorkflowCategory();\n    // parent.getDataServiceCategory();\n    parent.formProConfig.close();\n}\n\nfunction MyViewport_beforerender(sender) {\n    objId = getUrlParam(\"id\");\n    workspaceId = getUrlParam(\"workId\");\n    TabProjectInfo.iSetId(objId);\n    TabProjectInfo.iSetWorkSpaceId(workspaceId);\n    TabProjectInfo.iSetIfDataLoaded(false);\n    // TabProjectInfo.iSetApplyType(1);\n}\n\nfunction ptcomlist_load(sender, records, options) {\n   \n}","vmdcss":"","vmdprops":"\"\"","type":"module","vmdcmpdeps":[],"vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"project.config.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}