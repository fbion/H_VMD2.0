{"vmdversion":"2.0.3.0907","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\"},\"cn\":[{\"cid\":\"vmd.ux.PrintConfig\",\"id\":\"PrintConfig\",\"layoutConfig\":{},\"userConfig\":{\"x\":70,\"y\":20,\"afterrender\":\"PrintConfig_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"x\":510,\"y\":80,\"text\":\"传值测试\",\"click\":\"button_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"x\":510,\"y\":130,\"text\":\"取值测试\",\"click\":\"button1_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button2\",\"layoutConfig\":{},\"userConfig\":{\"x\":510,\"y\":180,\"text\":\"clear\",\"click\":\"button2_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button3\",\"layoutConfig\":{},\"userConfig\":{\"x\":510,\"y\":230,\"text\":\"JSON串\",\"click\":\"button3_click\"}}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"var page = this;\r\n\r\nfunction printSetting() {\r\n    this.printInner = {\r\n            id: \"printInner\",\r\n            value: \"false\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.printBack = {\r\n            id: \"printBack\",\r\n            value: \"false\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.exportBack = {\r\n            id: \"exportBack\",\r\n            value: \"false\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.sx = {\r\n            id: \"sx\",\r\n            value: \"false\",\r\n            type: \"CheckBox\"\r\n        }\r\n\r\n\r\n    //清空属性\r\n    this.clearInfo = function() {\r\n        this.printInner.value = \"false\";\r\n        this.printBack.value = \"false\";\r\n        this.exportBack.value = \"false\";\r\n        this.sx.value = \"false\";\r\n    };\r\n\r\n    //设置值\r\n    this.setPrintInfo = function(info, cell) {\r\n        this.printInner.value = info.printInner.value;\r\n        this.printBack.value = info.printBack.value;\r\n        this.exportBack.value = info.exportBack.value;\r\n        this.sx.value = info.sx.value;\r\n    };\r\n\r\n    // 根据id设置相应属性的值\r\n    this.setCellInfos = function(id, value) {\r\n        var c = this.getInfoByID(id);\r\n        if(c) {\r\n            if(c.type == \"Text\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"CheckBox\") {\r\n                // c.checked = value;\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"ComboBox\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"compound\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"comlist\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"radiostoregroup\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"ColorSelect\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"LineStyle\") {\r\n                c.value = value;\r\n            }\r\n        }\r\n    };\r\n\r\n    //通过id获取属性\r\n    this.getInfoByID = function(id) {\r\n        if(this.printInner.id == id) {\r\n            return this.printInner;\r\n        }\r\n        if(this.printBack.id == id) {\r\n            return this.printBack;\r\n        }\r\n        if(this.exportBack.id == id) {\r\n            return this.exportBack;\r\n        }\r\n        if(this.sx.id == id) {\r\n            return this.sx;\r\n        }\r\n    }\r\n\r\n    //转换JSON串\r\n    this.cellInfoToJson = function() {\r\n        json = {\r\n            BorderStyleInfo: [{\r\n                printInner: {\r\n                    id: 'printInner',\r\n                    value: this.printInner.value,\r\n                    type: 'CheckBox'\r\n                },\r\n                printBack: {\r\n                    id: 'printBack',\r\n                    value: this.printBack.value,\r\n                    type: 'CheckBox'\r\n                },\r\n                exportBack: {\r\n                    id: 'exportBack',\r\n                    value: this.exportBack.value,\r\n                    type: 'CheckBox'\r\n                },\r\n                sx: {\r\n                    id: 'sx',\r\n                    value: this.sx.value,\r\n                    type: 'CheckBox'\r\n                }\r\n            }]\r\n\r\n        }\r\n    }\r\n}\r\n\r\nvar p = new printSetting();\r\n\r\n\r\n\r\nfunction button_click(sender, e) {\r\n    debugger\r\n    p.printInner.value = \"true\";\r\n    p.printBack.value = \"true\";\r\n    p.exportBack.value = \"true\";\r\n    p.sx.value = \"true\"\r\n    PrintConfig.setInfo(p, null)\r\n}\r\n\r\n\r\nfunction button1_click(sender, e) {\r\n    p.printInner.value = PrintConfig.getInfo(\"printInner\");\r\n    p.printBack.value = PrintConfig.getInfo(\"printBack\");\r\n    p.exportBack.value = PrintConfig.getInfo(\"exportBack\");\r\n    p.sx.value = PrintConfig.getInfo(\"sx\");\r\n    alert(p.printInner.value + \",\" + p.printBack.value + \",\" + p.exportBack.value + \",\" + p.sx.value)\r\n}\r\n\r\nfunction button2_click(sender, e) {\r\n    p.clearInfo()\r\n    PrintConfig.setInfo(p, null)\r\n}\r\n\r\nfunction button3_click(sender, e) {\r\n    p.printInner.value = PrintConfig.getInfo(\"printInner\");\r\n    p.printBack.value = PrintConfig.getInfo(\"printBack\");\r\n    p.exportBack.value = PrintConfig.getInfo(\"exportBack\");\r\n    p.sx.value = PrintConfig.getInfo(\"sx\");\r\n    p.cellInfoToJson();\r\n    alert(JSON.stringify(json))\r\n\r\n}\r\n\r\nfunction PrintConfig_afterrender(sender) {\r\n\r\n}","vmdcss":"","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}