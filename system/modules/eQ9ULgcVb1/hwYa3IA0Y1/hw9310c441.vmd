{"vmdversion":"2.0.3.0908","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MainViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"afterrender\":\"MainViewport_afterrender\"},\"cn\":[{\"cid\":\"vmd.ux.NestedTableType\",\"id\":\"NestedTableType\",\"layoutConfig\":{},\"userConfig\":{\"x\":60,\"y\":20,\"afterrender\":\"NestedTableType_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"x\":410,\"y\":60,\"text\":\"取值\",\"click\":\"button_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"x\":410,\"y\":100,\"text\":\"传值\",\"click\":\"button1_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button2\",\"layoutConfig\":{},\"userConfig\":{\"x\":410,\"y\":140,\"text\":\"clear\",\"click\":\"button2_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button3\",\"layoutConfig\":{},\"userConfig\":{\"x\":410,\"y\":180,\"text\":\"json\",\"click\":\"button3_click\"}}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"function cellNestedTableType() {\n    this.template = {\n            id: \"template\",\n            value: \"\",\n            type: \"Text\"\n        },\n        this.tableName = {\n            id: \"tableName\",\n            value: \"\",\n            type: \"Text\"\n        },\n        this.unfold = {\n            id: \"unfold\",\n            value: \"false\",\n            type: \"CheckBox\"\n        },\n        this.style = {\n            id: \"style\",\n            value: \"0\",\n            type: \"radiostoregroup\"\n        }\n\n    //清空属性\n    this.clearInfo = function() {\n        this.template.value = \"\"\n        this.tableName.value = \"\";\n        this.unfold.value = \"0\"\n        this.style.value = \"false\";\n    };\n\n    //设置值\n    this.setCellNestedTableInfo = function(info, cell) {\n        this.template.value = info.template.value\n        this.tableName.value = info.tableName.value\n        this.unfold.value = info.unfold.value\n        this.style.value = info.style.value\n    };\n\n    // 根据id设置相应属性的值\n    this.setCellInfos = function(id, value) {\n        var c = this.getInfoByID(id);\n        if(c) {\n            if(c.type == \"Text\") {\n                c.value = value;\n            }\n            if(c.type == \"CheckBox\") {\n                c.checked = value;\n            }\n            if(c.type == \"ComboBox\") {\n                c.value = value;\n            }\n            if(c.type == \"compound\") {\n                c.value = value;\n            }\n            if(c.type == \"comlist\") {\n                c.value = value;\n            }\n            if(c.type == \"comlist\") {\n                c.value = value;\n            }\n            if(c.type == \"radiostoregroup\") {\n                c.value = value;\n            }\n            if(c.type == \"ColorSelect\") {\n                c.value = value;\n            }\n            if(c.type == \"LineStyle\") {\n                c.value = value;\n            }\n        }\n    };\n\n    //通过id获取属性\n    this.getInfoByID = function(id) {\n        if(this.template.id == id) {\n            return this.template;\n        }\n        if(this.tableName.id == id) {\n            return this.tableName;\n        }\n        if(this.unfold.id == id) {\n            return this.unfold;\n        }\n        if(this.style.id == id) {\n            return this.style;\n        }\n    }\n\n    //转换JSON串\n    this.cellInfoToJson = function() {\n        json = {\n            cellNestedTableInfo: [{\n                template: {\n                    id: 'template',\n                    value: this.template.value,\n                    type: 'Text'\n                },\n                tableName: {\n                    id: 'tableName',\n                    value: this.tableName.value,\n                    type: 'Text'\n                },\n                unfold: {\n                    id: 'unfold',\n                    value: this.unfold.value,\n                    type: 'CheckBox'\n                },\n                style: {\n                    id: 'style',\n                    value: this.style.value,\n                    type: 'radiostoregroup'\n                }\n            }]\n\n        }\n    }\n}\nvar p = new cellNestedTableType()\n\n\nfunction button_click(sender, e) {\n    p.template.value = \"132\";\n    p.tableName.value = \"123\";\n    p.unfold.value = \"true\";\n    p.style.value = \"1\"\n    NestedTableType.setInfo(p, null)\n}\n\nfunction button1_click(sender, e) {\n    p.template.value = NestedTableType.getInfo(\"template\")\n    p.tableName.value = NestedTableType.getInfo(\"tableName\")\n    p.unfold.value = NestedTableType.getInfo(\"unfold\")\n    p.style.value = NestedTableType.getInfo(\"style\")\n    alert(p.template.value + \",\" + p.tableName.value + \",\" + p.unfold.value + \",\" + p.style.value)\n}\n\nfunction button2_click(sender, e) {\n    p.clearInfo()\n    NestedTableType.setInfo(p, null)\n}\n\nfunction button3_click(sender, e) {\n    p.template.value = NestedTableType.getInfo(\"template\")\n    p.tableName.value = NestedTableType.getInfo(\"tableName\")\n    p.unfold.value = NestedTableType.getInfo(\"unfold\")\n    p.style.value = NestedTableType.getInfo(\"style\")\n    p.cellInfoToJson();\n    alert(JSON.stringify(json))\n}\n\nfunction NestedTableType_afterrender(sender) {\n\n}\n\nfunction MainViewport_afterrender(sender) {\n\n}","vmdcss":"","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}