{"vmdversion":"2.0.3.0914","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MainViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"beforerender\":\"MainViewport_beforerender\"},\"cn\":[{\"cid\":\"vmd.ux.GraphicType\",\"id\":\"graphictype\",\"layoutConfig\":{},\"userConfig\":{\"x\":120,\"y\":10}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"x\":530,\"y\":90,\"text\":\"取值\",\"click\":\"button_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"x\":530,\"y\":150,\"text\":\"传值\",\"click\":\"button1_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button2\",\"layoutConfig\":{},\"userConfig\":{\"x\":530,\"y\":200,\"text\":\"clear\",\"click\":\"button2_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button3\",\"layoutConfig\":{},\"userConfig\":{\"x\":530,\"y\":250,\"text\":\"json\",\"click\":\"button3_click\"}}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"function cellGraphicType() {\n    this.displayMode = {\n            id: \"displayMode\",\n            value: \"0\",\n            type: \"comlist\"\n        },\n        this.picLayout = {\n            id: \"picLayout\",\n            value: \"0\",\n            type: \"comlist\"\n        },\n        this.source = {\n            id: \"source\",\n            value: \"0\",\n            type: \"comlist\"\n        },\n        this.control = {\n            id: \"control\",\n            value: \"0\",\n            type: \"comlist\"\n        },\n        this.excelExport = {\n            id: \"excelExport\",\n            value: \"false\",\n            type: \"CheckBox\"\n        }\n    //清空属性\n    this.clearInfo = function() {\n        this.displayMode.value = \"\"\n        this.picLayout.value = \"\";\n        this.source.value = \"\"\n        this.control.value = \"\";\n        this.excelExport.value = \"false\";\n    };\n\n    //设置值\n    this.setCellTextInfo = function(info, cell) {\n        this.displayMode.value = info.displayMode.value\n        this.picLayout.value = info.picLayout.value\n        this.source.value = info.source.value\n        this.control.value = info.control.value\n        this.excelExport.value = info.excelExport.value\n    };\n\n    // 根据id设置相应属性的值\n    this.setCellInfos = function(id, value) {\n        var c = this.getInfoByID(id);\n        if(c) {\n            if(c.type == \"Text\") {\n                c.value = value;\n            }\n            if(c.type == \"CheckBox\") {\n                c.checked = value;\n            }\n            if(c.type == \"ComboBox\") {\n                c.value = value;\n            }\n            if(c.type == \"compound\") {\n                c.value = value;\n            }\n            if(c.type == \"comlist\") {\n                c.value = value;\n            }\n            if(c.type == \"comlist\") {\n                c.value = value;\n            }\n            if(c.type == \"radiostoregroup\") {\n                c.value = value;\n            }\n            if(c.type == \"ColorSelect\") {\n                c.value = value;\n            }\n            if(c.type == \"LineStyle\") {\n                c.value = value;\n            }\n        }\n    };\n\n    //通过id获取属性\n    this.getInfoByID = function(id) {\n        if(this.displayMode.id == id) {\n            return this.displayMode;\n        }\n        if(this.picLayout.id == id) {\n            return this.picLayout;\n        }\n        if(this.source.id == id) {\n            return this.source;\n        }\n        if(this.control.id == id) {\n            return this.control;\n        }\n        if(this.excelExport.id == id) {\n            return this.excelExport;\n        }\n    }\n\n    //转换JSON串\n    this.cellInfoToJson = function() {\n        json = {\n            cellGraphicInfo: [{\n                displayMode: {\n                    id: 'displayMode',\n                    value: this.displayMode.value,\n                    type: 'comlist'\n                },\n                picLayout: {\n                    id: 'picLayout',\n                    value: this.picLayout.value,\n                    type: 'comlist'\n                },\n                source: {\n                    id: 'source',\n                    value: this.source.value,\n                    type: 'comlist'\n                },\n                control: {\n                    id: 'control',\n                    value: this.control.value,\n                    type: 'comlist'\n                },\n                excelExport: {\n                    id: 'excelExport',\n                    value: this.excelExport.value,\n                    type: 'CheckBox'\n                },\n\n            }]\n\n        }\n    }\n}\nvar p = new cellGraphicType()\n\nfunction button_click(sender, e) {\n    p.displayMode.value = graphictype.getInfo(\"displayMode\")\n    p.picLayout.value = graphictype.getInfo(\"picLayout\")\n    p.source.value = graphictype.getInfo(\"source\")\n    p.control.value = graphictype.getInfo(\"control\")\n    p.excelExport.value = graphictype.getInfo(\"excelExport\")\n    alert(p.displayMode.value + \",\" + p.picLayout.value + \",\" + p.source.value +\n        \",\" + p.control.value + \",\" + p.excelExport.value)\n\n}\n\nfunction button1_click(sender, e) {\n    p.displayMode.value = \"0\"\n    p.picLayout.value = \"1\"\n    p.source.value = \"2\"\n    p.control.value = \"0\"\n    p.excelExport.value = \"true\"\n    graphictype.setInfo(p, null)\n}\n\nfunction MainViewport_beforerender(sender) {\n    \n}\n\nfunction button3_click(sender, e) {\n    p.displayMode.value = graphictype.getInfo(\"displayMode\")\n    p.picLayout.value = graphictype.getInfo(\"picLayout\")\n    p.source.value = graphictype.getInfo(\"source\")\n    p.control.value = graphictype.getInfo(\"control\")\n    p.excelExport.value = graphictype.getInfo(\"excelExport\")\n    p.cellInfoToJson()\n    alert(JSON.stringify(json))\n}\n\nfunction button2_click(sender,e){\np.clearInfo()\n    graphictype.setInfo(p, null)\n}","vmdcss":"","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}