{"vmdversion":"2.0.3.0908","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MainViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"absolute\",\"afterrender\":\"MainViewport_afterrender\"},\"cn\":[{\"cid\":\"vmd.ux.DateType\",\"id\":\"DateType\",\"layoutConfig\":{},\"userConfig\":{\"x\":60,\"y\":20}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"x\":560,\"y\":100,\"text\":\"取值\",\"click\":\"button_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"x\":560,\"y\":140,\"text\":\"传值\",\"click\":\"button1_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button2\",\"layoutConfig\":{},\"userConfig\":{\"x\":560,\"y\":180,\"text\":\"clear\",\"click\":\"button2_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button3\",\"layoutConfig\":{},\"userConfig\":{\"x\":560,\"y\":220,\"text\":\"json\",\"click\":\"button3_click\"}}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"function cellDateType() {\r\n    this.allowEdit = {\r\n            id: \"allowEdit\",\r\n            value: \"true\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.customize = {\r\n            id: \"customize\",\r\n            value: \"\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.dateStyle = {\r\n            id: \"dateStyle\",\r\n            value: \"\",\r\n            type: \"comlist\"\r\n        },\r\n        this.defaultToday = {\r\n            id: \"defaultToday\",\r\n            value: \"true\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.allowPrint = {\r\n            id: \"allowPrint\",\r\n            value: \"true\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.allowEmpty = {\r\n            id: \"allowEmpty\",\r\n            value: \"true\",\r\n            type: \"CheckBox\"\r\n        },\r\n        this.emptyAlert = {\r\n            id: \"emptyAlert\",\r\n            value: \"\",\r\n            type: \"Text\"\r\n        }\r\n\r\n\r\n\r\n    //清空属性\r\n    this.clearInfo = function() {\r\n        this.allowEdit.value = \"true\"\r\n        this.customize.value = \"true\"\r\n        this.dateStyle.value = \"\"\r\n        this.defaultToday.value = \"true\"\r\n        this.allowPrint.value = \"true\"\r\n        this.allowEmpty.value = \"true\"\r\n        this.emptyAlert.value = \"\"\r\n    };\r\n\r\n    //设置值\r\n    this.setCellTextInfo = function(info, cell) {\r\n        this.allowEmpty.value = info.allowEmpty.value\r\n        this.allowEdit.value = info.allowEdit.value\r\n        this.allowPrint.value = info.allowPrint.value\r\n        this.customize.value = info.customize.value\r\n        this.defaultToday.value = info.defaultToday.value\r\n        this.dateStyle.value = info.dateStyle.value\r\n        this.emptyAlert.value = info.emptyAlert.value\r\n    };\r\n\r\n    // 根据id设置相应属性的值\r\n    this.setCellInfos = function(id, value) {\r\n        var c = this.getInfoByID(id);\r\n        if(c) {\r\n            if(c.type == \"Text\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"CheckBox\") {\r\n                c.checked = value;\r\n            }\r\n            if(c.type == \"ComboBox\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"compound\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"combo\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"radiostoregroup\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"ColorSelect\") {\r\n                c.value = value;\r\n            }\r\n            if(c.type == \"LineStyle\") {\r\n                c.value = value;\r\n            }\r\n        }\r\n    };\r\n\r\n    //通过id获取属性\r\n    this.getInfoByID = function(id) {\r\n        if(this.allowEdit.id == id) {\r\n            return this.allowEdit;\r\n        }\r\n        if(this.allowPrint.id == id) {\r\n            return this.allowPrint;\r\n        }\r\n        if(this.allowEmpty.id == id) {\r\n            return this.allowEmpty;\r\n        }\r\n        if(this.customize.id == id) {\r\n            return this.customize;\r\n        }\r\n        if(this.emptyAlert.id == id) {\r\n            return this.emptyAlert;\r\n        }\r\n        if(this.dateStyle.id == id) {\r\n            return this.dateStyle;\r\n        }\r\n        if(this.defaultToday.id == id) {\r\n            return this.defaultToday;\r\n        }\r\n    }\r\n\r\n    //转换JSON串\r\n    this.cellInfoToJson = function() {\r\n        json = {\r\n            cellDateInfo: [{\r\n                allowEdit: {\r\n                    id: 'allowEdit',\r\n                    value: this.allowEdit.value,\r\n                    type: 'CheckBox'\r\n                },\r\n                allowPrint: {\r\n                    id: 'allowPrint',\r\n                    value: this.allowPrint.value,\r\n                    type: 'CheckBox'\r\n                },\r\n                allowEmpty: {\r\n                    id: 'allowEmpty',\r\n                    value: this.allowEmpty.value,\r\n                    type: 'CheckBox'\r\n                },\r\n                dateStyle: {\r\n                    id: 'dateStyle',\r\n                    value: this.dateStyle.value,\r\n                    type: 'comlist'\r\n                },\r\n                emptyAlert: {\r\n                    id: 'emptyAlert',\r\n                    value: this.emptyAlert.value,\r\n                    type: 'Text'\r\n                },\r\n                defaultToday: {\r\n                    id: 'defaultToday',\r\n                    value: this.defaultToday.value,\r\n                    type: 'CheckBox'\r\n                },\r\n                customize: {\r\n                    id: 'customize',\r\n                    value: this.customize.value,\r\n                    type: 'CheckBox'\r\n                }\r\n            }]\r\n\r\n        }\r\n    }\r\n}\r\nvar p = new cellDateType()\r\n\r\nfunction button_click(sender, e) {\r\n    p.allowEmpty.value = \"true\"\r\n    p.allowEdit.value = \"true\"\r\n    p.allowPrint.value = \"true\"\r\n    p.customize.value = \"false\"\r\n    p.defaultToday.value = \"true\"\r\n    p.dateStyle.value = \"2\"\r\n    p.emptyAlert.value = \"111\"\r\n    DateType.setInfo(p, null)\r\n}\r\n\r\nfunction button1_click(sender, e) {\r\n    p.allowEmpty.value = DateType.getInfo(\"allowEmpty\")\r\n    p.allowEdit.value = DateType.getInfo(\"allowEdit\")\r\n    p.allowPrint.value = DateType.getInfo(\"allowPrint\")\r\n    p.customize.value = DateType.getInfo(\"customize\")\r\n    p.defaultToday.value = DateType.getInfo(\"defaultToday\")\r\n    p.dateStyle.value = DateType.getInfo(\"dateStyle\")\r\n    p.emptyAlert.value = DateType.getInfo(\"emptyAlert\")\r\n    alert(p.allowEmpty.value + \",\" + p.allowEdit.value + \",\" + p.allowPrint.value +\r\n        \",\" + p.customize.value + \",\" + p.defaultToday.value + \",\" + p.dateStyle.value +\r\n        \",\" + p.emptyAlert.value)\r\n}\r\n\r\nfunction button2_click(sender, e) {\r\n    p.clearInfo()\r\n    DateType.setInfo(p, null)\r\n}\r\n\r\nfunction button3_click(sender, e) {\r\n     p.allowEmpty.value = DateType.getInfo(\"allowEmpty\")\r\n    p.allowEdit.value = DateType.getInfo(\"allowEdit\")\r\n    p.allowPrint.value = DateType.getInfo(\"allowPrint\")\r\n    p.customize.value = DateType.getInfo(\"customize\")\r\n    p.defaultToday.value = DateType.getInfo(\"defaultToday\")\r\n    p.dateStyle.value = DateType.getInfo(\"dateStyle\")\r\n    p.emptyAlert.value = DateType.getInfo(\"emptyAlert\")\r\n    p.cellInfoToJson()\r\n    alert(JSON.stringify(json))\r\n}\r\n\r\nfunction MainViewport_afterrender(sender) {\r\n\r\n}","vmdcss":"","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}