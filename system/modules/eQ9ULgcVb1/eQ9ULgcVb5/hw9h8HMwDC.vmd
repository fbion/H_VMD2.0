{"vmdversion":"vmd2.0.7.200328","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MainViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"afterrender\":\"MainViewport_afterrender\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"auto\",\"region\":\"center\",\"border\":false,\"header\":false,\"autoScroll\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"100%  100%\",\"border\":false,\"layout\":\"border\",\"height\":420,\"width\":\"\",\"hidden\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"height\":31,\"layout\":\"absolute\"},\"cn\":[{\"cid\":\"checkbox\",\"id\":\"hwCheckbox\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":5,\"boxLabel\":\"全选\",\"style\":\"color: #5EA0FF;\",\"check\":\"hwCheckbox_check\"}},{\"cid\":\"vmdButton\",\"id\":\"button2\",\"layoutConfig\":{},\"userConfig\":{\"x\":80,\"y\":5,\"type\":\"text\",\"text\":\"只选分类\",\"click\":\"button2_click\",\"hidden\":true}}]},{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"fit\",\"border\":false},\"cn\":[{\"cid\":\"vmdTreeEx\",\"id\":\"tree\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":20,\"checkBox\":true,\"store\":\"treestore\",\"parentField\":\"parent_id\",\"valueField\":\"id\",\"textField\":\"name\",\"loadType\":\"全部加载\",\"rootValue\":\"0\",\"rootText\":\"协同开发\",\"cascading\":true,\"nodeMarkFiled\":\"type\",\"folderValue\":\"category\",\"leafValue\":\"module\",\"rootImg\":\"/system/modules/eQ9ULgcVb1/img/server5.png\",\"folderImg\":\"/system/modules/eQ9ULgcVb1/img/folderClosed.gif\",\"leafImg\":\"/system/modules/eQ9ULgcVb1/img/model.png\",\"afterBindData\":\"tree_afterBindData\",\"width\":1140}}]}]},{\"cid\":\"container\",\"id\":\"div5\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"100%   100%\",\"border\":false,\"hidden\":true,\"height\":420,\"width\":\"\",\"layout\":\"auto\",\"autoScroll\":true,\"autoHeight\":false},\"cn\":[{\"cid\":\"container\",\"id\":\"div6\",\"layoutConfig\":{\"align\":\"middle\"},\"userConfig\":{\"width\":\"\",\"layout\":\"hbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"发布环境选择：\",\"style\":\"font-size:14px;\",\"margins\":\"0 5 0 10\"}},{\"cid\":\"vmdCombo\",\"id\":\"combo\",\"layoutConfig\":{},\"userConfig\":{\"width\":309,\"store\":\"store\",\"valueField\":\"config_id\",\"displayField\":\"name\",\"change\":\"combo_change\",\"firstSelected\":true}}]},{\"cid\":\"container\",\"id\":\"div31\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"100% 55%\",\"layout\":\"auto\",\"border\":false,\"id\":\"div31\",\"afterrender\":\"div31_afterrender\",\"width\":\"\",\"autoHeight\":true,\"autoScroll\":false,\"style\":\"overflow-x: hidden !important\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div41\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"border\":false,\"layout\":\"auto\",\"height\":170,\"id\":\"div41\",\"width\":\"\",\"autoHeight\":true},\"cn\":[{\"cid\":\"container\",\"id\":\"div9\",\"layoutConfig\":{\"align\":\"middle\"},\"userConfig\":{\"region\":\"north\",\"height\":35,\"border\":false,\"layout\":\"hbox\",\"width\":\"\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label7\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"服务信息\",\"margins\":\"0 0 0 10\",\"style\":\"font-size: 14px;font-weight: bold\"}}]},{\"cid\":\"container\",\"id\":\"div10\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"auto\",\"region\":\"center\",\"border\":false,\"style\":\"border-top: 1px solid;    border-top-color: rgb(223, 223, 223);\",\"autoWidth\":true,\"autoHeight\":true}}]},{\"cid\":\"container\",\"id\":\"div51\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"auto\",\"border\":false,\"id\":\"div51\",\"width\":\"\",\"height\":300,\"autoHeight\":true},\"cn\":[{\"cid\":\"container\",\"id\":\"div2\",\"layoutConfig\":{\"align\":\"middle\"},\"userConfig\":{\"anchor\":\"100% 10%\",\"border\":false,\"layout\":\"hbox\",\"region\":\"north\",\"height\":35,\"width\":\"\"},\"cn\":[{\"cid\":\"label\",\"id\":\"title\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"\",\"height\":20,\"id\":\"title\",\"text\":\" 资源中心\",\"autoHeight\":false,\"width\":100,\"y\":5,\"x\":10,\"autoWidth\":true,\"style\":\"font-size: 14px;font-weight: bold\",\"margins\":\"0 0 0 10\"}}]},{\"cid\":\"container\",\"id\":\"DivResource\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"100% 30%\",\"id\":\"DivResource\",\"layout\":\"auto\",\"region\":\"center\",\"style\":\"border-top: 1px solid;    border-top-color: rgb(223, 223, 223)\",\"border\":false,\"width\":\"\",\"height\":200,\"autoHeight\":true},\"cn\":[{\"cid\":\"panel\",\"id\":\"palResource\",\"layoutConfig\":{},\"userConfig\":{\"border\":false,\"header\":false,\"id\":\"palResource\",\"layout\":\"auto\",\"autoScroll\":false,\"height\":200,\"autoWidth\":true,\"autoHeight\":true},\"cn\":[{\"cid\":\"vmd.ux.PublishResource\",\"id\":\"PublishResource\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"100% \"}}]}]}]},{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"width\":\"\",\"style\":\"margin-top: 10px;    border-right: 0;    border-left: 0;    border-bottom: 0\",\"border\":true,\"layout\":\"hbox\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"虚拟目录名称：\",\"style\":\"font-size: 14px;    color: #5f5f5f;\",\"margins\":\"10 0 0 15\"}},{\"cid\":\"textfield\",\"id\":\"MyField\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"MyField\",\"margins\":\"5 0 0 0 \",\"width\":301}}]}]}]},{\"cid\":\"vmd.ux.MicroservicesList\",\"id\":\"hwMicroservicesList\",\"layoutConfig\":{},\"userConfig\":{\"hidden\":true}}]},{\"cid\":\"container\",\"id\":\"div21\",\"layoutConfig\":{\"align\":\"middle\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"south\",\"layout\":\"hbox\",\"afterrender\":\"div2_afterrender\",\"id\":\"div21\",\"border\":true},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button3\",\"layoutConfig\":{},\"userConfig\":{\"click\":\"button3_click\",\"text\":\"下一步\",\"margins\":\"0 10 0 10\",\"type\":\"info\"}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"0 10 0 10\",\"text\":\"导出\",\"type\":\"info\",\"click\":\"button_click\",\"afterrender\":\"button_afterrender\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"0 10 0 10\",\"text\":\"取消\",\"click\":\"button1_click\",\"afterrender\":\"button1_afterrender\"}}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"vmdJsonStore\",\"id\":\"treestore\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"vmdJsonStore\",\"id\":\"treestore\",\"storeConfig\":\"{\\\"id\\\":\\\"mfLDvMIDeH\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"CDEServcie/expProject/getexptreeinfo\\\",\\\"host\\\":\\\"\\\",\\\"name\\\":\\\"获取导出的模块树\\\",\\\"isHwRest\\\":true,\\\"getMethods\\\":[{\\\"id\\\":\\\"project_id\\\",\\\"name\\\":\\\"项目id\\\",\\\"type\\\":\\\"String\\\",\\\"value1\\\":\\\"return getUrlParam('project_id')||'eQ9ULgcVb1'\\\",\\\"value2\\\":\\\"\\\",\\\"testValue\\\":\\\"\\\",\\\"defaultvalue\\\":\\\"\\\"}],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"name\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"parent_id\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"project_id\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"type\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"path\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"parent_id\"},\"name\":\"parent_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"project_id\"},\"name\":\"project_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"type\"},\"name\":\"type\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"path\"},\"name\":\"path\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"store\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"vmdJsonStore\",\"storeConfig\":\"{\\\"id\\\":\\\"mpChgtJuL5\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"CDEServcie/project/projectconfig/runserverconfig\\\",\\\"host\\\":\\\"\\\",\\\"name\\\":\\\"项目运行环境配置\\\",\\\"isHwRest\\\":true,\\\"getMethods\\\":[{\\\"id\\\":\\\"project_id\\\",\\\"name\\\":\\\"项目id\\\",\\\"type\\\":\\\"String\\\",\\\"value1\\\":\\\"return vmd.getUrlParam(\\\\\\\"project_id\\\\\\\")||'hWlI8gBXWj'\\\\n\\\",\\\"value2\\\":\\\"\\\",\\\"testValue\\\":\\\"\\\",\\\"defaultvalue\\\":\\\"\\\"}],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"config_id\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"project_id\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"type\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"int32\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"name\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"ptservice\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"subsysid\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"virtualdir\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"dasserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"wfserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"msgserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"todoserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"authserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"docserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"reportserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"logserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"resourceserver\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"micserviceinfo\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"ppdm_guid\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"remark\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"source\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"row_changed_by\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"row_changed_date\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"datetime\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"row_created_by\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"row_created_date\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"datetime\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"row_effective_date\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"datetime\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"row_expiry_date\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"datetime\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"row_quality\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}}]}\",\"autoLoad\":false},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"config_id\"},\"name\":\"config_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"project_id\"},\"name\":\"project_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"type\"},\"name\":\"type\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"ptservice\"},\"name\":\"ptservice\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"subsysid\"},\"name\":\"subsysid\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"virtualdir\"},\"name\":\"virtualdir\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"dasserver\"},\"name\":\"dasserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"wfserver\"},\"name\":\"wfserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"msgserver\"},\"name\":\"msgserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"todoserver\"},\"name\":\"todoserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"authserver\"},\"name\":\"authserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"docserver\"},\"name\":\"docserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"reportserver\"},\"name\":\"reportserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"logserver\"},\"name\":\"logserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"resourceserver\"},\"name\":\"resourceserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"micserviceinfo\"},\"name\":\"micserviceinfo\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"ppdm_guid\"},\"name\":\"ppdm_guid\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"remark\"},\"name\":\"remark\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"source\"},\"name\":\"source\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_changed_by\"},\"name\":\"row_changed_by\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_changed_date\"},\"name\":\"row_changed_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_created_by\"},\"name\":\"row_created_by\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_created_date\"},\"name\":\"row_created_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_effective_date\"},\"name\":\"row_effective_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_expiry_date\"},\"name\":\"row_expiry_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_quality\"},\"name\":\"row_quality\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"getresourceserver\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"vmdJsonStore\",\"id\":\"getresourceserver\",\"storeConfig\":\"{\\\"id\\\":\\\"bn6KEvEwwL\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"CDEServcie/project/projectconfig/devresourceservers\\\",\\\"host\\\":\\\"\\\",\\\"name\\\":\\\"项目开发环境资源服务信息\\\",\\\"isHwRest\\\":true,\\\"getMethods\\\":[{\\\"id\\\":\\\"id\\\",\\\"name\\\":\\\"项目id\\\",\\\"type\\\":\\\"String\\\",\\\"value1\\\":\\\"//返回值 \\\\r\\\\n return vmd.getUrlParam(\\\\\\\"project_id\\\\\\\")||'hWlI8gBXWj'\\\",\\\"value2\\\":\\\"\\\",\\\"testValue\\\":\\\"\\\",\\\"defaultvalue\\\":\\\"\\\"}],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"name\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"address\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}},{\\\"name\\\":\\\"remark\\\",\\\"cname\\\":\\\"\\\",\\\"type\\\":\\\"string\\\",\\\"primary\\\":\\\"\\\",\\\"nullable\\\":\\\"Y\\\",\\\"length\\\":\\\"\\\",\\\"precision\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"rule\\\":{}}]}\",\"load\":\"getresourceserver_load\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"address\"},\"name\":\"address\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"remark\"},\"name\":\"remark\"}]}]},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"vmdSubView\",\"id\":\"subView\",\"layoutConfig\":{},\"userConfig\":{\"width\":593,\"height\":448}}]}]}","vmdevents":"var hwproject_Name = vmd.getUrlParam('project_name') || '协同开发'\nvar hwproject_Id = vmd.getUrlParam('project_id') || 'eQ9ULgcVb1'\nvar treeNodePath = vmd.getUrlParam('nodepath')\n\nfunction hwCheckbox_check(sender, checked) {\n    var rootnode = tree.getRootNode();\n    if (checked == true) {\n        tree.setNodeCheckById(0, true); //设置根节点 被勾中\n        for (var i = 0; i < rootnode.childNodes.length; i++) {\n            tree.setNodeCheckById(rootnode.childNodes[i].id, true);\n            if (rootnode.childNodes[i].childNodes.length > 0) {\n                findchildnode(rootnode.childNodes[i]);\n            }\n        }\n    } else {\n        tree.setNodeCheckById(0, false); //设置根节点 不被勾中\n        for (var i = 0; i < rootnode.childNodes.length; i++) {\n            tree.setNodeCheckById(rootnode.childNodes[i].id, false);\n            if (rootnode.childNodes[i].childNodes.length > 0) {\n                findchildnode(rootnode.childNodes[i]);\n            }\n        }\n    }\n}\n//遍历树形子节点\nfunction findchildnode(roonodes) { //树形全勾中\n    var childnodes = roonodes.childNodes;\n    for (var i = 0; i < childnodes.length; i++) { // 从节点中取出子节点依次遍历\n        tree.setNodeCheckById(childnodes[i].id, hwCheckbox.checked);\n        if (childnodes[i].childNodes.length > 0) {\n            findchildnode(childnodes[i]); // 如果存在子节点 递归\n        }\n    }\n}\n\nfunction button2_click(sender, e) {\n    hwCheckbox.setValue(false); // 全选不勾中\n    tree.setNodeCheckById(0, false); //设置根节点 不被勾中\n    var rootnode = tree.getRootNode();\n    category_findchildnode(rootnode);\n}\n//只选择分类按钮(遍历树形子节点)\nfunction category_findchildnode(roonodes) { //树形全勾中\n    var childnodes = roonodes.childNodes;\n    for (var i = 0; i < childnodes.length; i++) { // 从节点中取出子节点依次遍历\n        if (childnodes[i].childNodes.length > 0) {\n            tree.setNodeCheckById(childnodes[i].id, true);\n            category_findchildnode(childnodes[i]); // 如果存在子节点 递归\n        } else {\n            if (childnodes[i].nodeDataJson.type == 'category') {\n                tree.setNodeCheckById(childnodes[i].id, true);\n            } else\n                tree.setNodeCheckById(childnodes[i].id, false);\n        }\n    }\n}\n\nfunction tree_afterBindData(sender) {\n    tree.getRootNode().setText(hwproject_Name);\n    //树形全选\n    var rootnode = tree.getRootNode();\n    if (hwCheckbox.checked == true) {\n        tree.setNodeCheckById(0, true); //设置根节点 被勾中\n        for (var i = 0; i < rootnode.childNodes.length; i++) {\n            tree.setNodeCheckById(rootnode.childNodes[i].id, true);\n            if (rootnode.childNodes[i].childNodes.length > 0) {\n                findchildnode(rootnode.childNodes[i]);\n            }\n        }\n    }\n    rootnode.expand();\n    if (treeNodePath) {\n        treeNodePath = treeNodePath.replace(hwproject_Id, 0);\n        delNodeIds = [];\n        delnode(rootnode)\n        for (var i = 0; i < delNodeIds.length; i++) {\n            tree.removeNodeById(delNodeIds[i])\n        }\n    }\n}\n//用户分类导出时，先加载所有的节点，treeNodePath\nfunction delnode(node) {\n    for (var i = 0; i < node.childNodes.length; i++) {\n        var cnode = node.childNodes[i]\n        if (cnode.getPath().indexOf(treeNodePath) >= 0 || treeNodePath.indexOf(cnode.getPath()) >= 0) {\n            if (cnode.childNodes.length > 0) {\n                delnode(cnode)\n            }\n        } else {\n            delNodeIds.push(cnode.id)\n        }\n    }\n}\nvar myMask;\n\nfunction button_click(sender, e) {\n    myMask = new Ext.LoadMask(document.body, {\n        msg: \"正在导出,请稍后...\",\n        msgCls: 'z-index:10000;'\n    });\n    myMask.show();\n    var ExpModulesInfo = getSelNodeIDs();\n    vmd.ajax({\n        url: \"/expandimp/api/ModPublishExp\",\n        type: 'post',\n        timeout: 50000,\n        //dataType:\"text\",\n        //contentType: 'application/json;charset=UTF-8',\n        data: ExpModulesInfo, //jsonp: \"callbackparam\", \n        success: function(result) {\n            myMask.hide();\n            if (result.type == \"success\") {\n                window.open(\"/\" + result.zipPath, '_self')\n                \n                 var s = new vmd.proxy.Log();\n                s.save(\"导出发布模块\", ExpModulesInfo.projectId, Ext.util.Cookies.get('userName') + \"在\" + Ext.Date.dateFormat(new Date(), 'Y-m-d H:i:s') + \"导出了项目\" + ExpModulesInfo.projectName + \"中的模块,模块Id：\" + mnodeIds.join('、') + \"\", \"项目\", function() {\n                   \n                }, function() {\n                    console.log(\"日志报存失败了！\");\n                })\n                \n                \n            } else\n                Ext.Msg.alert(\"提示\", result.msg)\n        },\n        error: function(msg) {\n            myMask.hide();\n        }\n    })\n}\nvar cnodeIds = []\nvar mnodeIds = []\nvar mnodeInfo = []\n\nfunction getNodeId(node) {\n    for (var i = 0; i < node.childNodes.length; i++) {\n        var cnode = node.childNodes[i]\n        if (cnode.attributes.checked) {\n            if (cnode.childNodes.length > 0) {\n                getNodeId(cnode)\n                cnodeIds.push(cnode.id)\n            } else {\n                if (cnode.nodeDataJson.type == 'category') {\n                    cnodeIds.push(cnode.id)\n                } else {\n                    mnodeInfo.push({\n                        id: cnode.id,\n                        path: cnode.getPath().replace('/0/', hwproject_Id + '/')\n                    })\n                    mnodeIds.push(cnode.id)\n                }\n            }\n        }\n    }\n}\n\nfunction getSelNodeIDs() {\n    var count = 0;\n    div10.items.each(function(item) {\n        \n        var addressid = item.getComlistValue();\n        for (var i = 0; i < micrserChild.length; i++) {\n            if (addressid == micrserChild[i].mircserveradd_id) {\n                var objlist = {\n                    'id': micrserChild[i].mircserveradd_id,\n                    'name': micrserChild[i].mircserveradd_name,\n                    'url': micrserChild[i].mircserveradd_url\n                }\n                mircserverData[count].address = objlist;\n            }\n        }\n        if (mircserverData[count].address == \"\") {\n            var objlist = {\n                'id': item.getComlistValue(),\n                'name': item.getComlistValue(),\n                'url': item.getComlistValue()\n            }\n            mircserverData[count].address = objlist;\n        }\n        count++;\n\n    })\n    var mircserverDataStr = JSON.stringify(mircserverData);\n\n    var micServerInfo = {};\n    var user_micServerInfo = {};\n    for (var i = 0; i < mircserverData.length; i++) {\n        if (mircserverData[i].type == \"1\")\n            micServerInfo[mircserverData[i].code] = mircserverData[i].address.url;\n        else\n            user_micServerInfo[mircserverData[i].code] = mircserverData[i].address.url;\n    }\n\n    cnodeIds = []\n    mnodeIds = []\n    mnodeInfo = []\n    var rootnode = tree.getRootNode();\n    getNodeId(rootnode)\n    getResourceInfo()\n    getProjectRefResource()\n    var ExpModulesInfo = {};\n    // ExpModulesInfo.serverIp = txt_dataserverip.getValue() || \"\";\n    // ExpModulesInfo.workFlowIp = txt_workflowip.getValue() || \"\";\n    ExpModulesInfo.user_micServerInfo = user_micServerInfo;\n    ExpModulesInfo.micServerInfo = micServerInfo;\n    // ExpModulesInfo.msgIp = txt_msg.getValue() || \"\";\n    // ExpModulesInfo.todoIp = txt_todo.getValue() || \"\";\n    // ExpModulesInfo.authIp = txt_auth.getValue() || \"\";\n    // ExpModulesInfo.docIp = txt_doc.getValue() || \"\";\n    // ExpModulesInfo.reportIp = txt_report.getValue() || \"\";\n    // ExpModulesInfo.logIp = txt_report.getValue() || \"\";\n    ExpModulesInfo.virtualPath = MyField.getValue() || \"\";\n    ExpModulesInfo.ModulesInfo = mnodeInfo;\n    ExpModulesInfo.projectId = hwproject_Id;\n    ExpModulesInfo.projectName = hwproject_Name;\n    ExpModulesInfo.resourceInfo = resourecInfo;\n    ExpModulesInfo.projectCss = projectRefCss;\n    ExpModulesInfo.projectJs = projectRefJs;\n    return ExpModulesInfo\n}\n\nvar projectRefJs = \"\";\nvar projectRefCss = \"\";\n\nfunction getProjectRefResource() {\n    //记录项目中的引用资源信息，包括脚本，样式\n    for (var i = 0; i < projectResourceInfo.length; i++) {\n        var index = -1;\n        for (var j = 0; j < resourecInfo.length; j++) {\n            if (resourecInfo[j].rname == projectResourceInfo[i].servName)\n                index = j\n        }\n        if (index >= 0) {\n            if (projectResourceInfo[i].ext == \"js\") {\n                projectRefJs += '<script src=\"http://' + resourecInfo[index].newPath + '/resource/' + projectResourceInfo[i].path + '\"><\\/script>\\n'\n            }\n            if (projectResourceInfo[i].ext == \"css\") {\n                projectRefCss += '<link href=\"http://' + resourecInfo[index].newPath + '/resource/' + projectResourceInfo[i].path + '\"  rel=\"stylesheet\" />\\n'\n            }\n        } else {\n            if (projectResourceInfo[i].ext == \"js\") {\n                projectRefJs += '<script src=\"' + projectResourceInfo[i].absolutePath + '\"><\\/script>\\n'\n            }\n            if (projectResourceInfo[i].ext == \"css\") {\n                projectRefCss += '<link href=\"' + projectResourceInfo[i].absolutePath + '\"  rel=\"stylesheet\" />\\n'\n            }\n        }\n    }\n}\n\nvar resourecInfo = [];\n\nfunction getResourceInfo() {\n    resourecInfo = [];\n    for (var i = 0; i < listPublishResourceComps.length; i++) {\n        var _resourecInfo = listPublishResourceComps[i].com.getText();\n        resourecInfo.push({\n            rname: listPublishResourceComps[i].sname,\n            newPath: _resourecInfo.newIP || _resourecInfo.oldIP\n        })\n    }\n}\n\nfunction button1_click(sender, e) {\n    if (parent && parent.expPublishmodulesWin)\n        parent.expPublishmodulesWin.close()\n}\n\nfunction MainViewport_afterrender(sender) {\n    //页面初始化完成之后，获取项目需要引用的资源\n    var myPartree = parent.hwTree;\n    var moduleId = parent.hwTree.getSelectedItemId();\n    vmd.core.getProjectRefResource(moduleId, false, null, null)\n}\n\nfunction button3_click(sender, e) {\n    if (button3.getText() == \"下一步\") {\n        div5.show()\n        div4.hide()\n        panel.doLayout()\n        button3.setText(\"上一步\")\n        button.show()\n        div2.doLayout()\n    } else if (button3.getText() == \"上一步\") {\n        div4.show()\n        div5.hide()\n        panel.doLayout()\n        button3.setText(\"下一步\")\n        button.hide()\n        div2.doLayout()\n    }\n}\n\nfunction div2_afterrender(sender) {}\n\nfunction button1_afterrender(sender) {}\n\nfunction button_afterrender(sender) {\n    button.hide()\n    div2.doLayout()\n}\nvar listPublishResourceComps = []; //记录动态添加的组件列表。\nfunction div31_afterrender(sender) {}\n\nfunction combo_change(sender, value, text) {\n    var recs = store.query(\"config_id\", value)\n    var rec;\n    if (recs)\n        rec = recs.items[0]\n    selrec = recs.items[0]\n    bindservice(rec)\n    bindresource(rec)\n    MyField.setValue(rec.data.virtualdir)\n}\nvar micrserList = [];\nvar micrserChild = [];\nvar mircserverData = [];\n// 获取微服务分组信息\nfunction getMicrserList(success) {\n    hwDas.get({\n            host: vmd.workspace.dataServiceIp,\n            url: 'CDEServcie/micservice/micservicelist'\n        }, {}, {},\n        function(re_data) {\n            success(re_data.data[0].datas)\n        },\n        function(msg) {}\n    );\n}\n\n// 获取服务地址\nfunction getMicrserChild(success) {\n\n    hwDas.get({\n            host: vmd.workspace.dataServiceIp,\n            url: 'CDEServcie/micservice/micserviceaddress'\n        }, {}, {},\n        function(re_data) {\n            success(re_data.data[0].datas)\n        },\n        function(msg) {}\n    );\n}\n\n// 初始化微服务数据集数据\nfunction initMicrserstore(records, sender) {\n    getMicrserList(function(data) {\n        for (var i = 0; i < data.length; i++) {\n            micrserList[i] = data[i];\n        }\n        getMicrserChild(function(data) {\n            for (var i = 0; i < data.length; i++) {\n                micrserChild[i] = data[i];\n            }\n            // -------------在这里开始处理-----------------------\n            if (records) {\n                if (records.micserviceinfo != \"\") {\n                    initMicrserfromStore(sender, records.micserviceinfo);\n                } else {\n                    initMicrserfromoldStore(sender, records);\n                    // initMicrserList(MicrservList1)\n                }\n            }\n        })\n\n    })\n\n}\n\n// 根据数据库初始化微服务的值\nfunction initMicrserfromStore(sender, data) {\n    var micrserdata = JSON.parse(data);\n    for (var i = 0; i < micrserdata.length; i++) {\n        micrserdata[i].identify = micrserdata[i].code;\n        var str = JSON.stringify(micrserdata[i]);\n        var list = [];\n        for (var j = 0; j < micrserChild.length; j++) {\n            if (micrserChild[j].mircserveradd_micserviceid == micrserdata[i].id) {\n                var objlist = {\n                    'key': micrserChild[j].mircserveradd_id,\n                    'value': micrserChild[j].mircserveradd_name\n                }\n                list.push(objlist)\n            }\n        }\n        var flag = false;\n        if (micrserdata[i].type != 1)\n            flag = true;\n        addMicrserList(sender, str, flag, list, i)\n    }\n\n\n}\n// 从旧的数据库拿到数据\nfunction initMicrserfromoldStore(sender, data) {\n    // micrserList\n    var list = []\n    // 认证中心\n    if (data.authserver != '') {\n\n        // hwc0f00e216222306dd5229ac3e12013\n\n        var listobj = getoldData(data.authserver, 'hwc0f00e216222306dd5229ac3e12013')\n        list.push(listobj)\n    }\n    // 数据服务\n    // hwc0f00e216222306dd5229ac3e12001\n    var listobj = getoldData(data.dasserver, 'hwc0f00e216222306dd5229ac3e12001', 'dasserver')\n    list.push(listobj)\n    // 文档中心\n    if (data.docserver != '') {\n        // hwc0f00e216222306dd5229ac3e12008\n        var listobj = getoldData(data.docserver, 'hwc0f00e216222306dd5229ac3e12008')\n        list.push(listobj)\n    }\n    // 日志中心\n    // hwc0f00e216222306dd5229ac3e12006\n    var listobj = getoldData(data.logserver, 'hwc0f00e216222306dd5229ac3e12006')\n    list.push(listobj)\n    // 消息中心\n    if (data.msgserver != '') {\n        // hwc0f00e216222306dd5229ac3e12005\n        var listobj = getoldData(data.msgserver, 'hwc0f00e216222306dd5229ac3e12005')\n        list.push(listobj)\n    }\n    // 报表中心\n    // hwc0f00e216222306dd5229ac3e12003\n    var listobj = getoldData(data.reportserver, 'hwc0f00e216222306dd5229ac3e12003')\n    list.push(listobj)\n    // 待办中心\n    if (data.todoserver != '') {\n        // hwc0f00e216222306dd5229ac3e12007\n        var listobj = getoldData(data.todoserver, 'hwc0f00e216222306dd5229ac3e12007')\n        list.push(listobj)\n    }\n    // 流程中心\n    if (data.wfserver != '') {\n        // hwc0f00e216222306dd5229ac3e12004\n        var listobj = getoldData(data.wfserver, 'hwc0f00e216222306dd5229ac3e12004')\n        list.push(listobj)\n    }\n    var micrserlist = JSON.stringify(list);\n    initMicrserfromStore(sender, micrserlist)\n}\n\nfunction getoldData(url, id) {\n    for (var i = 0; i < micrserList.length; i++) {\n        if (micrserList[i].mircserver_id == id) {\n            var listobj = {\n                'id': micrserList[i].mircserver_id,\n                'code': micrserList[i].mircserver_code,\n                'name': micrserList[i].mircserver_name,\n                'type': micrserList[i].mircserver_type,\n                'address': {\n                    'id': url,\n                    'code': micrserList[i].mircserver_code,\n                    'name': url,\n                    'url': url\n                }\n            }\n            return listobj;\n        }\n    }\n}\n// 移除视图子项\nfunction removeMicrserList(index, sender) {\n    // 移除节点\n    sender.getComponent(index).destroy();\n    // 在数组中删除该序列\n    mircserverData.splice(index, 1);\n}\n\n// 添加微服务下拉复合组件\nfunction addMicrserList(sender, node, display, data, index) {\n    var nodeInfo = JSON.parse(node);\n    // 添加复合组件\n    var MicroservicesList = new vmd.ux.MicroservicesList({\n        'list': data,\n        'id': vmd.getGuid(32)\n    });\n    var listobj = {\n        'id': nodeInfo.id,\n        'code': nodeInfo.identify,\n        'name': nodeInfo.name,\n        'type': nodeInfo.type,\n        'address': ''\n    }\n    mircserverData.push(listobj)\n    sender.add(MicroservicesList);\n    sender.doLayout()\n    MicroservicesList.setAttr(nodeInfo.name + \"：\", display, nodeInfo.address.id);\n    MicroservicesList.on('removeRelation', function() {\n        removeMicrserList(index, sender)\n    })\n}\n\nfunction bindservice(rec) {\n    recdata = rec.data;\n    div10.removeAll();\n    mircserverData = [];\n    initMicrserstore(recdata, div10);\n    div10.doLayout();\n    // txt_dataserverip.setValue(recdata.dasserver);\n    // txt_workflowip.setValue(recdata.wfserver);\n    // txt_msg.setValue(recdata.msgserver);\n    // txt_todo.setValue(recdata.todoserver);\n    // txt_auth.setValue(recdata.authserver);\n    // txt_doc.setValue(recdata.docserver);\n    // txt_report.setValue(recdata.reportserver);\n    // txt_log.setValue(recdata.logserver);\n}\n\nfunction bindresource(rec) {\n    palResource.removeAll()\n    var resourceserver = [];\n    listPublishResourceComps = []\n    var j = 0\n    resourceserver = Ext.decode(rec.data.resourceserver);\n    for (var i = 0; i < getresourceserver.getCount(); i++) {\n        var res = getresourceserver.getAt(i);\n        (function(res, index) {\n            hwDas.get({\n                host: getresourceserver.getAt(index).data.address,\n                url: \"zyzx/zyzxtree/getServerInfo\"\n            }, {}, {}, function(c_result) {\n                if (c_result.data && c_result.data.length > 0 && c_result.data[0].size > 0) {\n                    for (var k = 0; k < c_result.data[0].datas.length; k++) {\n                        var rname = res.data.name + \"/\" + c_result.data[0].datas[k].name\n                        var r_name = res.data.name + \"&&\" + c_result.data[0].datas[k].name\n                        var newip = \"\"\n                        for (var m = 0; m < resourceserver.length; m++) {\n                            if (resourceserver[m].name == r_name) newip = resourceserver[m].newip\n                        }\n                        var ipresource = new vmd.ux.PublishResource({\n                            id: \"PublishResource\" + index + \"_\" + k,\n                            anchor: \"100% \"\n                        });\n                        //动态添加地址替换组件，根据有多少不同的地址进行添加\n                        palResource.add(ipresource)\n                        ipresource.setText(c_result.data[0].datas[k].ip, newip, rname);\n                        listPublishResourceComps.push({\n                            sname: r_name,\n                            com: ipresource\n                        });\n                        palResource.doLayout();\n                    }\n                    palResource.onBodyResize()\n                }\n                j++\n            }, function() {\n                j++\n            })\n        })(res, i)\n    }\n}\n\nfunction getresourceserver_load(sender, records, options) {\n    store.toRefresh()\n}","vmdcss":".x-form-cb-label{\n    color: #5EA0FF;\n}","vmdprops":"\"\"","type":"module","vmdcmpdeps":[],"vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"project.config.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}