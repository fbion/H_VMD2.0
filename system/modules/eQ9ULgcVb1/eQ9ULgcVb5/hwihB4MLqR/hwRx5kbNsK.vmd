{"vmdversion":"vmd2.0.5.200306","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"afterrender\":\"MyViewport_afterrender\",\"height\":800,\"width\":1200},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel2\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"border\":true,\"header\":false,\"layout\":\"fit\",\"height\":839,\"afterrender\":\"panel2_afterrender\"}},{\"cid\":\"panel\",\"id\":\"panel3\",\"layoutConfig\":{\"align\":\"middle\",\"pack\":\"center\"},\"userConfig\":{\"region\":\"south\",\"border\":true,\"header\":false,\"height\":43,\"layout\":\"hbox\"},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"确定\",\"click\":\"button_click\",\"width\":78,\"type\":\"primary\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"0 0 0 50\",\"text\":\"取消\",\"width\":77,\"click\":\"button1_click\"}}]},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"east\",\"width\":300,\"border\":false,\"header\":false,\"layout\":\"fit\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"inspector_module\",\"layoutConfig\":{},\"userConfig\":{\"activeTab\":0,\"id\":\"inspector_module\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel4\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"数据\",\"layout\":\"fit\"}},{\"cid\":\"panel\",\"id\":\"panel5\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"属性\",\"afterrender\":\"panel5_afterrender\",\"layout\":\"fit\"},\"cn\":[{\"cid\":\"vmd.ux.ContentProperty\",\"id\":\"hwContentProperty\",\"layoutConfig\":{},\"userConfig\":{}}]}]}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"vmdJsonStore\",\"id\":\"store\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"vmdJsonStore\",\"storeConfig\":\"{\\\"id\\\":\\\"eQ9TXjYMJR\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"CDEServcie/project/info\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"项目信息\\\",\\\"getMethods\\\":[],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"xh\\\",\\\"type\\\":\\\"int64\\\"},{\\\"name\\\":\\\"code\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"row_created_by\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"row_created_date\\\",\\\"type\\\":\\\"datetime\\\"},{\\\"name\\\":\\\"row_changed_date\\\",\\\"type\\\":\\\"datetime\\\"},{\\\"name\\\":\\\"row_changed_by\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"xh\"},\"name\":\"xh\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"code\"},\"name\":\"code\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_created_by\"},\"name\":\"row_created_by\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_created_date\"},\"name\":\"row_created_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_changed_date\"},\"name\":\"row_changed_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_changed_by\"},\"name\":\"row_changed_by\"}]}]},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"var page = this;\nvar saveInfo = parent.nestedWin && Ext.encode(parent.nestedWin.info);\npage.ori=parent.nestedWin &&Ext.encode(parent.nestedWin.info)\nvmd.projectInfo = parent.vmd.projectInfo;\nvmd.workspace = parent.vmd.workspace;\n\nfunction MyViewport_afterrender(sender) {\n    try {\n        if (typeof parent.xds != \"undefined\") {\n            //加载样式\n            var css = [];\n            css.push(vmd.virtualPath + \"/lib/ext-3.4/resources/css/ext-all.css\");\n            css.push(vmd.virtualPath + \"/css/common.css\");\n            css.push(vmd.virtualPath + \"/design/css/designer.css\");\n            css.push(vmd.virtualPath + \"/design/css/icons.css\");\n            css.push(vmd.virtualPath + \"/css/shortcut.css\");\n            css.push(vmd.virtualPath + \"/design/css/report.css\");\n            css.push(vmd.virtualPath + \"/lib/handsontable/handsontable.min.css\");\n            LazyLoad.css(css, function() {})\n            vmd._testextmode = true;\n            //动态加载js创建嵌套主体\n            $LAB\n                .script(vmd.virtualPath + \"/design/js/ide.js\")\n                .script(vmd.virtualPath + \"/design/js/ide-ext.js\")\n                .script(vmd.virtualPath + \"/lib/handsontable/handsontable.min.js\").wait()\n                .script(vmd.virtualPath + \"/design/js/report.js\")\n                .script(vmd.virtualPath + \"/report/js/gridcellinfo.js\")\n                .script(vmd.virtualPath + \"/report/js/gridcellinfo_ext.js\")\n                .script(vmd.virtualPath + \"/report/js/reportInfo.js\")\n                .script(vmd.virtualPath + \"/lib/ace/ace.js\")\n                .script(vmd.virtualPath + \"/lib/ace/mode-base.js\")\n                .script(vmd.virtualPath + \"/lib/ace/theme-xcode.js\")\n                .script(vmd.virtualPath + \"/lib/ace/ext-language_tools.js\")\n                .script(vmd.virtualPath + \"/lib/handsontable/handsontable.min.js\")\n                .script(vmd.virtualPath + \"/lib/express/complete.js\")\n                .script(vmd.virtualPath + \"/lib/express/handsontable_checkExp.js\")\n                .script(vmd.virtualPath + \"/design/js/html2canvas.min.js\")\n\n                .wait(function() {\n                    //数据集对象构造\n                    var pdsnode = parent.xds.vmd.getRootNode('dataset').component.getInternals(true);\n                    var dsInfo = {\n                        components: [pdsnode]\n                    }\n                    xds.inspector = new xds.Inspector();\n                    xds.inspector.un('contextmenu',xds.inspector.onNodeContext)\n                    panel4.add(xds.inspector)\n                    panel4.doLayout()\n                    var a = new xds.Project(dsInfo);\n                    a.open();\n                    Ext.Loader.setConfig({\n                        enable:true,\n                        paths:{\n                            'ide':'/design'\n                        }\n                    })\n                    Ext.require('ide.ext.Report', function() {\n                        //嵌套表主设计窗体\n                        report = new vmd.comp.DesignerReport({\n                            isNes: true,\n                            iinfo:  Ext.decode(saveInfo)\n                        });\n                        //构造报表设计模式下的参数\n                        report.viewerNode = {}\n                        panel2.add(report);\n                        try {\n                            panel2.doLayout();\n                            if (!xds.eastlayout) xds.eastlayout = {};\n                            xds.eastlayout.reportInst = hwContentProperty;\n                            //如果有数据，解析数据展示\n                            report.grid.loadWebModelOnClould(Ext.decode(saveInfo), report.grid);\n                            page.ori = saveInfo;\n                        } catch (ex) {\n                            debugger\n                        }\n\n                    })\n\n\n                })\n        }\n    } catch (ex) {\n        debugger\n    }\n\n}\n\nfunction button_click(sender, e) {\n    var saveInfo = report.grid.saveRptInfo();\n    parent.nestedWin.displayNested(true, saveInfo);\n    parent.nestedWin.hide()\n}\n\nfunction panel5_afterrender(sender) {\n\n}\n\nfunction button1_click(sender, e) {\n    parent.nestedWin.displayNested(true,  Ext.decode(page.ori))\n    parent.nestedWin.hide()\n}\n\nfunction panel2_afterrender(sender) {\n\n}","vmdcss":"body ::-webkit-scrollbar {\r\n    width: 12px;\r\n    height: 12px;\r\n}\r\n\r\nbody ::-webkit-scrollbar-track {\r\n    background: whiteSmoke;\r\n    -webkit-box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nbody ::-webkit-scrollbar-thumb {\r\n    background: #c5c5c5;\r\n    border-radius: 10px;\r\n    border: whiteSmoke solid 3px;\r\n}\r\n\r\nbody ::-webkit-scrollbar-thumb:hover {\r\n    background: #b5b5b5;\r\n}","vmdprops":"\"\"","type":"module","vmdcmpdeps":[],"vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"project.config.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}