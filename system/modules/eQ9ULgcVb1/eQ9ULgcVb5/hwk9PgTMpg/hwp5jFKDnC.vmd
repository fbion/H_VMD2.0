{"vmdversion":"vmd2.0.4.190810","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"cls\":\"scroller\",\"afterrender\":\"MyViewport_afterrender\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"fit\",\"width\":663,\"height\":528},\"cn\":[{\"cid\":\"grid\",\"id\":\"MyGrid1\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"\",\"width\":580,\"height\":\"\",\"style\":\"/*border: 1px solid #ccc*/\",\"beforerender\":\"MyGrid1_beforerender\",\"hideHeaders\":false,\"region\":\"east\",\"enableHdMenu\":false,\"border\":true,\"cls\":\"bbb\",\"disabled\":false},\"cn\":[{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":80,\"header\":\"列名\",\"align\":\"center\",\"dataIndex\":\"cname\",\"menuDisabled\":true},\"name\":\"cname\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":80,\"header\":\"字段名\",\"align\":\"center\",\"dataIndex\":\"name\",\"menuDisabled\":true},\"name\":\"name\"},{\"cid\":\"templatecolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":80,\"tpl\":\"<input type=\\\"text\\\" style=\\\"width:50px\\\" value=\\\"\\\" {[values.rowWidth?values.rowWidth:'100']} />\",\"align\":\"center\",\"dataIndex\":\"rowWidth\",\"header\":\"行宽\",\"hidden\":true},\"name\":\"rowWidth\"},{\"cid\":\"templatecolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":40,\"header\":\"隐藏\",\"align\":\"center\",\"dataIndex\":\"rowHide\",\"tpl\":\"<input type=\\\"checkbox\\\" checked=\\\"\\\" {[values.rowHide?'checked':'']} />\",\"hidden\":true},\"name\":\"rowHide\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":80,\"header\":\"数据类型\",\"align\":\"center\",\"dataIndex\":\"type\",\"menuDisabled\":true},\"name\":\"type\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":80,\"header\":\"字段宽度\",\"align\":\"center\",\"dataIndex\":\"length\",\"menuDisabled\":true},\"name\":\"length\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":80,\"header\":\"单位\",\"align\":\"center\",\"menuDisabled\":true,\"hidden\":false,\"dataIndex\":\"unit\"},\"name\":\"unit\"},{\"cid\":\"templatecolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":40,\"tpl\":\"<input type=\\\"checkbox\\\" disabled=\\\"\\\" {[values.primary?'checked':'']} />\",\"dataIndex\":\"primary\",\"header\":\"主键\",\"align\":\"center\"},\"name\":\"primary\"},{\"cid\":\"templatecolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":60,\"dataIndex\":\"nullable\",\"align\":\"center\",\"tpl\":\"<input type=\\\"checkbox\\\" disabled=\\\"\\\" {[values.nullable?'checked':'']} />\",\"header\":\"可为空\"},\"name\":\"nullable\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"width\":80,\"header\":\"小数位数\",\"align\":\"center\",\"dataIndex\":\"precision\",\"menuDisabled\":true},\"name\":\"precision\"}]}]},{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{\"align\":\"middle\",\"pack\":\"end\"},\"userConfig\":{\"region\":\"south\",\"layout\":\"hbox\",\"border\":false,\"height\":40},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"shift连选操作，ctrl单选操作\",\"margins\":\"0 80 0 0\"}},{\"cid\":\"vmdButton\",\"id\":\"button4\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"0 10 0 0 \",\"text\":\"确定\",\"width\":80,\"style\":\"color: #fff;    background-color: #50bfff;    border-color: #50bfff;\",\"click\":\"button4_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button8\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"0 10 0 0\",\"text\":\"重置\",\"width\":80,\"type\":\"danger\",\"click\":\"button8_click\",\"hidden\":true}},{\"cid\":\"vmdButton\",\"id\":\"button5\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"0 10 0 0\",\"text\":\"取消\",\"width\":80,\"click\":\"button5_click\"}}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"var page = this;\r\nvar standby = [];\r\n//为所有字段添加中文(英文)名称\r\nvar data = parent.newWin.inputdbconfig.fields;\r\ndebugger\r\nfor (var i = 0; i < data.length; i++) {\r\n    data[i].mixName = (data[i].dname||data[i].cname) + \"(\" + data[i].name + \")\"\r\n    data[i].cname = (data[i].dname||data[i].cname) \r\n    data[i].unit = (data[i].dunit||data[i].unit) \r\n}\r\n//已选字段\r\nvar sel = parent.newWin.params.inst.settings.fields;\r\n//去除已选字段\r\nvar tmpNum = 0;\r\n\r\nfor (var i = 0; i < data.length; i++) {\r\n    var flag = true;\r\n    for (var n = 0; n < sel.length; n++) {\r\n        if (data[i].name == sel[n].dictionary.name) {\r\n            flag = false;\r\n            break\r\n        }\r\n    }\r\n    if (flag) {\r\n        standby.push(data[i]);\r\n    }\r\n}\r\nvar store = new Ext.data.JsonStore({\r\n    proxy: new Ext.data.MemoryProxy(),\r\n    fields: ['cname', 'length', 'name', 'nullable', 'precision', 'primary', 'type', 'mixName',\r\n        'rowHide', 'rowWidth', 'unit'\r\n    ]\r\n});\r\nstore.loadData(standby);\r\n\r\n//绑定数据集\r\nfunction MyGrid1_beforerender(sender) {\r\n    sender.store = store;\r\n}\r\n\r\nfunction button8_click(sender, e) {\r\n    //重置按钮\r\n    store.loadData(data)\r\n}\r\n\r\nfunction MyColumn5_beforerender(sender) {\r\n    sender.readOnly = true\r\n}\r\n\r\nfunction button4_click(sender, e) {\r\n    debugger\r\n    var temp = [];\r\n    var group = MyGrid1.getSelectionModel().selections.items;\r\n    for (var i = 0; i < group.length; i++) {\r\n        temp.push(group[i].data)\r\n    }\r\n    parent.newWin.getSelectedFields(temp)\r\n}\r\n\r\nfunction button5_click(sender, e) {\r\n    parent.newWin.close()\r\n}\r\n\r\nfunction MyViewport_afterrender(sender) {\r\n\r\n}","vmdcss":".aaa .x-grid3-row{border:0;}\n.aaa .x-grid3-hd-row td {border-right:0;}\n.bbb .x-grid3-hd-row td {border-right:0;}\n\n.scroller ::-webkit-scrollbar {\n\t\t    width:12px;\n\t\t    height:12px;\n}\n.scroller ::-webkit-scrollbar-track {\n\tbackground:whiteSmoke;\n\t-webkit-box-shadow:inset 0 0 4px rgba(0,0,0,0.1);\t\t\n}\n.scroller ::-webkit-scrollbar-thumb {\n\tbackground:#c5c5c5;\n\tborder-radius:10px;\n\tborder:whiteSmoke solid 3px;\t\t\n}\n.scroller ::-webkit-scrollbar-thumb:hover {\n\tbackground:#b5b5b5;\n}","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"project.config.js\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"resjs\",\"id\":\"config.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}