{"vmdversion":"vmd2.0.5.191130","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MainViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"cls\":\"designer-input\",\"afterrender\":\"MainViewport_afterrender\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"x\":80,\"y\":90,\"border\":false,\"header\":false,\"layout\":\"fit\",\"region\":\"center\"},\"cn\":[{\"cid\":\"vmd.ux.FictSettings\",\"id\":\"hwFictSettings\",\"layoutConfig\":{},\"userConfig\":{\"afterrender\":\"hwFictSettings_afterrender\"}}]},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"south\",\"header\":false,\"border\":false,\"layout\":\"border\",\"height\":45,\"bodyStyle\":\"border-top:1px solid #ddd;\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{\"align\":\"middle\"},\"userConfig\":{\"region\":\"center\",\"border\":false,\"layout\":\"hbox\"},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button2\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"当前字段向另一类型相同字段应用\",\"click\":\"button2_click\",\"margins\":\"0 0 0 5\",\"type\":\"text\",\"beforerender\":\"button2_beforerender\",\"hidden\":true}}]},{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{\"align\":\"middle\"},\"userConfig\":{\"region\":\"east\",\"layout\":\"hbox\",\"width\":150,\"border\":false},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"type\":\"primary\",\"text\":\"确定\",\"click\":\"button_click\",\"width\":\"\",\"hidden\":false}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"type\":\"(none)\",\"margins\":\"0 20 0 10\",\"text\":\"关闭\",\"click\":\"button1_click\",\"hidden\":false,\"width\":\"\"}}]}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"// var util = new ide.ext.DataInputUtils(page, )\r\nvar page = this;\r\npage.type = parent.settingWin && parent.settingWin.params.type;\r\n\r\nfunction button_click(sender, e) {\r\n    parent.settingWin.setBack(hwFictSettings.controller, true)\r\n}\r\n\r\nfunction button1_click(sender, e) {\r\n    parent.settingWin.setBack(hwFictSettings.controller, false)\r\n}\r\n\r\nfunction button2_click(sender, e) {\r\n    var comp = parent.xds.eastlayout.ContentFrame.controller.comp;\r\n    var type = page.type;\r\n    var base = getBase(comp, type)\r\n    if (base) {\r\n        var component = getComponent(base.fieldsConfig.type);\r\n        if (component) {\r\n            changeValue(comp, base, component, type)\r\n        }\r\n    }\r\n}\r\n\r\nfunction changeValue(comp, base, component, type) {\r\n    var data = base.fieldsConfig.serialize();\r\n    component.setValue(data, true)\r\n    //true 标识forcopy，不操作事件\r\n    if (type == 'grid') {\r\n        comp.form.settings.fields[page.no].fieldsConfig = component;\r\n    } else {\r\n        comp.grid.settings.fields[page.no].fieldsConfig = component;\r\n    }\r\n}\r\n\r\nfunction getComponent(type) {\r\n    var componet;\r\n    switch (type) {\r\n        case 'text':\r\n            componet = new vmd.ux.inputTextProperty.Controller();\r\n            break;\r\n        case 'number':\r\n            componet = new vmd.ux.inputNumberProperty.Controller();\r\n            break;\r\n        case 'combo':\r\n            componet = new vmd.ux.inputComboProperty.Controller();\r\n            break;\r\n        case 'comboTree':\r\n            componet = new vmd.ux.inputComboTreeProperty.Controller();\r\n            break;\r\n        case 'comboGrid':\r\n            componet = new vmd.ux.inputComboGridProperty.Controller();\r\n            break;\r\n        case 'radioButton':\r\n            componet = new vmd.ux.inputRadioButtonProperty.Controller();\r\n            break;\r\n        case 'checkbox':\r\n            componet = new vmd.ux.inputCheckBoxProperty.Controller();\r\n            break;\r\n        case 'richText':\r\n            componet = new vmd.ux.inputRichTextProperty.Controller();\r\n            break;\r\n        case 'date':\r\n            componet = new vmd.ux.inputDateProperty.Controller();\r\n            break; \r\n        case 'exp':\r\n            componet = new vmd.ux.inputExpProperty.Controller();\r\n            break;\r\n    }\r\n    return componet;\r\n}\r\n\r\nfunction getBase(comp, type) {\r\n    if (type == 'grid') {\r\n        for (var i = 0; i < comp.form.settings.fields.length; i++) {\r\n            if (comp.grid.settings.fields[comp.grid.activeNo].dictionary.name == comp.form.settings.fields[i].dictionary.name) {\r\n                page.no = i;\r\n                return comp.grid.settings.fields[comp.grid.activeNo];\r\n            }\r\n        }\r\n    } else {\r\n        for (var i = 0; i < comp.grid.settings.fields.length; i++) {\r\n            if (comp.form.settings.fields[comp.form.activeNo].dictionary.name == comp.grid.settings.fields[i].dictionary.name) {\r\n                page.no = i;\r\n                return comp.form.settings.fields[comp.form.activeNo];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction button2_beforerender(sender) {\r\n    if (page.type == 'grid') {\r\n        button2.text = '当前字段设置应用于自由格式'\r\n    } else {\r\n        button2.text = '当前字段设置应用于网格格式'\r\n    }\r\n}\r\n\r\nfunction MainViewport_afterrender(sender) {\r\n\r\n}\r\n\r\nfunction hwFictSettings_afterrender(sender){\r\n\r\n}","vmdcss":".designer-input ::-webkit-scrollbar {\r\n\t\t    width:12px;\r\n\t\t    height:12px;\r\n}\r\n.designer-input ::-webkit-scrollbar-track {\r\n\tbackground:whiteSmoke;\r\n\t-webkit-box-shadow:inset 0 0 4px rgba(0,0,0,0.1);\t\t\r\n}\r\n.designer-input ::-webkit-scrollbar-thumb {\r\n\tbackground:#c5c5c5;\r\n\tborder-radius:10px;\r\n\tborder:whiteSmoke solid 3px;\t\t\r\n}\r\n.designer-input ::-webkit-scrollbar-thumb:hover {\r\n\tbackground:#b5b5b5;\r\n}","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"project.config.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}