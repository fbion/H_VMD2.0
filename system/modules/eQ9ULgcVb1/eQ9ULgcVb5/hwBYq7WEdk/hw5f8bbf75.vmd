{"vmdversion":"2.0.4.190627","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MainViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"autoScroll\":true,\"afterrender\":\"MainViewport_afterrender\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs\",\"layoutConfig\":{},\"userConfig\":{\"x\":170,\"y\":120,\"activeTab\":0,\"region\":\"center\",\"margins\":\"10 20 10 20\",\"border\":false,\"unstyled\":false,\"collapsible\":false,\"collapseMode\":\"standard\",\"cls\":\"aaaaa\",\"tabchange\":\"MyTabs_tabchange\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"开发环境\",\"layout\":\"border\",\"border\":false,\"bodyStyle\":\"border-top: 0px;\",\"beforerender\":\"panel_beforerender\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs2\",\"layoutConfig\":{},\"userConfig\":{\"activeTab\":0,\"region\":\"center\",\"margins\":\"5 10 5 10\",\"cls\":\"bbbbb\",\"bodyStyle\":\"border-top: 0px;\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel5\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"微服务配置\",\"border\":false,\"layout\":\"fit\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div10\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"style\":\"border-top: 0px;    font-size:14px;\",\"layout\":\"absolute\",\"height\":338,\"border\":false},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"保存\",\"x\":340,\"y\":340,\"type\":\"primary\",\"style\":\"font-size:14px;\",\"size\":\"large\",\"click\":\"button_click\"}},{\"cid\":\"label\",\"id\":\"label6\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":20,\"height\":20,\"text\":\"数据服务：\"}},{\"cid\":\"label\",\"id\":\"label7\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":60,\"text\":\"流程中心：\"}},{\"cid\":\"label\",\"id\":\"label8\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":100,\"text\":\"消息中心：\"}},{\"cid\":\"label\",\"id\":\"label9\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":140,\"text\":\"待办中心：\"}},{\"cid\":\"label\",\"id\":\"label10\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":180,\"text\":\"认证中心：\"}},{\"cid\":\"label\",\"id\":\"label12\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":220,\"text\":\"文档中心：\"}},{\"cid\":\"label\",\"id\":\"label13\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":260,\"height\":20,\"text\":\"报表中心：\"}},{\"cid\":\"label\",\"id\":\"label14\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":300,\"text\":\"日志中心：\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_dasserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":20,\"width\":310,\"id\":\"txt_dev_dasserver\",\"afterrender\":\"txt_dev_dasserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_wfserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":60,\"width\":310,\"id\":\"txt_dev_wfserver\",\"afterrender\":\"txt_dev_wfserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_msgserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":100,\"width\":310,\"id\":\"txt_dev_msgserver\",\"afterrender\":\"txt_dev_msgserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_todoserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":140,\"width\":310,\"id\":\"txt_dev_todoserver\",\"afterrender\":\"txt_dev_todoserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_authserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":180,\"width\":310,\"id\":\"txt_dev_authserver\",\"afterrender\":\"txt_dev_authserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_docserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":220,\"width\":310,\"id\":\"txt_dev_docserver\",\"afterrender\":\"txt_dev_docserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_reportserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":260,\"width\":310,\"id\":\"txt_dev_reportserver\",\"afterrender\":\"txt_dev_reportserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_dev_logserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":300,\"width\":310,\"id\":\"txt_dev_logserver\",\"afterrender\":\"txt_dev_logserver_afterrender\"}}]}]},{\"cid\":\"panel\",\"id\":\"panel6\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"资源配置\",\"border\":false,\"layout\":\"fit\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div7\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"west\",\"width\":199,\"layout\":\"border\",\"border\":false,\"style\":\"border-right: 1px solid #dddddd;    font-size: 14px\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div8\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"height\":43,\"border\":false,\"style\":\"border-bottom: 1px solid #dddddd\",\"layout\":\"hbox\"},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button5\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"添加\",\"icon\":\"icon-plus\",\"type\":\"text\",\"margins\":\"5\",\"style\":\"font-size: 14px\",\"click\":\"button5_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button8\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"编辑\",\"icon\":\"icon-edit\",\"margins\":\"5\",\"type\":\"text\",\"style\":\"font-size: 14px\",\"click\":\"button8_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button9\",\"layoutConfig\":{},\"userConfig\":{\"icon\":\"icon-minus\",\"margins\":\"5\",\"text\":\"删除\",\"type\":\"text\",\"style\":\"font-size: 14px\",\"click\":\"button9_click\"}}]},{\"cid\":\"container\",\"id\":\"div9\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"border\":false,\"layout\":\"fit\"},\"cn\":[{\"cid\":\"grid\",\"id\":\"MyGrid\",\"layoutConfig\":{},\"userConfig\":{\"border\":false,\"header\":false,\"style\":\"font-size:14px\",\"store\":\"getresourceserver\",\"beforerender\":\"MyGrid_beforerender\",\"hideHeaders\":false,\"disableHeaderClick\":true,\"enableHdMenu\":false},\"cn\":[{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"id\",\"dataIndex\":\"id\",\"hidden\":true},\"name\":\"id\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"资源名称\",\"dataIndex\":\"name\",\"align\":\"center\",\"width\":200,\"menuDisabled\":false},\"name\":\"name\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"资源地址\",\"dataIndex\":\"address\",\"width\":300,\"align\":\"center\",\"menuDisabled\":false},\"name\":\"address\"},{\"cid\":\"gridcolumn\",\"layoutConfig\":{},\"userConfig\":{\"header\":\"remark\",\"dataIndex\":\"remark\",\"hidden\":true,\"menuDisabled\":false},\"name\":\"remark\"},{\"cid\":\"templatecolumn\",\"layoutConfig\":{},\"userConfig\":{\"tpl\":\"<button class=\\\"vmd-button vmd-button--success vmd-button--small\\\" style=\\\"height:10px\\\">模块编辑</button>\",\"header\":\"操作\",\"align\":\"center\",\"hidden\":true},\"name\":\"MyColumn3\"}]}]}]}]}]}]},{\"cid\":\"panel\",\"id\":\"panel1\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"发布环境\",\"layout\":\"border\",\"autoScroll\":true,\"height\":666,\"border\":true},\"cn\":[{\"cid\":\"container\",\"id\":\"div2\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"layout\":\"border\",\"autoScroll\":true,\"border\":false,\"margins\":\"5 10 0 0\"},\"cn\":[{\"cid\":\"tabpanel\",\"id\":\"MyTabs1\",\"layoutConfig\":{},\"userConfig\":{\"activeTab\":0,\"cls\":\"bbbbb\",\"region\":\"center\",\"bodyStyle\":\"border-bottom: 0;\",\"tabchange\":\"MyTabs1_tabchange\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"panel4\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"平台配置\",\"height\":372,\"layout\":\"absolute\",\"border\":false,\"style\":\"font-size: 14px;\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":20,\"text\":\"平台服务地址：\"}},{\"cid\":\"textfield\",\"id\":\"txt_ptserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":20,\"width\":370,\"id\":\"txt_ptserver\"}},{\"cid\":\"label\",\"id\":\"label1\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":60,\"text\":\"注册子系统选择：\",\"height\":20}},{\"cid\":\"container\",\"id\":\"div5\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":90,\"width\":450,\"height\":200,\"layout\":\"fit\"},\"cn\":[{\"cid\":\"vmdTreeEx\",\"id\":\"tree\",\"layoutConfig\":{},\"userConfig\":{\"width\":478,\"textField\":\"subsysname\",\"valueField\":\"subsysid\",\"parentField\":\"parentid\",\"loadType\":\"全部加载\",\"rootValue\":\"0\",\"rootText\":\"子系统\",\"hideRoot\":true,\"beforerender\":\"tree_beforerender\",\"folderImg\":\"/system/modules/eQ9ULgcVb1/img/folderClosed.gif\",\"leafImg\":\"/system/modules/eQ9ULgcVb1/img/folderClosed.gif\"}}]},{\"cid\":\"label\",\"id\":\"label2\",\"layoutConfig\":{},\"userConfig\":{\"x\":30,\"y\":310,\"text\":\"虚拟目录：\"}},{\"cid\":\"textfield\",\"id\":\"txt_vir\",\"layoutConfig\":{},\"userConfig\":{\"x\":100,\"y\":310,\"width\":380,\"id\":\"txt_vir\"}},{\"cid\":\"vmdButton\",\"id\":\"button3\",\"layoutConfig\":{},\"userConfig\":{\"x\":130,\"y\":55,\"text\":\"重新加载\",\"type\":\"text\",\"icon\":\"icon-refresh\",\"style\":\"font-size: 14px; background-image: url() !important;\",\"width\":90,\"height\":30,\"cls\":\"ccccc\",\"click\":\"button3_click\"}}]},{\"cid\":\"panel\",\"id\":\"panel2\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"微服务配置\",\"layout\":\"absolute\",\"border\":false,\"bodyStyle\":\"font-size:14px\"},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"x\":360,\"y\":10,\"text\":\"从平台提取\",\"type\":\"primary\"}},{\"cid\":\"label\",\"id\":\"label15\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":40,\"text\":\"数据服务：\"}},{\"cid\":\"label\",\"id\":\"label16\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":80,\"text\":\"流程中心：\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_dasserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":40,\"width\":310,\"id\":\"txt_pub_dasserver\",\"afterrender\":\"txt_pub_dasserver_afterrender\"}},{\"cid\":\"label\",\"id\":\"label17\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":120,\"text\":\"消息中心：\"}},{\"cid\":\"label\",\"id\":\"label18\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":160,\"text\":\"待办中心：\"}},{\"cid\":\"label\",\"id\":\"label19\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":200,\"text\":\"认证中心：\"}},{\"cid\":\"label\",\"id\":\"label20\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":240,\"text\":\"文档中心：\"}},{\"cid\":\"label\",\"id\":\"label21\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":280,\"text\":\"报表中心：\"}},{\"cid\":\"label\",\"id\":\"label22\",\"layoutConfig\":{},\"userConfig\":{\"x\":20,\"y\":320,\"text\":\"日志中心：\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_wfserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":80,\"width\":310,\"id\":\"txt_pub_wfserver\",\"afterrender\":\"txt_pub_wfserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_msgserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":120,\"width\":310,\"id\":\"txt_pub_msgserver\",\"afterrender\":\"txt_pub_msgserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_todoserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":160,\"width\":310,\"id\":\"txt_pub_todoserver\",\"afterrender\":\"txt_pub_todoserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_authserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":200,\"width\":310,\"id\":\"txt_pub_authserver\",\"afterrender\":\"txt_pub_authserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_docserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":240,\"width\":310,\"id\":\"txt_pub_docserver\",\"afterrender\":\"txt_pub_docserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_reportserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":280,\"width\":310,\"id\":\"txt_pub_reportserver\",\"afterrender\":\"txt_pub_reportserver_afterrender\"}},{\"cid\":\"textfield\",\"id\":\"txt_pub_logserver\",\"layoutConfig\":{},\"userConfig\":{\"x\":90,\"y\":320,\"width\":310,\"id\":\"txt_pub_logserver\",\"afterrender\":\"txt_pub_logserver_afterrender\"}}]},{\"cid\":\"panel\",\"id\":\"panel3\",\"layoutConfig\":{},\"userConfig\":{\"title\":\"资源配置\",\"layout\":\"fit\",\"border\":false,\"autoScroll\":true,\"style\":\"overflow-x: hidden\",\"bodyStyle\":\"overflow-x: hidden\"},\"cn\":[{\"cid\":\"container\",\"id\":\"hwDiv\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"auto\",\"style\":\"overflow-x: hidden\"},\"cn\":[{\"cid\":\"vmd.ux.PublishResource\",\"id\":\"PublishResource1\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"10\"}},{\"cid\":\"vmd.ux.PublishResource\",\"id\":\"PublishResource2\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"10\"}},{\"cid\":\"vmd.ux.PublishResource\",\"id\":\"PublishResource\",\"layoutConfig\":{},\"userConfig\":{\"margins\":\"10\",\"style\":\"font-size:14px;margin: 10px\"}}]}]}]},{\"cid\":\"container\",\"id\":\"div13\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"height\":34,\"layout\":\"absolute\",\"style\":\"background-color: #d9e8fb\"},\"cn\":[{\"cid\":\"label\",\"id\":\"label11\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"测试发布配置   发布环境配置\",\"height\":20,\"style\":\"font-size: 14px;    font-weight: 600\",\"x\":10,\"y\":5}}]}]},{\"cid\":\"container\",\"id\":\"div3\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"west\",\"width\":200,\"layout\":\"border\",\"margins\":\"5 5 0 10\",\"style\":\"border-bottom:0px;\"},\"cn\":[{\"cid\":\"container\",\"id\":\"div\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"north\",\"height\":34,\"border\":false,\"layout\":\"hbox\",\"style\":\"border-bottom: 1px solid #dddddd;\"},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button2\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"添加\",\"type\":\"text\",\"margins\":\"5 0 0 10\",\"icon\":\"icon-plus\",\"style\":\"font-size: 14px;\",\"click\":\"button2_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button6\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"编辑\",\"style\":\"font-size: 14px;\",\"margins\":\"5 0 0 10\",\"type\":\"text\",\"icon\":\"icon-edit\",\"click\":\"button6_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button4\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"删除\",\"icon\":\"icon-minus\",\"margins\":\"5 0 0 10\",\"type\":\"text\",\"style\":\"font-size: 14px;\",\"click\":\"button4_click\"}}]},{\"cid\":\"container\",\"id\":\"div4\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"border\":false,\"layout\":\"fit\",\"style\":\"font-size: 14px;\"},\"cn\":[{\"cid\":\"vmdDataView\",\"id\":\"hwDataView\",\"layoutConfig\":{},\"userConfig\":{\"tpl\":\"<ul>\\n    <tpl for=\\\".\\\">\\n        <li class='info serverlist-info'>{name}</li>\\n    </tpl>\\n</ul>\",\"data\":\"var data = [{\\n    \\\"name\\\": \\\"Border Layout\\\"\\n}, {\\n    \\\"name\\\": \\\"layout-accordion.gif\\\"\\n}];\\nreturn data;\",\"store\":\"pubservers\",\"click\":\"hwDataView_click\",\"afterrender\":\"hwDataView_afterrender\"}}]}]},{\"cid\":\"container\",\"id\":\"div1\",\"layoutConfig\":{\"align\":\"middle\",\"pack\":\"end\"},\"userConfig\":{\"region\":\"south\",\"border\":true,\"layout\":\"hbox\",\"height\":49,\"margins\":\"0 10 5 10\"},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"button7\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"保存\",\"type\":\"primary\",\"x\":420,\"y\":0,\"size\":\"large\",\"height\":\"\",\"style\":\"font-size:14px;\",\"margins\":\"0 30 0 0\",\"click\":\"button7_click\"}}]}]}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"vmdJsonStore\",\"id\":\"store\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"vmdJsonStore\",\"storeConfig\":\"{\\\"id\\\":\\\"mpB2MEOdnZ\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"CDEServcie/project/projectconfig/devservers\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"项目开发环境的服务配置\\\",\\\"getMethods\\\":[{\\\"id\\\":\\\"project_id\\\",\\\"value1\\\":\\\"//返回值 \\\\r\\\\n return vmd.getUrlParam(\\\\\\\"projectid\\\\\\\")||'hWlI8gBXWj'\\\",\\\"value2\\\":\\\"\\\",\\\"defaultvalue\\\":\\\"\\\"}],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"dasserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"wfserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"msgserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"todoserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"authserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"docserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"reportserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"logserver\\\",\\\"type\\\":\\\"string\\\"}]}\",\"load\":\"store_load\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"dasserver\"},\"name\":\"dasserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"wfserver\"},\"name\":\"wfserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"msgserver\"},\"name\":\"msgserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"todoserver\"},\"name\":\"todoserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"authserver\"},\"name\":\"authserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"docserver\"},\"name\":\"docserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"reportserver\"},\"name\":\"reportserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"logserver\"},\"name\":\"logserver\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"getresourceserver\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"vmdJsonStore\",\"id\":\"getresourceserver\",\"storeConfig\":\"{\\\"id\\\":\\\"bn6KEvEwwL\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"CDEServcie/project/projectconfig/devresourceservers\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"项目开发环境资源服务信息\\\",\\\"getMethods\\\":[{\\\"id\\\":\\\"id\\\",\\\"value1\\\":\\\"//返回值 \\\\r\\\\n return vmd.getUrlParam(\\\\\\\"projectid\\\\\\\")||'hWlI8gBXWj'\\\",\\\"value2\\\":\\\"\\\",\\\"defaultvalue\\\":\\\"\\\"}],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"address\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"remark\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"id\"},\"name\":\"id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"address\"},\"name\":\"address\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"remark\"},\"name\":\"remark\"}]},{\"cid\":\"vmdJsonStore\",\"id\":\"pubservers\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"vmdJsonStore\",\"id\":\"pubservers\",\"storeConfig\":\"{\\\"id\\\":\\\"mpChgtJuL5\\\",\\\"callcode\\\":\\\"vmdCode\\\",\\\"url\\\":\\\"CDEServcie/project/projectconfig/runserverconfig\\\",\\\"host\\\":\\\"\\\",\\\"isHwRest\\\":true,\\\"name\\\":\\\"项目运行环境配置\\\",\\\"getMethods\\\":[{\\\"id\\\":\\\"project_id\\\",\\\"value1\\\":\\\"//返回值 \\\\r\\\\n return vmd.getUrlParam(\\\\\\\"projectid\\\\\\\")||'hWlI8gBXWj'\\\",\\\"value2\\\":\\\"\\\",\\\"defaultvalue\\\":\\\"\\\"}],\\\"postMethods\\\":[],\\\"putMethods\\\":[],\\\"deleteMethods\\\":[],\\\"saveMethods\\\":[],\\\"fields\\\":[{\\\"name\\\":\\\"config_id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"project_id\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"type\\\",\\\"type\\\":\\\"int32\\\"},{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"ptservice\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"subsysid\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"virtualdir\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"dasserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"wfserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"msgserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"todoserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"authserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"docserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"reportserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"logserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"resourceserver\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"ppdm_guid\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"remark\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"source\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"row_changed_by\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"row_changed_date\\\",\\\"type\\\":\\\"datetime\\\"},{\\\"name\\\":\\\"row_created_by\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"row_created_date\\\",\\\"type\\\":\\\"datetime\\\"},{\\\"name\\\":\\\"row_effective_date\\\",\\\"type\\\":\\\"datetime\\\"},{\\\"name\\\":\\\"row_expiry_date\\\",\\\"type\\\":\\\"datetime\\\"},{\\\"name\\\":\\\"row_quality\\\",\\\"type\\\":\\\"string\\\"}]}\"},\"cn\":[{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"config_id\"},\"name\":\"config_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"project_id\"},\"name\":\"project_id\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"type\"},\"name\":\"type\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"name\"},\"name\":\"name\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"ptservice\"},\"name\":\"ptservice\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"subsysid\"},\"name\":\"subsysid\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"virtualdir\"},\"name\":\"virtualdir\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"dasserver\"},\"name\":\"dasserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"wfserver\"},\"name\":\"wfserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"msgserver\"},\"name\":\"msgserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"todoserver\"},\"name\":\"todoserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"authserver\"},\"name\":\"authserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"docserver\"},\"name\":\"docserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"reportserver\"},\"name\":\"reportserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"logserver\"},\"name\":\"logserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"resourceserver\"},\"name\":\"resourceserver\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"ppdm_guid\"},\"name\":\"ppdm_guid\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"remark\"},\"name\":\"remark\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"source\"},\"name\":\"source\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_changed_by\"},\"name\":\"row_changed_by\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_changed_date\"},\"name\":\"row_changed_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_created_by\"},\"name\":\"row_created_by\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_created_date\"},\"name\":\"row_created_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_effective_date\"},\"name\":\"row_effective_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_expiry_date\"},\"name\":\"row_expiry_date\"},{\"cid\":\"datafield\",\"layoutConfig\":{},\"userConfig\":{\"cid\":\"datafield\",\"name\":\"row_quality\"},\"name\":\"row_quality\"}]}]},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdsubviewport\",\"id\":\"SubView_Window\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"//定义校验规则表达式\nvar strRegex = '^(([0-9a-z_!~*().&=+$%-]+: )?[0-9a-z_!~*().&=+$%-]+@)?' //ftp的user@\n    +\n    '(([0-9]{1,3}.){3}[0-9]{1,3}' // IP形式的URL- 199.194.52.184\n    +\n    '|' // 允许IP和DOMAIN（域名）\n    +\n    '([0-9a-z_!~*()-]+.)*' // 域名- www.\n    +\n    '([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].' // 二级域名\n    +\n    '[a-z]{2,6})' // first level domain- .com or .museum\n    +\n    '(:[0-9]{1,6})?' // 端口- :80\n    +\n    '((/?)|' // a slash isn't required if there is no file name\n    +\n    \"(/[0-9a-z_!~*().;?:@&=+$,%#-]+)+/?)$\";\n\nfunction store_load(sender, records, options) {\n    if (records.length > 0) {\n        var rec = records[0].data\n        txt_dev_dasserver.setValue(rec.dasserver);\n        txt_dev_wfserver.setValue(rec.wfserver);\n        txt_dev_msgserver.setValue(rec.msgserver);\n        txt_dev_todoserver.setValue(rec.todoserver);\n        txt_dev_authserver.setValue(rec.authserver);\n        txt_dev_docserver.setValue(rec.docserver);\n        txt_dev_reportserver.setValue(rec.reportserver);\n        txt_dev_logserver.setValue(rec.logserver);\n    }\n}\n\nfunction button_click(sender, e) {\n    if (txt_dev_dasserver.activeError ||\n        txt_dev_dasserver.activeError ||\n        txt_dev_wfserver.activeError ||\n        txt_dev_msgserver.activeError ||\n        txt_dev_todoserver.activeError ||\n        txt_dev_authserver.activeError ||\n        txt_dev_docserver.activeError ||\n        txt_dev_reportserver.activeError ||\n        txt_dev_logserver.activeError\n    ) {\n        alert(\"微服务书写不规范，请核实后再保存!\")\n        return\n    }\n    hwDas.save(\"CDEServcie/project/projectconfig/devservers\", {}, {}, {\n        dasserver: txt_dev_dasserver.getValue(),\n        wfserver: txt_dev_wfserver.getValue(),\n        msgserver: txt_dev_msgserver.getValue(),\n        todoserver: txt_dev_todoserver.getValue(),\n        authserver: txt_dev_authserver.getValue(),\n        docserver: txt_dev_docserver.getValue(),\n        reportserver: txt_dev_reportserver.getValue(),\n        logserver: txt_dev_logserver.getValue(),\n        project_id: vmd.getUrlParam(\"projectid\") || 'hWlI8gBXWj'\n    }, function(result) {\n        vmd.tip('保存成功', \"success\")\n        if (parent && parent.reLoadWFandDas) {\n            parent.reLoadWFandDas()\n        }\n    }, function(msg) {\n        console.log(msg)\n    })\n}\n//添加资源中心服务地址\nwinAddResourceServer = Ext.extend(Ext.Window, {\n    xtype: \"window\",\n    title: \"添加资源中心服务地址\",\n    width: 300,\n    height: 200,\n    layout: \"form\",\n    bodyStyle: 'padding:15px',\n    labelAlign: \"left\",\n    labelWidth: 40,\n    modal: true,\n    constructor: function(callback, name, addr, remark) {\n        this.callback = callback;\n        this.valueAddr = addr;\n        this.valueName = name;\n        this.valueRemark = remark;\n        this.callParent();\n    },\n    initComponent: function() {\n        var me = this;\n        this.fbar = [{\n            text: \"确定\",\n            handler: function() {\n                //var reg = /[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#]*[\\w\\-\\@?^=%&\\/~\\+#])?:([0-9]|[1-9]\\d{1,5}|[1-5]\\d{4}|6[0-5]{2}[0-3][0-5])$/;\n                if (!new RegExp(strRegex).test(Ext.getCmp('addr').getValue())) {\n                    Ext.Msg.alert(\"提示\", \"请输入正确的服务地址(带端口)！\")\n                    return;\n                }\n                //验证资源中心是否配置正确\n                hwDas.get({\n                    host: Ext.getCmp('addr').getValue(),\n                    url: \"zyzx/zyzxtree/getServerInfo\"\n                }, {}, {}, function() {\n                    //如果包含资源中心，则保存并关闭\n                    me.callback(Ext.getCmp('name').getValue().trim(), Ext.getCmp('addr').getValue(), Ext.getCmp('remark').getValue().trim());\n                    me.close();\n                }, function() {\n                    //不包含资源中心接口，则提示\n                    Ext.Msg.alert(\"提示\", \"地址:\" + Ext.getCmp('addr').getValue() + \"不是有效的资源中心地址,请确认该地址是否包含资源中心服务接口!\")\n                    return;\n                })\n            }\n        }, {\n            text: \"取消\",\n            handler: function() {\n                me.close();\n            }\n        }];\n        this.items = [{\n            id: 'name',\n            xtype: \"textfield\",\n            fieldLabel: \"名称\",\n            anchor: \"100%\",\n            value: this.valueName\n        }, {\n            id: 'addr',\n            xtype: \"textfield\",\n            fieldLabel: \"地址\",\n            anchor: \"100%\",\n            value: this.valueAddr,\n            regex: new RegExp(strRegex),//   /[\\w\\-]+(\\.[\\w\\-]+)+([\\w\\-\\.,@?^=%&:\\/~\\+#]*[\\w\\-\\@?^=%&\\/~\\+#])?:([0-9]|[1-9]\\d{1,3}|[1-5]\\d{4}|6[0-5]{2}[0-3][0-5])$/,\n            regexText: \"输入标准的服务器地址（带端口）！\"\n        }, {\n            id: 'remark',\n            xtype: \"textfield\",\n            fieldLabel: \"说明\",\n            anchor: \"100%\",\n            value: this.valueRemark\n        }]\n        winAddResourceServer.superclass.initComponent.call(this);\n    }\n})\n\nfunction button5_click(sender, e) {\n    var addResourceServer = function(name, addr, remark) {\n        var id = vmd.util.guid();\n        var records = vmd.data.Record.create({\n            id: id,\n            address: addr,\n            name: name,\n            remark: remark\n        });\n        hwDas.save(\"CDEServcie/project/projectconfig/devresourceservers\", {}, {}, {\n                projectid: vmd.getUrlParam(\"projectid\") || 'hWlI8gBXWj',\n                id: id,\n                address: addr,\n                name: name,\n                remark: remark,\n            },\n            function(result) {\n                vmd.tip('保存成功', \"success\")\n                getresourceserver.add(records)\n            },\n            function(msg) {\n                console.log(msg)\n            })\n    }\n    var winForm = new winAddResourceServer(addResourceServer, \"\", \"\", \"\");\n    winForm.show();\n}\n//编辑模块\nfunction moduleEdit(index, record) {\n    var rec = record || getresourceserver.getAt(index)\n    if (rec) {\n        var editServer = function(name, addr, remark) {\n            var id = rec.data.id;\n            hwDas.save(\"CDEServcie/project/projectconfig/devresourceservers\", {}, {}, {\n                    projectid: vmd.getUrlParam(\"projectid\") || 'hWlI8gBXWj',\n                    id: id,\n                    address: addr,\n                    name: name,\n                    remark: remark,\n                },\n                function(result) {\n                    vmd.tip('修改成功', \"success\")\n                    rec.set(\"address\", addr)\n                    rec.set(\"name\", name)\n                    rec.set(\"remark\", remark)\n                },\n                function(msg) {\n                    console.log(msg)\n                })\n        }\n        var winForm = new winAddResourceServer(editServer, rec.data.name, rec.data.address, rec.data.remark);\n        winForm.show();\n    }\n}\nwindow.moduleEdit = moduleEdit\n//删除资源\nfunction moduleDel(index, record) {\n    var rec = record || getresourceserver.getAt(index)\n    if (rec)\n        hwDas.del(\"CDEServcie/project/projectconfig/devresourceservers\", {}, {\n            serviceaddressid: rec.data.id\n        }, function(result) {\n            vmd.tip('删除成功', \"success\")\n            getresourceserver.remove(rec)\n        }, function(msg) {\n            console.log(msg)\n        })\n}\nwindow.moduleDel = moduleDel\n\nfunction MyGrid_beforerender(sender) {\n    // this.colModel.config[4].renderer = function(value, cellmeta, record) { //可以根据行字段的某个类型进行转换设置显示值\n    //     return '<button class=\"vmd-button vmd-button--text vmd-button--small \" style=\"height:10px;\"' +\n    //         'onclick=moduleEdit(' + record.store.indexOf(record) + ')><i class=\"icon-edit-sign\"></i>编辑</button>' +\n    //         '<button class=\"vmd-button vmd-button--text vmd-button--small \" style=\"height:10px;margin-left:10px\"' +\n    //         'onclick=moduleDel(' + record.store.indexOf(record) + ')><i class=\"icon-minus\"></i>删除</button>'\n    // }\n}\n//添加资源中心服务地址\nwinAddPubServer = Ext.extend(Ext.Window, {\n    xtype: \"window\",\n    title: \"发布环境配置名称\",\n    width: 300,\n    height: 150,\n    layout: \"form\",\n    bodyStyle: 'padding:15px',\n    labelAlign: \"left\",\n    labelWidth: 40,\n    modal: true,\n    constructor: function(callback, name) {\n        this.callback = callback;\n        this.valueName = name;\n        this.callParent();\n    },\n    initComponent: function() {\n        var me = this;\n        this.fbar = [{\n            text: \"确定\",\n            handler: function() {\n                me.callback(Ext.getCmp('name').getValue());\n                me.close();\n            }\n        }, {\n            text: \"取消\",\n            handler: function() {\n                me.close();\n            }\n        }];\n        this.items = [{\n            id: 'name',\n            xtype: \"textfield\",\n            fieldLabel: \"名称\",\n            anchor: \"100%\",\n            value: this.valueName\n        }]\n        winAddResourceServer.superclass.initComponent.call(this);\n    }\n})\n\nfunction button2_click(sender, e) {\n    var addPubServer = function(name) {\n        var id = vmd.util.guid();\n        var records = vmd.data.Record.create({\n            config_id: id,\n            project_id: vmd.getUrlParam(\"projectid\") || 'hWlI8gBXWj',\n            name: name\n        });\n        hwDas.save(\"CDEServcie/project/projectconfig/runserverconfig\", {}, {}, {\n                project_id: vmd.getUrlParam(\"projectid\") || 'hWlI8gBXWj',\n                config_id: id,\n                name: name\n            },\n            function(result) {\n                vmd.tip('添加成功', \"success\")\n                pubservers.add(records)\n            },\n            function(msg) {\n                console.log(msg)\n            })\n    }\n    var winForm = new winAddPubServer(addPubServer, \"\");\n    winForm.show();\n}\n\nfunction button4_click(sender, e) {\n    if (hwDataView.getSelectionCount() > 0) {\n        var rec = hwDataView.getSelectedRecords()[0]\n        hwDas.del(\"CDEServcie/project/projectconfig/runserverconfig\", {}, {\n            config_id: rec.data.config_id\n        }, function(result) {\n            vmd.tip('删除成功', \"success\")\n            pubservers.remove(rec)\n        }, function(msg) {\n            console.log(msg)\n        })\n    }\n}\n\nfunction bindtree(nodeid) {\n    substore.loadData([])\n    if (txt_ptserver.getValue()) {\n        hwDas.get(txt_ptserver.getValue() + \"/getsubsystem\", {}, {}, function(result) {\n            substore.loadData(result.data[0].datas);\n            if (nodeid) {\n                var node = tree.getNodeById(nodeid)\n                if (node) node.select()\n            }\n        }, function(msg) {\n            console.log(msg)\n        })\n    }\n}\n\nfunction hwDataView_click(sender, index, node, e) {\n    var rec = pubservers.getAt(index)\n    if (rec) {\n        recdata = rec.data;\n        txt_ptserver.setValue(recdata.ptservice)\n        bindtree(recdata.subsysid)\n        txt_vir.setValue(recdata.virtualdir)\n        txt_pub_dasserver.setValue(recdata.dasserver);\n        txt_pub_wfserver.setValue(recdata.wfserver);\n        txt_pub_msgserver.setValue(recdata.msgserver);\n        txt_pub_todoserver.setValue(recdata.todoserver);\n        txt_pub_authserver.setValue(recdata.authserver);\n        txt_pub_docserver.setValue(recdata.docserver);\n        txt_pub_reportserver.setValue(recdata.reportserver);\n        txt_pub_logserver.setValue(recdata.logserver);\n        if (hwDiv.rendered)\n            bindresource()\n    }\n    button7.setDisabled(false)\n}\nvar comData = [{\n    subsysname: \"\",\n    subsysid: \"\",\n    parentid: \"0\"\n}]\nvar substore = new vmd.data.Store({\n    data: comData,\n    fields: ['subsysname', 'subsysid', 'parentid']\n})\n\nfunction tree_beforerender(sender) {\n    tree.store = substore\n}\n\nfunction getNewResource() {\n    if (!hwDiv.rendered) {\n        if (hwDataView.getSelectionCount() > 0) {\n            var _rec = hwDataView.getSelectedRecords()[0]\n            return _rec.data.resourceserver;\n        }\n        return \"[]\";\n    }\n    var newres = []\n    for (var i = 0; i < listPublishResourceComps.length; i++) {\n        var _resourecInfo = listPublishResourceComps[i].com.getText();\n        newres.push({\n            name: listPublishResourceComps[i].sname,\n            oldip: _resourecInfo.oldIP,\n            newip: _resourecInfo.newIP\n        })\n    }\n    return Ext.encode(newres);\n}\nwindow.getNewResource = getNewResource\n\nfunction button7_click(sender, e) {\n    if (hwDataView.getSelectionCount() > 0) {\n        var rec = hwDataView.getSelectedRecords()[0]\n        if (\n            txt_pub_dasserver.activeError ||\n            txt_pub_wfserver.activeError ||\n            txt_pub_msgserver.activeError ||\n            txt_pub_todoserver.activeError ||\n            txt_pub_authserver.activeError ||\n            txt_pub_docserver.activeError ||\n            txt_pub_reportserver.activeError ||\n            txt_pub_logserver.activeError\n        ) {\n            alert(\"微服务书写不规范，请核实后再保存!\")\n            return;\n        }\n        hwDas.save(\"CDEServcie/project/projectconfig/runserverconfig\", {}, {}, {\n                config_id: rec.data.config_id,\n                project_id: vmd.getUrlParam(\"projectid\") || 'hWlI8gBXWj',\n                ptservice: txt_ptserver.getValue().trim(),\n                subsysid: tree.getSelNodeId() || \"\",\n                virtualdir: txt_vir.getValue().trim(),\n                dasserver: txt_pub_dasserver.getValue(),\n                wfserver: txt_pub_wfserver.getValue(),\n                msgserver: txt_pub_msgserver.getValue(),\n                todoserver: txt_pub_todoserver.getValue(),\n                authserver: txt_pub_authserver.getValue(),\n                docserver: txt_pub_docserver.getValue(),\n                reportserver: txt_pub_reportserver.getValue(),\n                logserver: txt_pub_logserver.getValue(),\n                resourceserver: getNewResource()\n            },\n            function(result) {\n                vmd.tip('保存成功', \"success\")\n                rec.set(\"config_id\", rec.data.config_id)\n                rec.set(\"project_id\", vmd.getUrlParam(\"projectid\") || 'hWlI8gBXWj')\n                rec.set(\"ptservice\", txt_ptserver.getValue())\n                rec.set(\"subsysid\", tree.getSelNodeId() || \"\")\n                rec.set(\"virtualdir\", txt_vir.getValue())\n                rec.set(\"dasserver\", txt_pub_dasserver.getValue())\n                rec.set(\"wfserver\", txt_pub_wfserver.getValue())\n                rec.set(\"msgserver\", txt_pub_msgserver.getValue())\n                rec.set(\"todoserver\", txt_pub_todoserver.getValue())\n                rec.set(\"authserver\", txt_pub_authserver.getValue())\n                rec.set(\"docserver\", txt_pub_docserver.getValue())\n                rec.set(\"reportserver\", txt_pub_reportserver.getValue())\n                rec.set(\"logserver\", txt_pub_logserver.getValue())\n                rec.set(\"resourceserver\", getNewResource())\n            },\n            function(msg) {\n                console.log(msg)\n            })\n    }\n}\n\nfunction button3_click(sender, e) {\n    bindtree()\n}\nvar resourceServices = []\nvar listPublishResourceComps = []\n\nfunction bindresource() {\n    hwDiv.removeAll()\n    var resourceserver = [];\n    listPublishResourceComps = []\n    var j = 0\n    if (hwDataView.getSelectionCount() > 0) {\n        var _rec = hwDataView.getSelectedRecords()[0]\n        resourceserver = Ext.decode(_rec.data.resourceserver);\n    }\n    for (var i = 0; i < getresourceserver.getCount(); i++) {\n        var rec = getresourceserver.getAt(i);\n        (function(rec, index) {\n            hwDas.get({\n                host: getresourceserver.getAt(index).data.address,\n                url: \"zyzx/zyzxtree/getServerInfo\"\n            }, {}, {}, function(c_result) {\n                if (c_result.data && c_result.data.length > 0 && c_result.data[0].size > 0) {\n                    for (var k = 0; k < c_result.data[0].datas.length; k++) {\n                        var rname = rec.data.name + \"/\" + c_result.data[0].datas[k].name\n                        var r_name = rec.data.name + \"&&\" + c_result.data[0].datas[k].name\n                        var newip = \"\"\n                        for (var m = 0; m < resourceserver.length; m++) {\n                            if (resourceserver[m].name == r_name) newip = resourceserver[m].newip\n                        }\n                        var ipresource = new vmd.ux.PublishResource({\n                            id: \"PublishResource\" + index + \"_\" + k,\n                            anchor: \"100% \",\n                            style: \"font-size:14px;margin: 10px\"\n                        });\n                        //动态添加地址替换组件，根据有多少不同的地址进行添加\n                        hwDiv.add(ipresource)\n                        ipresource.setText(c_result.data[0].datas[k].ip, newip, rname);\n                        listPublishResourceComps.push({\n                            sname: r_name,\n                            com: ipresource\n                        })\n                    }hwDiv.doLayout()\n                }\n                j++\n            }, function() {\n                j++\n            })\n        })(rec, i)\n    }\n    var n = 0\n}\n\nfunction MyTabs_tabchange(sender, tab) {\n    if (tab.id == 'panel1' && MyTabs1.activeTab.id == 'panel3')\n        if (hwDiv.rendered) {\n            bindresource()\n        }\n}\n\nfunction MyTabs1_tabchange(sender, tab) {\n    if (hwDiv.rendered && tab.id == 'panel3') {\n        if (hwDataView.getSelectionCount() <= 0)\n            hwDiv.removeAll()\n        else\n            bindresource()\n    }\n}\n\nfunction button6_click(sender, e) {\n    var rec;\n    if (hwDataView.getSelectionCount() > 0) {\n        rec = hwDataView.getSelectedRecords()[0]\n    }\n    if (rec) {\n        var editPubServer = function(name) {\n            hwDas.edit(\"CDEServcie/project/projectconfig/runserverconfig\", {}, {}, {\n                    config_id: rec.data.config_id,\n                    name: name\n                },\n                function(result) {\n                    vmd.tip('修改成功', \"success\")\n                    rec.set(\"name\", name)\n                },\n                function(msg) {\n                    console.log(msg)\n                })\n        }\n        var winForm = new winAddPubServer(editPubServer, rec.data.name);\n        winForm.show();\n    }\n}\n\nfunction hwDataView_afterrender(sender) {\n    if (pubservers.getCount() > 0) {\n        hwDataView.selectRange(0, 0)\n        hwDataView_click(sender, 0)\n    }\n    hwDataView.on(\"containerclick\", function() {\n        substore.loadData([])\n        txt_ptserver.setValue(\"\")\n        txt_vir.setValue(\"\")\n        txt_pub_dasserver.setValue(\"\")\n        txt_pub_wfserver.setValue(\"\")\n        txt_pub_msgserver.setValue(\"\")\n        txt_pub_todoserver.setValue(\"\")\n        txt_pub_authserver.setValue(\"\")\n        txt_pub_docserver.setValue(\"\")\n        txt_pub_reportserver.setValue(\"\")\n        txt_pub_logserver.setValue(\"\")\n        hwDiv.removeAll()\n        button7.setDisabled(true)\n    })\n}\n\nfunction panel_beforerender(sender) {}\n\nfunction setRegEx(cmp) {\n    cmp.regex = new RegExp(strRegex)\n    cmp.regexText = \"输入格式如:www.hanweikeji.com:8888或192.168.1.1:8888\";\n}\n\nfunction txt_dev_dasserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_dev_wfserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_dev_msgserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_dev_todoserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_dev_authserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_dev_docserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_dev_reportserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_dev_logserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_dasserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_wfserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_msgserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_todoserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_authserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_docserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_reportserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction txt_pub_logserver_afterrender(sender) {\n    setRegEx(this)\n}\n\nfunction MainViewport_afterrender(sender) {}\n\nfunction panel3_afterrender(sender) {}\n\nfunction button8_click(sender, e) {\n    var selects = MyGrid.getSelectionModel();\n    if (selects.selections.items.length > 0) {\n        var selrow = selects.selections.items[0]\n        moduleEdit(\"\", selrow)\n    }\n\n    //记录日志信息 \n    //vmd.webBase.syslog(loginfo,logtype,operationtype,function(res){}) \n}\n\nfunction button9_click(sender, e) {\n    var selects = MyGrid.getSelectionModel();\n    if (selects.selections.items.length > 0) {\n        var selrow = selects.selections.items[0]\n        moduleDel(\"\", selrow)\n    }\n    //记录日志信息 \n    //vmd.webBase.syslog(loginfo,logtype,operationtype,function(res){}) \n}","vmdcss":".aaaaa .x-tab-strip-top .x-tab-strip-active .x-tab-right\n{\n    background-color: #42b983\n}\n.aaaaa .x-tab-strip-active span.x-tab-strip-text {\n\tcolor:white;\n    font-weight:bold;\n}\n.bbbbb .x-tab-strip-top .x-tab-strip-active .x-tab-right\n{\n    background-color: #fafafa\n}\n.bbbbb .x-tab-strip-active span.x-tab-strip-text {\n\tcolor:#409eff;\n    font-weight:bold;\n}\n\n.ccccc .icon-refresh {\n    background-image: url(\"\") !important;\n}\n\n.serverlist-info {\n    padding: 8px 17px;\n    margin: 2px;\n    line-height: 0.25em;\n    height: 5px;\n    width: 150px;\n    border-top: 5px solid transparent;\n    cursor: pointer;\n    font-size:14px;\n}\n.x-grid3-hd-row td {\n    font: normal 14px arial, tahoma, helvetica, sans-serif;\n}\n.x-grid3-row td, .x-grid3-summary-row td {\n    font: normal 14px arial, tahoma, helvetica, sans-serif;\n}","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{},\"cn\":[{\"cid\":\"resjs\",\"id\":\"project.config.js\",\"layoutConfig\":{},\"userConfig\":{}}]},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}