{"vmdversion":"2.0.3","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"fit\",\"afterrender\":\"MyViewport_afterrender\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"MyPanel\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":0,\"height\":450,\"header\":false,\"layout\":\"border\",\"border\":false},\"cn\":[{\"cid\":\"toolbar\",\"id\":\"toolbar\",\"dock\":\"bbar\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\"},\"cn\":[{\"cid\":\"tbfill\",\"id\":\"MyFill\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"style\":\"margin-right: 10px\",\"text\":\"确定\",\"width\":70,\"type\":\"primary\",\"click\":\"button_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"cls\":\"margin_right10\",\"text\":\"取消\",\"width\":70,\"click\":\"button1_click\"}}]},{\"cid\":\"panel\",\"id\":\"MyPanel1\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"west\",\"width\":165,\"title\":\"模版分类\",\"layout\":\"auto\",\"border\":true},\"cn\":[{\"cid\":\"vmdButton\",\"id\":\"layout_btn\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"布局（9）\",\"width\":163,\"size\":\"large\",\"id\":\"layout_btn\",\"type\":\"text\",\"style\":\"height: 80px\",\"cls\":\"fenlei fenlei--info\",\"overCls\":\"fenlei--over\",\"click\":\"layout_btn_click\"}},{\"cid\":\"vmdButton\",\"id\":\"report_btn\",\"layoutConfig\":{},\"userConfig\":{\"id\":\"report_btn\",\"text\":\"报表（2）\",\"width\":163,\"size\":\"large\",\"type\":\"text\",\"style\":\"height: 80px\",\"cls\":\"fenlei\",\"overCls\":\"fenlei--over\",\"click\":\"report_btn_click\"}},{\"cid\":\"vmdButton\",\"id\":\"chart_btn\",\"layoutConfig\":{},\"userConfig\":{\"text\":\"曲线（2）\",\"size\":\"large\",\"width\":165,\"type\":\"text\",\"style\":\"height: 80px\",\"cls\":\"fenlei\",\"id\":\"chart_btn\",\"overCls\":\"fenlei--over\",\"click\":\"chart_btn_click\"}}]},{\"cid\":\"panel\",\"id\":\"MyPanel2\",\"layoutConfig\":{},\"userConfig\":{\"region\":\"center\",\"title\":\"模版名称\",\"layout\":\"fit\",\"border\":false},\"cn\":[{\"cid\":\"vmdDataView\",\"id\":\"hwDataView\",\"layoutConfig\":{},\"userConfig\":{\"tpl\":\"<ul>    <tpl for=\\\".\\\">        <li class=\\\"info\\\" tplpath={tplpath}><img src=\\\"/system/img/dataview/layout/{picname}\\\" />            <h4>{desc}</h4></li>    </tpl></ul>\",\"width\":824,\"height\":465,\"afterrender\":\"hwDataView_afterrender\",\"dblclick\":\"hwDataView_dblclick\"}}]}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"var store = new Ext.data.JsonStore({\n    proxy: new Ext.data.MemoryProxy(),\n    id: 'id',\n    fields: ['tplpath', 'url', 'id', 'picname', 'name', 'desc']\n});\nvar data = [{\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hw11bf7549.vmd',\n    id: 1,\n    picname: \"border-layout.gif\",\n    name: 'Border Layout',\n    desc: '方位布局'\n}, {\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hw92bf72d6.vmd',\n    id: 2,\n    picname: \"layout-accordion.gif\",\n    name: 'Accordion Layout',\n    desc: '手风琴布局'\n}, {\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hw03da2792.vmd',\n    id: 3,\n    picname: \"layout-anchor.gif\",\n    name: 'Accordion Layout',\n    desc: '百分比布局'\n}, {\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hw86859915.vmd',\n    id: 4,\n    picname: \"layout-form.gif\",\n    name: 'Absolute Layout',\n    desc: '绝对定位布局'\n}, {\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hw20722b1d.vmd',\n    id: 5,\n    picname: \"layout-column.gif\",\n    name: 'Column Layout',\n    desc: '列布局'\n}, {\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hwb4c38f5a.vmd',\n    id: 6,\n    picname: \"layout-table.gif\",\n    name: 'Table Layout',\n    desc: '表格布局'\n}, {\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hw69ec9979.vmd',\n    id: 7,\n    picname: \"layout-column.gif\",\n    name: 'HBox Layout',\n    desc: '水平布局'\n}, {\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw21d96e2f/hwf1a90c7a.vmd',\n    id: 8,\n    picname: \"layout-vbox.gif\",\n    name: 'VBox Layout',\n    desc: '垂直布局'\n}, {\n    tplpath: '',\n    id: 9,\n    picname: \"blank.png\",\n    name: 'Blank',\n    desc: '空白绝对布局'\n}]\n\nvar reportData = [{\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw07ddcc2b/hwmfjYmx1l.vmd',\n    id: 1,\n    picname: \"report1.png\",\n    name: '',\n    desc: '无条件区模版'\n},{\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hw07ddcc2b/hwAOcagSHg.vmd',\n    id: 2,\n    picname: \"report.png\",\n    name: '',\n    desc: '带有条件区模版'\n}\n]\n\nvar chartData = [{\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hwipdLy5QL/hwwSPU741Q.vmd',\n    id: 1,\n    picname: \"chart1.png\",\n    name: '',\n    desc: '无条件区模版'\n},\n{\n    tplpath: 'modules/eQ9ULgcVb1/hw880ccc70/hwipdLy5QL/hwtbsjjqV2.vmd',\n    id: 2,\n    picname: \"chart.png\",\n    name: '',\n    desc: '带有条件区模版'\n}]\n\nvar tplData = {\n    layout: data,\n    report: reportData,\n    chart: chartData\n}\n\nvar name = getUrlParam('name'),\n    path = getUrlParam('path'),\n    id = getUrlParam('id')\n\nfunction hwDataView_afterrender(sender) {\n\n    store.loadData(data);\n    sender.setStore(store)\n}\n\nfunction MyViewport_afterrender(sender) {\n    //对左侧按钮增加统一代理处理\n    Ext.select('.fenlei').on('click', function() {\n\n        var curBtn = Ext.fly(this);\n        curBtn.parent().select('.fenlei').removeClass('fenlei--info')\n        curBtn.addClass('fenlei--info')\n\n\n    })\n    Ext.select('.fenlei').hover(function() {\n        var me = Ext.fly(this);\n        if(me.hasClass('fenlei--info')) {\n\n            me.removeClass('fenlei--over')\n        }\n\n    }, function() {\n\n\n    })\n}\n\nfunction report_btn_click(sender) {\n    store.loadData(tplData.report);\n}\n\nfunction layout_btn_click(sender) {\n    store.loadData(tplData.layout);\n}\n\nfunction getSlectedTpl(selectTpl) {\n\n    var tplpath = selectTpl[0].data.tplpath;\n    var params = {\n        path: path,\n        name: name,\n        id: id,\n        tplpath: tplpath,\n        vmdMode:'new'\n    }\n   \n    window.open('/design/default.html?' + Ext.urlEncode(params));\n    parent.closeSelMode(true)\n}\n\n\nfunction button_click(sender) {\n\n    var selectTpl = hwDataView.getSelectedRecords();\n    if(selectTpl.length == 0) {\n        Ext.Msg.alert('提示', '请选择模版！')\n        return;\n    }\n    getSlectedTpl(selectTpl)\n\n}\n\n\n\nfunction hwDataView_dblclick(sender, index, node, e) {\n   \n    var selectTpl = hwDataView.getSelectedRecords();\n    getSlectedTpl(selectTpl)\n}\n\nfunction button1_click(sender) {\n    parent.closeSelMode(false)\n}\n\nfunction chart_btn_click(sender) {\n    store.loadData(tplData.chart);\n}","vmdcss":".vmd-button{\n    \n    border-radius:0px;\n}\n\n\n.vmd-dataview ul {\n    position: relative;\n    display: block;\n    height: auto;\n    \n}\n.vmd-dataview ul li {\n    float: left;\n   cursor: pointer;\n   height: 130px;\n   margin:5px 5px 5px 10px;\n   width: 160px;\n   zoom:1;\n}\n.vmd-dataview ul li img {\n    border:1px solid #ddd;\n    /*float:left;*/\n    height: 80px;\n    margin:20px 20px 0px 20px;\n    width: 120px;\n}\n\n.vmd-dataview ul h4{\n    color: #555;\n    font-weight: bold;\n    font-size:14px;\n    margin-top:5px;\n    text-align: center\n}\n\n.vmd-dataview ul li.phone-hover {\n    background-color: #CEEBFE;\n\n}\n \n.vmd-dataview ul li.x-view-selected {\n    background-color:#CEEBFE ;\n  \n}\n\n\n.fenlei--info{\n    \n    background-color: #20a0ff;\n    border-color:#20a0ff;\n    color:#fff !important;\n}\n.fenlei--over{\n    \n    background-color: #CEEBFE;\n   \n}","vmdprops":"{\"hwDataView\":{\"tpl\":\"new Ext.XTemplate(    '<ul>',    '<tpl for=\\\".\\\">',    '<li class=\\\"phone\\\" tplpath={tplpath}>',    '<img  src=\\\"/system/img/dataview/layout/{picname}\\\" />',     '<h4>{desc}</h4>',    '</li>',    '</tpl>',    '</ul>')\"},\"hwDataView1\":{\"tpl\":\"new Ext.XTemplate(\\n    '<ul>',\\n    '<tpl for=\\\".\\\">',\\n    '<li class=\\\"phone\\\">',\\n    '<img width=\\\"64\\\" height=\\\"64\\\" src=\\\"/system/img/dataview/phones/{[values.name.replace(/ /g, \\\"-\\\")]}.png\\\" />',\\n    '<strong>{name}</strong>',\\n    '<span>{price:usMoney} ({camera} MP)</span>',\\n    '</li>',\\n    '</tpl>',\\n    '</ul>'\\n)\"}}","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}