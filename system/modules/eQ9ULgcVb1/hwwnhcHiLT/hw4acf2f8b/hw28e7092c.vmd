{"vmdversion":"2.0.3.0701","vmdlayout":"{\"components\":[{\"cid\":\"viewport\",\"id\":\"MyViewport\",\"layoutConfig\":{},\"userConfig\":{\"layout\":\"border\",\"afterrender\":\"MyViewport_afterrender\"},\"cn\":[{\"cid\":\"panel\",\"id\":\"MyPanel\",\"layoutConfig\":{},\"userConfig\":{\"x\":0,\"y\":0,\"height\":650,\"layout\":\"absolute\",\"width\":600,\"border\":false,\"header\":false,\"region\":\"west\"},\"cn\":[{\"cid\":\"label\",\"id\":\"MyLabel8\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":320,\"text\":\"路径：\"}},{\"cid\":\"textfield\",\"id\":\"MyField6\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":320,\"width\":460,\"id\":\"MyField6\",\"disabled\":true}},{\"cid\":\"vmdButton\",\"id\":\"button3\",\"layoutConfig\":{},\"userConfig\":{\"x\":470,\"y\":450,\"text\":\"模板发布\",\"type\":\"info\",\"size\":\"large\",\"click\":\"button3_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button1\",\"layoutConfig\":{},\"userConfig\":{\"x\":340,\"y\":450,\"type\":\"info\",\"text\":\"模板设计\",\"size\":\"large\",\"click\":\"button1_click\"}},{\"cid\":\"vmdButton\",\"id\":\"button\",\"layoutConfig\":{},\"userConfig\":{\"x\":240,\"y\":450,\"size\":\"large\",\"type\":\"info\",\"text\":\"保存\",\"click\":\"button_click\"}},{\"cid\":\"textarea\",\"id\":\"MyField7\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":360,\"width\":460,\"id\":\"MyField7\"}},{\"cid\":\"textfield\",\"id\":\"MyField5\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":280,\"width\":460,\"disabled\":true}},{\"cid\":\"textfield\",\"id\":\"MyField4\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":240,\"width\":460,\"disabled\":true}},{\"cid\":\"textfield\",\"id\":\"MyField3\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":200,\"width\":460,\"disabled\":true}},{\"cid\":\"textfield\",\"id\":\"MyField2\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":160,\"width\":460,\"disabled\":true}},{\"cid\":\"textfield\",\"id\":\"MyField1\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":120,\"width\":460}},{\"cid\":\"textfield\",\"id\":\"MyField\",\"layoutConfig\":{},\"userConfig\":{\"x\":110,\"y\":80,\"width\":460,\"disabled\":true}},{\"cid\":\"label\",\"id\":\"MyLabel7\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":360,\"text\":\"说明：\"}},{\"cid\":\"label\",\"id\":\"MyLabel6\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":280,\"text\":\"修改时间：\"}},{\"cid\":\"label\",\"id\":\"MyLabel5\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":240,\"text\":\"修改人：\"}},{\"cid\":\"label\",\"id\":\"MyLabel4\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":200,\"text\":\"创建时间：\"}},{\"cid\":\"label\",\"id\":\"MyLabel3\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":160,\"text\":\"创建人：\"}},{\"cid\":\"label\",\"id\":\"MyLabel2\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":120,\"text\":\"模块名称：\"}},{\"cid\":\"label\",\"id\":\"MyLabel1\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":80,\"text\":\"模块编码：\"}},{\"cid\":\"label\",\"id\":\"labelTitle\",\"layoutConfig\":{},\"userConfig\":{\"x\":40,\"y\":30,\"text\":\"模块基础信息\",\"style\":\"color: blue;    font-size: 20px;\",\"id\":\"labelTitle\"}}]},{\"cid\":\"panel\",\"id\":\"MyPanel1\",\"layoutConfig\":{},\"userConfig\":{\"x\":650,\"y\":100,\"region\":\"center\",\"header\":false,\"border\":false,\"layout\":\"anchor\"},\"cn\":[{\"cid\":\"container\",\"id\":\"MyContainer\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"90% 15%\",\"border\":false}},{\"cid\":\"container\",\"id\":\"MyContainer1\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"90% 40%\",\"style\":\"\",\"border\":false}},{\"cid\":\"container\",\"id\":\"MyContainer2\",\"layoutConfig\":{},\"userConfig\":{\"anchor\":\"90% 20%\",\"border\":false}}]}]},{\"cid\":\"vmddataset\",\"id\":\"数据集\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdvariable\",\"id\":\"变量\",\"layoutConfig\":{},\"userConfig\":{}}]}","vmdevents":"function MyViewport_afterrender(sender) {\n    if(!parent.hwTreeWorkFlow) {\n        return;\n    }\n    var eLogin = Ext.util.Cookies.get(\"ecyLogin\") || Ext.util.Cookies.get(\"EcyLogin\") || Ext.util.Cookies.get(\"hwEcyLogin\");\n    var mytree = parent.hwTreeWorkFlow;\n    var nodeId = mytree.getSelectedItemId();\n    var nodeNameSel = mytree.getSelectedItemText();\n    var objKey = \"hw\" + nodeId;\n    // var nodeItemObj = mytree.itemObj[objKey];\n    var userName = Ext.util.Cookies.get('userName');\n\n    labelTitle.setText(nodeNameSel + \"模板基础信息\");\n    MyField.setValue(nodeId); // 模块编码\n    MyField1.setValue(nodeNameSel); // 模块名称\n    MyField4.setValue(userName); // 修改人\n\n    // 获取根节点下的文件夹节点信息\n    hwDas.ajax({\n        // das: {\n        //     idedas: false\n        // },\n        url: \"http://\" + vmdSettings.workflowIp + \"/activiti-rest/service/repository/model?id=\" + nodeId + \"&info=kermit\",\n        type: 'get',\n        timeout: 5000,\n        params: {},\n        success: function(result) {\n            if(result === \"\" || !result) {\n                return;\n            }\n\n            if(result.metaInfo) {\n                // var json1 = eval('(' + result.metaInfo + ')'); \n                var jsonMeta = JSON.parse(result.metaInfo);\n                MyField2.setValue(jsonMeta.creator); // 创建人\n                MyField7.setValue(jsonMeta.description); // 说明\n            }\n\n            if(result.createTime) {\n                var dateCreate = new Date();\n                dateCreate.setTime(result.createTime);\n                MyField3.setValue(dateCreate.toLocaleString()); // 创建时间\n            }\n\n            if(result.lastUpdateTime) {\n                var dateUpdate = new Date();\n                dateUpdate.setTime(result.lastUpdateTime);\n                MyField5.setValue(dateUpdate.toLocaleString()); // 修改时间\n            }\n        },\n        error: function(msg) {\n            Ext.Msg.alert(\"提示\", \"获取模块信息失败！\", function() {})\n        }\n    })\n}\n\nfunction button_click(sender) {\n    if(parent) {\n        if(parent.saveModelInfo) {\n            var name = MyField1.getValue();\n            var description = MyField7.getValue();\n            parent.saveModelInfo(name, description);\n        }\n    }\n}\n\nfunction button1_click(sender) {\n    if(!parent.hwTreeWorkFlow) {\n        return;\n    }\n    var mytree = parent.hwTreeWorkFlow;\n    var selId = mytree.getSelectedItemId();\n    if(parent) {\n        if(parent.designTemplate) {\n            parent.designTemplate(selId);\n        }\n    }\n}\n\nfunction button3_click(sender) {\n    if(!parent.hwTreeWorkFlow) {\n        return;\n    }\n    var mytree = parent.hwTreeWorkFlow;\n    var selId = mytree.getSelectedItemId();\n    if(parent) {\n        if(parent.modelDeployment) {\n            parent.modelDeployment(selId);\n        }\n    }\n}","vmdcss":"","vmdprops":"\"\"","type":"module","vmdresource":"{\"components\":[{\"cid\":\"vmdrescsss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresjss\",\"layoutConfig\":{},\"userConfig\":{}},{\"cid\":\"vmdresimgs\",\"layoutConfig\":{},\"userConfig\":{}}]}"}